/*! ud2 - v1.0.0
 * (c) 2016 Peak(peak@udtwo.com)
 */
if("undefined"==typeof $)throw new Error("ud2库需要JQuery支持");var ud2=function(a,b){"use strict";function c(a,b){U.isObject(a)||(a={}),U.isObject(b)||(b={});for(var c in b)a[c]=b[c];return a}function d(){var a,b,d,e,f=arguments,g=f.length,h=this;if(2===g){if(d=f[0],e=f[1],U.isArray(d)&&U.isFunction(e))return a={},d.forEach(function(b){var c=h.userOptions[b];void 0===c&&(c=h.getOriginAttr(b,1)),void 0===c&&(c=h.getOriginAttr(b)),a[b]=c}),e(a),a}else if(3===g&&(a=f[0],b=f[1]||{},e=f[2],U.isObject(a)&&U.isObject(b)&&U.isFunction(e)))return a=c(a,b),e(a),a;return{}}function e(a){var b=(a.attr(n)||"").split(" "),c=[];return b.forEach(function(a){0!==a.length&&c.push(a)}),c}function f(a){var b=a.split("-"),c=1,d=b.length;if(d>1)for(;c<d;c++)b[c].length>0&&(b[c]=b[c].substr(0,1).toUpperCase()+b[c].substr(1));return b.join("")}function g(a,b,c){return U.isArray(a)&&2===a.length?a={x:a[0],y:a[1]}:U.isObject(a)?a={x:a.x||a.width||a.w,y:a.y||a.height||a.h}:U.isString(a)?(a=a.split(a.indexOf(",")>-1?",":" "),a=2===a.length?{x:a[0],y:a[1]}:{x:a[0],y:a[1]}):a=U.isNumber(a)?{x:a,y:a}:{x:0,y:0},a.x=parseInt(a.x)||b,a.y=parseInt(a.y)||c,a}function h(a){return Array.prototype.slice.call(a)}function i(a){return U.isJQuery(a)||(a=b(a)),a}var j,k=a.document,l=b(a),m=b(k),n="ud2",o="-",p=n+o,q=(" -webkit- -moz- -o- -ms- ".split(" "),a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},{date:/^(?:[12]\d{3}([\.\-\/])(?:(?:0?[13578]|1[02])\1(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\1(?:0?[1-9]|[12]\d|30)|0?2\1(?:0?[1-9]|1\d|2[0-8]))$|[12]\d(?:[02468][048]|[13579][26])([\.\-\/])(?:(?:0?[13578]|1[02])\2(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\2(?:0?[1-9]|[12]\d|30)|0?2\2(?:0?[1-9]|1\d|2[0-9])))$/,mail:/^([\w-\.]+)@(([\w-]+\.)+)([a-zA-Z]{2,4})$/,phone:/^[1][3458][0-9]{9}$/,identityCard:/^(11|12|13|14|15|21|22|23|31|32|33|34|35|36|37|41|42|43|44|45|46|50|51|52|53|54|61|62|63|64|65|71|81|82|97|98|99)[0-9]{4}((?:19|20)?(?:[0-9]{2}(?:(?:0[13578]|1[12])(?:0[1-9]|[12][0-9]|3[01])|(?:0[469]|11)(?:0[1-9]|[12][0-9]|30)|02(?:0[1-9]|1[0-9]|2[0-8]))|(?:[02468][048]|[13579][26])0229)[0-9]{3}[\dxX])$/,loginName:/^[a-zA-Z][a-zA-Z0-9]+$/}),r=Date.now||function(){return(new Date).getTime()},s=a.navigator.pointerEnabled,t=s?"pointerdown":"MSPointerDown",u=s?"pointermove":"MSPointerMove",v=s?"pointerup":"MSPointerUp",w=s?"pointercancel":"MSPointerCancel",x="touchstart",y="touchmove",z="touchend",A="touchcancel",B="mousedown",C="mousemove",D="mouseup",E="mouseout",F="mouseenter",G="mouseleave",H="focus",I="click",J=[t,x,B].join(" "),K={A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT:37,UP:38,RIGHT:39,DOWN:40,KEY0:48,KEY1:49,KEY2:50,KEY3:51,KEY4:52,KEY5:53,KEY6:54,KEY7:55,KEY8:56,KEY9:57,"`":192,BACK:8,NUM0:96,NUM1:97,NUM2:98,NUM3:99,NUM4:100,NUM5:101,NUM6:102,NUM7:103,NUM8:104,NUM9:105,ENTER:13,"NUM+":107,"NUM-":109,"NUM*":106,"NUM/":111,"-":189,"=":187,",":188,".":190,"/":191,"\\":220,SHIFT:16,CTRL:17,ALT:18,CAPS:20,TAB:9,"[":219,"]":221,";":186,"'":222,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},L='[type="checkbox"]',M='[type="hidden"]',N=b("<div />"),O=b("<a />"),P=function(){},Q=/(^[a-z0-9]{1,}|[A-Z][a-z0-9]{0,})/g,R=[],S=!1,T={pageReady:b.Callbacks(),pageResize:b.Callbacks(),ctrlClose:b.Callbacks(),keyDown:b.Callbacks(),keyUp:b.Callbacks()},U=function(){function a(a){return function(b){return{}.toString.call(b)==="[object "+a+"]"}}function c(b){return a("Object")(b)}function d(b){return a("Function")(b)}function e(b){return a("String")(b)}function f(b){return a("Number")(b)}function g(a){return/^([1-9]\d+|[0-9])$/.test(a)}function h(a){return a instanceof b}function i(a){return Array.isArray(a)}return{isType:a,isObject:c,isFunction:d,isString:e,isNumber:f,isNaturalNumber:g,isJQuery:h,isArray:i}}(),V=(function(){function a(a){return isNaturalNumber(a)?+a:0}return{toNaturalNumber:a}}(),function(){function a(a){return U.isString(a)?a:""}function b(b,c,d){return b=a(b),c=c||Number.MAX_VALUE,"undefined"!=typeof d?(d<c&&(d=c),b.length<=d&&b.length>=c):b.length===c}function c(b,c){return b=a(b),c=c||0,b.length>=c}function d(b,c){return b=a(b),c=c||Number.MAX_VALUE,b.length<=c}function e(b){return b=a(b),q.phone.test(b)}function f(b){return b=a(b),q.mail.test(b)}function g(b){return b=a(b),q.date.test(b)}function h(b){return b=a(b),q.loginName.test(b)}function i(b){if(b=a(b),b=b.toUpperCase(),q.identityCard.test(b)){if(18===b.length){for(var c=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],d=["1","0","X","9","8","7","6","5","4","3","2"],e=b.split(""),f=0,g=0;g<17;g++)f+=e[g]*c[g];var h=d[f%11];if(h!==e[17])return!1}return!0}return!1}return{isLength:b,isMinLength:c,isMaxLength:d,isPhone:e,isMail:f,isDate:g,isLoginName:h,isIdentityCard:i}}(),function(){var b={},c=k.createElement("div"),d=a.navigator.userAgent;return b.safari=/constructor/i.test(a.HTMLElement),b.mobile=!!d.match(/mobile|mobi|mini/i),b.android=d.indexOf("Android")>-1,b.touch="ontouchstart"in a||a.DocumentTouch&&k instanceof DocumentTouch,b.pointer=s,b.msPointer=a.navigator.msPointerEnabled,b.touchAction=void 0!==c.style.touchAction||void 0!==c.style.msTouchAction||!1,b.perspective=void 0!==c.style.perspective||void 0!==c.style.msPerspective||void 0!==c.style.mozPerspective||void 0!==c.style.webkitPerspective||!1,b.transition=void 0!==c.style.transition||void 0!==c.style.msTransition||void 0!==c.style.mozTransition||void 0!==c.style.webkitTransition||void 0!==c.style.oTransition||!1,b.animation=void 0!==c.style.animation||void 0!==c.style.mozAnimation||void 0!==c.style.webkitAnimation||void 0!==c.style.oAnimation||!1,b}()),W=function(e,f){function g(a){return S.pan=a,R}function h(a){return S.tap=a,R}function k(a){return S.press=a,R}function l(a){return S.swipeLeft=a,R}function n(a){return S.swipeRight=a,R}function o(a){return S.swipeTop=a,R}function q(a){return S.swipeBottom=a,R}function s(a){return S.down=a,R}function F(a){return S.up=a,R}function G(a,b){function d(a){a&&(a.screenX&&(l.moveScreenX=a.screenX),a.screenY&&(l.moveScreenY=a.screenY),a.pageX&&(l.movePageX=a.pageX),a.pageY&&(l.movePageY=a.pageY),a.clientX&&(l.moveClientX=a.clientX),a.clientY&&(l.moveClientY=a.clientY))}function e(){return{x:l.movePageX-l.downPageX,y:l.movePageY-l.downPageY}}var f=b?b.screenX:0,g=b?b.screenY:0,h=b?b.pageX:0,i=b?b.pageY:0,j=b?b.clientX:0,k=b?b.clientY:0,l={del:!1,id:a,downScreenX:f,downScreenY:g,downPageX:h,downPageY:i,downClientX:j,downClientY:k,moveScreenX:f,moveScreenY:g,movePageX:h,movePageY:i,moveClientX:j,moveClientY:k};return c(l,{setMove:d,getMoveLength:e})}function H(b){function c(a){0===d()&&(U.id=a,U.time=r())}function d(){var a=0;for(var b in T)T[b].del||a++;return a}function e(){for(var a in T)T[a].del&&delete T[a]}function f(){if(V.mobile){var b,c=N.clone().css({position:"fixed",top:0,right:0,left:0,bottom:0,"z-index":999999999});j.append(c),c.on(x,function(a){a.stopPropagation(),a.preventDefault()}).on(I,function(d){d.stopPropagation(),d.preventDefault(),b&&a.clearTimeout(b),c.remove()}),b=a.setTimeout(function(){c.remove()},500)}}function g(a){L&&a.stopPropagation();var b=a.originalEvent,e=b.pointerId;c(e),0===d()&&(m.on(R[1],h),m.on(R[2],i),m.on(R[3],i)),T[e]&&!T[e].del||(T[e]=G(e,b),s(a,e))}function h(a){L&&a.stopPropagation(),a.preventDefault();var b=a.originalEvent,c=b.pointerId;T[c]&&(T[c].setMove(b),F(a,c))}function i(a){L&&a.stopPropagation();var b=a.originalEvent,c=b.pointerId;T[c]&&(H(a,c),T[c].del=!0,0===d()&&(m.off(R[1],h),m.off(R[2],i),m.off(R[3],i)))}function k(a){L&&a.stopPropagation();var e,f=a.type,g=a.originalEvent;if("touchstart"===f){e=g.changedTouches,0===d()&&(b.on(R[5],l),b.on(R[6],n),b.on(R[7],n)),c(e[0].identifier);for(var h=0,i=e.length;h<i;h++)T[e[h].identifier]&&!T[e[h].identifier].del||(T[e[h].identifier]=G(e[h].identifier,e[h])),s(a,e[h].identifier)}else c(0),T[0]=G(0,g),s(a,0),m.on(R[9],o),m.on(R[10],q)}function l(a){L&&a.stopPropagation(),a.preventDefault();for(var b=a.originalEvent,c=b.changedTouches,d=0,e=c.length;d<e;d++)T[c[d].identifier]&&T[c[d].identifier].setMove(c[d]),F(a,c[d].identifier)}function n(a){L&&a.stopPropagation();for(var c=a.originalEvent,e=c.changedTouches,f=0,g=e.length;f<g;f++)H(a,e[f].identifier),T[e[f].identifier].del=!0;0===d()&&(b.off(R[5],l),b.off(R[6],n),b.off(R[7],n))}function o(a){L&&a.stopPropagation(),a.stopPropagation();var b=a.originalEvent;T[0]&&(T[0].setMove(b),F(a,0))}function q(a){L&&a.stopPropagation(),T[0]&&(H(a,0),void 0!==T[0]&&T[0].del===!1&&(T[0].del=!0),m.off(R[9],o),m.off(R[10],q))}function s(a,c){W=!1;for(var d=b.parents(),e=d.length,f=0;f<e;f++)if("1"===d.eq(f).attr(p+"scroll-runing")){W=!0;break}S.down.call(b,a)}function F(a,c){var d=T[c].getMoveLength();a.preventDefault(),S.pan.call(b,d,a)}function H(a,c){var d=null,g=T[c].getMoveLength(),h={x:Math.abs(g.x),y:Math.abs(g.y)};U.id===c&&(d=new Date-U.time,U.id=null,U.time=null),d&&(h.x<Q&&h.y<Q&&(W||(d<M?(f(),S.tap.call(b,a)):S.press.call(b,a))),h.x>=Q&&h.x>=h.y&&d<O&&(g.x<0?(a.preventDefault(),S.swipeLeft.call(b,a)):(a.preventDefault(),S.swipeRight.call(b,a))),h.y>=Q&&h.y>=h.x&&d<O&&(g.y<0?(a.preventDefault(),S.swipeTop.call(b,a)):(a.preventDefault(),S.swipeBottom.call(b,a)))),S.up.call(b,a),e()}function J(a){var c=V.pointer||V.msPointer;a?(c?b.on(R[0],g):b.on(R[4]+" "+R[8],k),b.css({"-ms-touch-action":"none","touch-action":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"})):(c?b.off(R[0],g):b.off(R[4]+" "+R[8],k),b.css({"-ms-touch-action":"auto","touch-action":"auto","-webkit-user-select":"text","-moz-user-select":"text","-ms-user-select":"text","user-select":"text"}))}function K(){X||(X=!0,J(!0))}function P(){X&&(X=!1,J(!1))}var R=[t,u,v,w,x,y,z,A,B,C,D,E],T={},U={id:null,time:null},W=!1,X=!1;return function(){K()}(),{bind:K,unbind:P}}function J(){T.forEach(function(){arguments[0].bind()})}function K(){T.forEach(function(){arguments[0].unbind()})}var L,M,O,Q,R={},S=(d({stopPropagation:!1,tapMaxTime:300,swipeMaxTime:500,pointerValidLength:5},f,function(a){L=a.stopPropagation,M=a.tapMaxTime,O=a.swipeMaxTime,Q=a.pointerValidLength}),{pan:P,tap:P,press:P,swipeLeft:P,swipeRight:P,swipeTop:P,swipeBottom:P,down:P,up:P}),T=[];return function(){i(e).each(function(a,c){T.push(H(b(c)))})}(),c(R,{setPan:g,setTap:h,setPress:k,setSwipeLeft:l,setSwipeRight:n,setSwipeTop:o,setSwipeBottom:q,setDown:s,setUp:F,on:J,off:K})},X=function(a){function d(a){return l.scroll=a,k}function e(a){return l.down=a,k}function f(a){return l.up=a,k}function g(a){function b(b){b.stopPropagation(),b.preventDefault();var c=b.originalEvent,d=c.deltaY/100||c.wheelDelta/-120||(Math.abs(c.detail)>2?c.detail/3:c.detail)||0;l.scroll.call(a,d,b),d>0?l.down.call(a,b):l.up.call(a,b)}function c(){e||(e=!0,a.on(m,b))}function d(){e&&(e=!1,a.off(m,b))}var e=!1;return function(){c()}(),{bind:c,unbind:d}}function h(){n.forEach(function(){arguments[0].bind()})}function j(){n.forEach(function(){arguments[0].unbind()})}var k={},l={scroll:P,down:P,up:P},m="DOMMouseScroll mousewheel",n=[];return function(){i(a).each(function(a,c){n.push(g(b(c)))})}(),c(k,{setScroll:d,setDown:e,setUp:f,on:h,off:j})},Y=function(a){function b(a,b,c){var d=!c||c&&void 0===c.isCtrl?0:c.isCtrl?1:0,e=!c||c&&void 0===c.isAlt?0:c.isAlt?1:0,f=!c||c&&void 0===c.isShift?0:c.isShift?1:0,g=[a,d,e,f].join(m);return l[g]||(l[g]=b),k}function e(a,b,c){var d=!c||c&&void 0===c.isCtrl?0:c.isCtrl?1:0,e=!c||c&&void 0===c.isAlt?0:c.isAlt?1:0,f=!c||c&&void 0===c.isShift?0:c.isShift?1:0,g=[a,d,e,f].join(m);return l[g]&&delete l[g],k}function f(a){for(var b in l)if(b===[a.keyCode,a.ctrlKey?1:0,a.altKey?1:0,a.shiftKey?1:0].join(m)){a.preventDefault();break}}function g(a){for(var b in l)if(b===[a.keyCode,a.ctrlKey?1:0,a.altKey?1:0,a.shiftKey?1:0].join(m)){l[b]();break}}function h(){n||(n=!0,T.keyDown.add(f),T.keyUp.add(g))}function i(){n&&(n=!1,T.keyDown.remove(f),T.keyUp.remove(g))}var j,k={},l=(d({defaultOn:!0},a,function(a){j=a.defaultOn}),{}),m="＀",n=!1;return function(){j&&h()}(),c(k,{add:b,remove:e,on:h,off:i})},Z=function(e,f){function g(){return h(),s(sa.now.x,sa.now.y),ea}function h(){var a,b=0,c=0,d=0,e=0,f=0,g=0,h=0,i=0;fa.hasVertical&&(b=ha.height(),c=ga.height(),sa.h=c,sa.ih=ga.innerHeight(),sa.sh=b-c,sa.now.y<-sa.sh&&(sa.now.y=-sa.sh),e=sa.ih-2*fa.barOffset,0!==c&&(a=sa.sh/(5*sa.ih),a=1-(a>1?1:a),d=e*a,d=d<fa.barMinLength?fa.barMinLength:d,d=d>e?e:d,ta.h=d,ta.mh=e,ta.sh=e-d,ja.height(d))),fa.hasHorizontal&&(f=ha.width(),g=ga.width(),sa.w=g,sa.iw=ga.innerWidth(),sa.sw=f-g,sa.now.x<-sa.sw&&(sa.now.x=-sa.sw),i=sa.iw-2*fa.barOffset,0!==g&&(a=sa.sw/(5*sa.iw),a=1-(a>1?1:a),h=i*a,h=h<fa.barMinLength?fa.barMinLength:h,h=h>i?i:h,ta.w=h,ta.mw=i,ta.sw=i-h,ia.width(h)))}function j(){var a,b,c=ha.css("transform");return c=c.split(")")[0].split(", "),a=Math.round(+(c[12]||c[4])),b=Math.round(+(c[13]||c[5])),{x:a,y:b}}function k(a){ma!==a&&(ma=a,ga.attr(wa,a?1:0))}function l(a,b){var c=b?"sh":"sw";return 0===sa[c]||0===ta[c]?0:a/sa[c]*ta[c]}function m(a,b){var c=b?"sh":"sw";return 0===sa[c]||0===ta[c]?0:a/ta[c]*sa[c]}function n(){0===fa.barState&&(ta.timer&&a.clearTimeout(ta.timer),ia.stop().fadeIn(200),ja.stop().fadeIn(200))}function o(){0===fa.barState&&(ra||qa||ma||(ta.timer&&a.clearTimeout(ta.timer),ta.timer=a.setTimeout(function(){ia.stop().fadeOut(400),ja.stop().fadeOut(400)},800)))}function q(a,b,c,d,e,f){var g,h,i=a-b,j=Math.abs(i)/c;return d=-d,e=e||0,f=f||5e-4,g=a+j*j/(2*f)*(i<0?-1:1),h=j/f,g<d?(g=e?d-e/2.5*(j/8):d,i=Math.abs(g-a),h=i/j):g>0&&(g=e?e/2.5*(j/8):0,i=Math.abs(a)+g,h=i/j),{destination:Math.round(g),duration:h}}function s(a,b,c,d){var e,f;if(c=c||0,d=d||ka.circular,a>0&&(a=0),b>0&&(b=0),b<-sa.sh&&(b=-sa.sh),a<-sa.sw&&(a=-sa.sw),t(d),u(c),ha.css("transform","translate("+a+"px, "+b+"px)"+(V.perspective?" translateZ(0)":"")),fa.hasVertical&&ja.css("transform","translate(0, "+l(-b,1)+"px)"+(V.perspective?" translateZ(0)":"")),fa.hasHorizontal&&ia.css("transform","translate("+l(-a,0)+"px, 0)"+(V.perspective?" translateZ(0)":"")),sa.now={x:a,y:b},f=ua.length,0!==f)for(e=0;e<f;e++)ua[e].move(-a,-b,c)}function t(a){ha.css("transition-timing-function",a),ja.css("transition-timing-function",a+", ease-out, ease-out, ease-out"),ia.css("transition-timing-function",a+", ease-out, ease-out, ease-out")}function u(b){var c=parseInt(b);ha.css("transition-duration",c+"ms"),ja.css("transition-duration",c+"ms, 300ms, 300ms, 300ms"),ia.css("transition-duration",c+"ms, 300ms, 300ms, 300ms"),0!==c?(oa&&a.clearTimeout(oa),oa=a.setTimeout(function(){s(sa.now.x,sa.now.y,0),k(!1),o()},c)):(k(!1),o())}function v(){return ha}function w(a,b,c){return c=c||0,s(-a,-b,c),ea}function x(a){return void 0!==a?(na=!!a,ea):na}function y(a){return U.isObject(a)&&a.type&&a.type===va&&ua.push(a),ea}function A(a){var b;return U.isObject(a)&&a.type&&a.type===va&&(b=ua.indexOf(a),b>-1&&ua.splice(b,1)),ea}function B(){if(!na){h(),n();var a=j();s(a.x,a.y),la.moved=!1,la.start=r(),la.startMove={x:sa.now.x,y:sa.now.y},la.lastMove={x:0,y:0}}}function C(a){if(!na){var b=r(),c=a.x,d=a.y,e=Math.abs(c),f=Math.abs(d),g=c-la.lastMove.x,h=d-la.lastMove.y,i=0,j=0;n(),la.lastMove={x:c,y:d},b-la.end>300&&e<pa&&f<pa||(la.moved||(la.moved=!0),fa.hasVertical&&(j=h+sa.now.y),fa.hasHorizontal&&(i=g+sa.now.x),0===g&&0===h||s(i,j),b-la.start>=300&&(la.start=b,la.startMove.x=i,la.startMove.y=j))}}function D(){if(!na){var a=sa.now.x,b=sa.now.y,c=a,d=b,e=null,f=null,g=r()-la.start,h=0;if(la.end=r(),o(),la.moved&&fa.isSlowMovning){if(g<300){var i=0,j=0;fa.hasVertical&&(f=q(b,la.startMove.y,g,sa.sh,fa.bounce?sa.h:0),d=f.destination,j=f.duration),fa.hasHorizontal&&(e=q(a,la.startMove.x,g,sa.sw,fa.bounce?sa.w:0),c=e.destination,i=e.duration),h=Math.max(i,j)}c===a&&d===b||(n(),k(!0),s(c,d,h))}}}function E(a){var b=sa.now.x,c=sa.now.y,d=300,e=fa.mouseWheelLength;h(),"normal"===e&&(e=Math.round(sa.h)),a>0?c-=e:c+=e,c>0||c<-sa.sh?k(!1):(n(),k(!0)),s(b,c,d)}function H(){this.move=0,qa=!0,n(),b(this).css("background",fa.barColorOn)}function I(){qa=!1,o(),b(this).css("background",fa.barColor)}function J(a,b){var c=b?sa.now.x:m(-(a.x-this.move),0)+sa.now.x,d=b?m(-(a.y-this.move),1)+sa.now.y:sa.now.y;b?this.move=a.y:this.move=a.x,s(c,d)}function K(){fa.recountByResize&&T.pageResize.add(g),0===fa.barState&&ga.on(F,function(){h(),ra=!0,n()}).on([G,z].join(" "),function(){ra=!1,o()}),fa.isTouchMode&&W(ga,{stopPropagation:!0}).setDown(B).setUp(D).setPan(C),fa.isMouseWheelMode&&X(ga).setScroll(E),fa.isScrollMode&&(W(ja,{stopPropagation:!0}).setPan(function(a){J.call(this,a,1)}).setDown(H).setUp(I),W(ia,{stopPropagation:!0}).setPan(function(a){J.call(this,a,0)}).setDown(H).setUp(I))}var L,M,O,P,Q,R,S,Y,Z,$,_,aa,ba,ca,da,ea={},fa=d({recountByResize:!1,barState:0,hasHorizontal:!1,hasVertical:!0,barSize:6,barMinLength:30,barOffset:1,barColor:"rgba(0,0,0,.4)",barColorOn:"rgba(0,0,0,.6)",barBorderRadiusState:!0,mouseWheelLength:"normal",isTouchMode:!0,isMouseWheelMode:!0,isScrollMode:!1,isSlowMovning:!0},f,function(a){L=a.recountByResize,M=a.barState,O=a.barSize,P=a.barMinLength,Q=a.barOffset,R=a.barColor,S=a.barColorOn,Y=a.barBorderRadiusState,Z=a.hasHorizontal,$=a.hasVertical,_=a.isMouseWheelMode,aa=a.isTouchMode,ba=a.isScrollMode,ca=a.mouseWheelLength,da=a.isSlowMovning}),ga=i(e).eq(0),ha=N.clone().addClass(p+"scroll-wrapper"),ia=N.clone().addClass(p+"scroll-bar"),ja=N.clone().addClass(p+"scroll-bar"),ka={quadratic:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",circular:"cubic-bezier(0.1, 0.57, 0.1, 1)"},la={id:null,start:0,end:0,moved:!1,startMove:{x:0,y:0},lastMove:{x:0,y:0}},ma=!1,na=!1,oa=null,pa=5,qa=!1,ra=!1,sa={h:0,ih:0,sh:0,w:0,iw:0,sw:0,now:{x:0,y:0},isMoved:!1},ta={h:0,mh:0,sh:0,w:0,mw:0,sw:0,timer:null},ua=[],va="scroll",wa=p+"scroll-runing";return function(){"normal"===ca||U.isNaturalNumber(ca)||(ca="normal");var a=ga.contents();0===a.length?ga.append(ha):(a.wrapAll(ha),ha=ga.children("."+p+"scroll-wrapper")),ha.css("padding",ga.css("padding-top")+" "+ga.css("padding-right")+" "+ga.css("padding-bottom")+" "+ga.css("padding-left")),ga.addClass("ud2-scroll"),$&&(ga.prepend(ja),ha.css({height:"auto","min-height":"100%"})),Z&&(ga.prepend(ia),ha.css({width:"auto","min-width":"100%"})),ja.css({top:Q,right:Q,width:O,background:R}),ia.css({left:Q,bottom:Q,height:O,background:R}),Y&&(ja.css("border-radius",O/2),ia.css("border-radius",O/2)),1===M&&(ja.show(),ia.show()),h(),K()}(),c(ea,{type:va,move:w,oplock:x,followerBind:y,followerUnbind:A,recountPosition:g,getContent:v})},$=function(){for(var a={},b=["normal","info","success","warning","danger"],c=["","","","",""],d=0,e=b.length;d<e;d++)a[b[d]]={name:b[d],no:d,ico:c[d]};return a}(),_=function(){var a={controlCreate:function(){var c=b("["+n+"]");c.each(function(){var c=b(this),d=e(c);d.forEach(function(b,d){var e=f(b),g=c.attr(p+b+"-ready"),h=c.attr("ud2-id")||null;g||(h?a[e].create(h,c):a[e].create(c))})})},ready:function(a){U.isFunction(a)&&T.pageReady.add(a)}};return a}(),aa=function(a){function b(a,b){a=a||{},a.transfer=a.transfer||j.origin||null,a.accept=a.accept||j.current||null,a.attrReg=a.attrReg||null,a.transfer&&a.accept&&b(a.transfer,a.accept,a.attrReg)}function c(a,b){a=i(a),(b=b||P)(a)}function e(a){var b,c,d;if(a=i(a),b=a.parents(),a.get(0)!==j.current.get(0)){for(c=0,d=b.length;c<d;c++)if(b.eq(c).get(0)===j.current.get(0))return;j.autoClose()}}function f(a){if(void 0!==a){for(var b in $)j.style===$[b]&&j.current.removeClass($[b].name);return j.style=a,j.current.addClass(a.name),j["public"]}return j.style}var g=this,h={},j={"public":{ud2:!0,collection:g["public"],type:a,appendTo:function(a){c(a,function(a){a.last().append(j.current)})},prependTo:function(a){c(a,function(a){a.last().prepend(j.current)})},insertBefore:function(a){c(a,function(a){a.last().before(j.current)})},insertAfter:function(a){c(a,function(a){a.last().after(j.current)})},style:f},origin:null,current:N.clone(),userOptions:h,getOriginAttr:function(a,b){a=function(){return R[a]||(R[a]=a.match(Q).join(o).toLowerCase()),R[a]}();var c=b?a:g.className+o+a;return j.origin?j.origin.attr(c):null},getOptions:function(){return d.apply(this,arguments)},transferStyles:function(a){b(a,function(a,b){b.attr("style",a.attr("style")).addClass(a.attr("class")),a.removeAttr("style").removeClass()})},transferAttrs:function(a){b(a,function(a,b,c){for(var d,e=a.get(0),f=b.get(0),g=e?e.attributes.length:0,h=new RegExp("^("+c+")"),i=0,j=0;i<g;i++)d=e.attributes[j],h.test(d.name)?(f.setAttribute(d.name,d.value),e.removeAttribute(d.name)):j++})},style:$.normal,autoClose:P,remove:function(){var a,b=this["public"].collection.indexOf(this);T.ctrlClose.remove(e),this["public"].collection.splice(b,1),delete this["public"].collection[this["public"].id];for(a in this["public"])delete this["public"][a];for(a in this)delete this[a]}};return T.ctrlClose.add(e),j},ba=function(a){var b={"public":[],init:P,name:a,ctrlName:f(a),className:p+a};return b},ca=function(){var a=0;return function(){return p+a++}}(),da=function(a,b){var d=ba(a),e=function(){return f.apply(e,arguments)},f=function(){var b,g,h,j=aa.call(d,a),k=arguments,l=k.length;switch(l){case 0:return f.call(e,void 0,void 0,{});case 1:return U.isString(k[0])?f.call(e,k[0],void 0,void 0):U.isJQuery(k[0])?f.call(e,void 0,k[0],void 0):U.isObject(k[0])?f.call(e,void 0,void 0,k[0]):f.call(e);case 2:if(U.isString(k[0])&&(U.isJQuery(k[1])||U.isString(k[1])))return f.call(e,k[0],k[1],void 0);if(U.isString(k[0])&&U.isObject(k[1]))return f.call(e,k[0],void 0,k[1]);if(U.isJQuery(k[0])&&U.isObject(k[1]))return f.call(e,void 0,k[0],k[1]);break;case 3:b=U.isString(k[0])&&k[0].length>0?k[0]:ca(),g=i(k[1]).first(),h=U.isObject(k[2])?k[2]:{}}return c(j,{origin:g,userOptions:h}),c(j["public"],{id:b}),d["public"].push(j["public"]),d["public"][b]=j["public"],j.current.attr(n,a).attr(n+"-id",b).attr(d.className+"-ready",!0).addClass(d.className),d.init(j)||j["public"]};return b(d,e),_[a]=e,d.name!==d.ctrlName&&(_[d.ctrlName]=e),e.create=f,e.collection=d["public"],e},ea=function(){function a(a){return i.indexOf(a)===-1&&(i.push(a),!0)}function d(a){var b=i.indexOf(a);return b>-1&&(i.splice(b,1),!0)}function e(b){return a(b)&&h.addClass("on"),g}function f(a){return d(a)&&!i.length&&h.removeClass("on"),g}var g={},h=b('<div class="'+p+'backmask"></div>'),i=[];return function(){T.pageReady.add(function(){j.append(h)})}(),c(g,{open:e,close:f})}();return da("dialog",function(d,e){function f(a,b){var c,d,e,f,g,h,i=a.length;return 1===i&&U.isObject(a[0])?(c=a[0].title||"",d=a[0].content||"",e=a[0].ico,f=a[0].icoStyle,g=a[0].sendFn,h=a[0].cancelFn):(c=a[0]||"",d=a[1]||"",3===i&&(U.isFunction(a[2])?g=a[2]:f=a[2]),4===i&&(U.isFunction(a[2])&&U.isFunction(a[3])?(g=a[2],h=a[3]):U.isObject(a[2])&&U.isFunction(a[3])?(f=a[2],g=a[3]):(e=a[2],f=a[3])),5===i&&(U.isObject(a[2])&&U.isFunction(a[3])&&U.isFunction(a[4])?(f=a[2],g=a[3],h=a[4]):(e=a[2],f=a[3],g=a[4])),6===i&&(e=a[2],f=a[3],g=a[4],h=a[5])),f=!f||f.name&&f.ico?f:$.normal,g=U.isFunction(g)?g:P,h=U.isFunction(h)?h:P,b(c,d,e,f,g,h)}function i(a,b,c,d,e){var f=b.find("td");void 0!==d?f.before('<td><i class="ico fc-'+e.name+'">'+d+"</i></td>"):void 0!==e&&"normal"!==e.name&&f.before('<td><i class="ico fc-'+e.name+'">'+e.ico+"</i></td>"),a.css("bottom","3em").append(b).after(c)}function k(a,b,c,d,e,f){c.send&&(c.send=W(b.eq(0)).setTap(function(){a.getAnimateState()||(d&&d(f&&f.val()),c.send.off(),a.remove())})),c.cancel&&(c.cancel=W(b.eq(1)).setTap(function(){a.getAnimateState()||(e&&e(f&&f.val()),c.cancel.off(),a.remove())}))}var l=d.className,m="center",n="fullscreen",o="top-left",p="top-right",q="bottom-left",r="bottom-right",s=12,t=b('<div class="'+l+'-built"><table><tr><td></td></tr></table></div>'),u=b('<div class="'+l+'-footer"><a class="btn">确 定</a><a class="btn">取 消</a></div>');d.init=function(b){function d(){return E}function e(){return G}function f(){return H||G||(H=!0,G=!0,ea.open(b["public"]),a.setTimeout(function(){D.addClass("on")},10),a.setTimeout(function(){G=!1},310),J.open.call(b["public"])),b["public"]}function h(){return H&&!G&&(H=!1,G=!0,ea.close(b["public"]),a.setTimeout(function(){D.removeClass("on")},10),a.setTimeout(function(){G=!1},310),J.close.call(b["public"])),b["public"]}function i(){return H||G?(H&&h(),void a.setTimeout(i,310)):(D.remove(),I.off(),void b.remove())}function k(a){return J.open=a,b["public"]}function t(a){return J.close=a,b["public"]}function u(){var a={};x!==n&&(a.width=w.x,a.height=w.y),x===o?(a.top=s,a.left=s):x===p?(a.top=s,a.right=s):x===q?(a.bottom=s,a.left=s):x===r?(a.bottom=s,a.right=s):x===n?(a.top=s,a.bottom=s,a.left=s,a.right=s):x===m?(a.top="50%",a.left="50%",a.marginLeft=-w.x/2,a.marginTop=-w.y/2):(a.top=x.y,a.left=x.x),D.css(a),A||F.detach(),b.origin.length?E.append(b.origin):E.append(z),j.append(D)}function v(){I=W(F).setTap(h)}var w,x,y,z,A,B=(b.getOptions(["size","position","title","content","btnClose"],function(a){y=a.title||"未定义标题",z=a.content||null,w=g(a.size,400,300),x=a.position,x=void 0===x?m:x,x!==m&&x!==n&&x!==o&&x!==p&&x!==q&&x!==r&&(x=g(x,s,s)),A=a.btnClose,A=void 0===A||!("false"===A||!A)}),'<div class="'+l+'-header">'+y+'</div><div class="'+l+'-body"></div><a class="'+l+'-close ico">&#xed1f;</a>'),C=b.current,D=C.html(B),E=(D.children("div").eq(0),D.children("div").eq(1)),F=D.children("a"),G=!1,H=!1,I=null,J={open:P,close:P};return function(){u(),v()}(),c(b["public"],{getContent:d,getAnimateState:e,open:f,close:h,remove:i,setOpen:k,setClose:t})},e.alert=function(){return f.call(this,h(arguments),function(a,b,c,d,f){var g=e({title:a,size:[350,250],btnClose:!1}),h=g.getContent(),j=t.clone(),l=u.clone(),m={send:1};!function(){i(h,j,l,c,d),k(g,l.children("a"),m,f),j.find("td:last").append(b),l.find("a:last").remove(),g.open()}()})},e.confirm=function(){return f.call(this,h(arguments),function(a,b,c,d,f,g){var h=e({title:a,size:[350,250],btnClose:!1}),j=h.getContent(),l=t.clone(),m=u.clone(),n={send:1,cancel:1};!function(){i(j,l,m,c,d),k(h,m.children("a"),n,f,g),l.find("td:last").append(b),h.open()}()})},e.prompt=function(){return f.call(this,h(arguments),function(a,c,d,f,g,h){var j=e({title:a,size:[350,250],btnClose:!1}),l=j.getContent(),m=t.clone(),n=u.clone(),o=b('<input type="text" class="textbox" />'),p={send:1,cancel:1};!function(){i(l,m,n,d,f),k(j,n.children("a"),p,g,h,o),m.find("td:last").append(c).append(o),j.open()}()})}}),da("select",function(a,b){var d=a.className,e="gr",f="select",g=f+".group",i=f+".option";b.group=function(){function a(a){return void 0!==a?(m=String(a),p.attr("title",m),t):m}function b(a){var b,c;if(void 0!==a){if(n!==a)if(n=!!a,a){if(p.attr(d+"-disabled","true"),c=s.length,0!==c)for(b=0;b<c;b++)t.select.valOption(s[b],0)}else p.removeAttr(d+"-disabled");return t}return n}function g(a){var b,c;if(a&&a.type===f&&!t.select&&(t.select=a,a.groups.push(t),a.getContent().append(l()),c=s.length,0!==c))for(b=0;b<c;b++)s[b].selectIn(a);return t}function h(){var a,b;if(t.select){if(b=s.length,0!==b)for(a=0;a<b;a++)s[a].selectOut(e);t.select.groups.splice(t.select.groups.indexOf(t),1),t.select=null,p.detach()}return t}function j(a){return a&&a.type&&a.type===i&&!a.group&&a.groupIn(t),t}function k(a){return a&&a.type&&a.type===i&&a.group===t&&a.groupOut(),t}function l(){return p}var m,n,o,p,q=arguments,r=q.length,s=[],t={select:null};return function(){1===r&&U.isObject(o=q[0],o)?(m=o.label,n=!!o.isDisabled):(m=q[0],n=!!q[1]),m=String(m),p=N.clone().attr("title",m).addClass(d+"-group"),n&&p.attr(d+"-disabled","true")}(),c(t,{type:"select.group",options:s,getContent:l,label:a,disabled:b,optionAdd:j,optionRemove:k,selectIn:g,selectOut:h})},b.option=function(){function a(a){return void 0!==a?(o=String(a),t.html(o).attr("title",o),w):o}function b(a){return void 0!==a?(p=String(a),t.attr(d+"-value",p),w):p}function h(a){return void 0!==a?(!a||q||null!==w.group&&(null===w.group||w.group.disabled())?(r=!1,t.removeClass("on")):(r=!0,t.addClass("on")),w):r}function i(a){return void 0!==a?(a=!!a,a?(q=!0,t.attr(d+"-disabled","true"),r&&null!==w.select&&w.select.valOption(w,!1)):(q=!1,t.removeAttr(d+"-disabled")),w):q}function j(a){return!a.type||a.type!==g||w.group||w.select||(a.disabled()&&r&&h(0),w.group=a,a.options.push(w),a.getContent().append(t),a.select&&l(a.select)),w}function k(){var a=-1;return w.group&&(a=w.group.options.indexOf(w),w.group.options.splice(a,1),w.group=null,t.detach(),w.select&&m()),w}function l(a){var b,c=!w.group;return a&&a.type&&a.type===f&&!w.select&&(c?(w.select=a,a.options.push(w),a.optionsDefault.push(w),b=a.optionsDefault.length,1===b?a.getContent().prepend(t):a.optionsDefault[b-2].getContent().after(t)):(w.select=a,a.options.push(w)),r&&a.valOption(w)),w}function m(){var a=-1;if(arguments[0]&&arguments[0]===e)return r&&(w.select.valOption(w,!1),w.selected(1)),a=w.select.options.indexOf(w),w.select.options.splice(a,1),void(w.select=null);if(w.select){if(w.group)return k();w.select.optionsDefault.splice(w.select.optionsDefault.indexOf(w),1),r&&(w.select.valOption(w,!1),w.selected(1)),a=w.select.options.indexOf(w),w.select.options.splice(a,1),w.select=null,t.detach()}return w}function n(){return t}var o,p,q,r,s,t,u=arguments,v=u.length,w={group:null,select:null};return function(){1===v&&U.isObject(s=u[0],s)?(o=s.label,p=s.value,q=!!s.isDisabled,r=!q&&!!s.isSelected):(o=u[0],p=u[1],q=!!u[2],r=!q&&!!u[3]),o=String(o),p=p||o,t=O.clone().html(o).attr("title",o).attr(d+"-value",p).addClass(d+"-option"),q&&t.attr(d+"-disabled","true"),r&&h(!0),W(t).setTap(function(){w.disabled()||w.group&&(!w.group||w.group.disabled())||w.select&&(w.select.valOption(w),w.select.multiple()||w.select.close())})}(),c(w,{type:"select.option",getContent:n,label:a,val:b,selected:h,disabled:i,groupIn:j,groupOut:k,selectIn:l,selectOut:m})},b.direction={up:1,down:0},a.init=function(a){function e(a){switch(K=a){case 1:R.removeClass(d+"-dir-down").addClass(d+"-dir-up");break;case 0:R.removeClass(d+"-dir-up").addClass(d+"-dir-down")}}function f(a){I=a,X.html(I)}function j(a){N=a,u().attr(d+"-empty",N)}function k(){var c=a.origin.children("optgroup");l();for(var d,e=0,f=c.length;e<f;e++){var g=c.eq(e),h=g.attr("label")||"",i=!(!g.attr("disabled")||"false"===g.attr("disabled"));d=b.group(h,i),x(d),l(d,g)}}function l(c,d){for(var e,f=void 0===c,g=f?a.origin.children("option"):d.children("option"),h=0,i=g.length;h<i;h++){var j=(g.eq(h),g.eq(h).html()),k=g.eq(h).val(),l=!(!g.eq(h).attr("disabled")||"false"===g.eq(h).attr("disabled")),m=!(!g.eq(h).attr("selected")||"false"===g.eq(h).attr("selected"));e=b.option(j,k,l,m),f?z(e):c.optionAdd(e)}}function m(){var b=da.length,c=ba.length,d=0;return d=2.5*b+2*c,d=d>G?G:d,S.css("height",(0===d?2:d)+"em"),aa.recountPosition(),a["public"]}function n(b){return U.isString(b)?(f(b),a["public"]):I}function o(b){return U.isString(b)?(j(b),a["public"]):N}function p(b){return void 0!==b?(e(b),a["public"]):K}function q(b){var c,d;if(void 0!==b){if(b=!!b,b!==J){if(J=b,d=ea.length,d>1&&!J)for(c=0;c<d-1;c++)ea[0].selected(0),ea.splice(0,1);d>0&&(J?X.html("1个项目"):X.html(ea[0].label())),fa.change.call(a["public"],v())}return a["public"]}return J}function r(){return _||(_=!0,R.addClass("on").focus(),m(),fa.open.call(a["public"])),a["public"]}function s(){return _&&(_=!1,R.removeClass("on"),fa.close.call(a["public"])),a["public"]}function t(){return _?s():r(),a["public"]}function u(){return aa.getContent()}function v(b){var c,d=[];if(void 0!==b){if(!U.isArray(b))return v(h(arguments));for(b=b.map(function(a){return null===a?a:String(a)}),c=ea.length-1;c>=0;c--)w(ea[c],!1);for(c=0;c<da.length;c++)da[c].disabled()||da[c].group&&(!da[c].group||da[c].group.disabled())||b.indexOf(da[c].val())===-1||w(da[c]);return a["public"]}for(c=0;c<ea.length;c++)d.push(ea[c].val());return $.val(d.join(",")),J?d:d[0]?d[0]:null}function w(b,c){var e,f=void 0!==c;if(b&&b.type&&b.type===i){if(e=da.indexOf(b),e===-1)return a["public"];if(e=ea.indexOf(b),J){if(f&&(c&&e>-1||!c&&e===-1))return a["public"];
(!f||f&&!c)&&e>-1?(b.selected(0),ea.splice(e,1)):(!f||f&&c)&&e===-1&&(b.selected(1),ea.push(b)),0===ea.length?X.removeAttr(d+"-value").html(I):X.attr(d+"-value",!0).html(ea.length+"个项目")}else{if(e>-1&&(!f||f&&c)||e===-1&&f&&!c)return a["public"];ea[0]&&(ea[0].selected(0),ea.splice(0,1)),e>-1&&f&&!c?X.removeAttr(d+"-value").html(I):(b.selected(1),ea.push(b),X.attr(d+"-value",!0).html(b.label()))}return fa.change.call(a["public"],v()),a["public"]}return ea}function x(b){return b&&b.type&&b.type===g&&!b.select&&b.selectIn(a["public"]),a["public"]}function y(b){return b&&b.type&&b.type===g&&b.select===a["public"]&&b.selectOut(),a["public"]}function z(b){b&&b.type&&b.type===i&&!b.select&&b.selectIn(a["public"])}function A(b){b&&b.type&&b.type===i&&b.select===a["public"]&&b.selectOut()}function B(b){return fa.open=b,a["public"]}function C(b){return fa.close=b,a["public"]}function D(b){return fa.change=b,a["public"]}function E(){W(V).setTap(t),Y.on(H,function(){T.ctrlClose.fire(R),r()})}function F(){c(a["public"],{getContent:u,placeholder:n,emptyText:o,direction:p,multiple:q,groups:ba,options:da,optionsByValue:ea,optionsDefault:ca,groupAdd:x,groupRemove:y,optionAdd:z,optionRemove:A,val:v,valOption:w,open:r,close:s,toggle:t,setOpen:B,setClose:C,setChange:D})}var G,I,J,K,N,O=(a.getOptions(["maxheight","placeholder","multiple","dir","emptyText"],function(a){G=parseInt(a.maxheight),(isNaN(G)||0===G)&&(G=20),I=a.placeholder||"请选择以下项目",J=!!a.multiple,K="up"===a.dir||a.dir===b.direction.up?b.direction.up:b.direction.down,N=a.emptyText||"当前列表未包含任何项"}),'<div class="'+d+'-put"><a class="'+d+'-btn" /><i class="ud2-ctrl-arrow" /></div><div class="'+d+'-list" /><input type="checkbox" /><input type="hidden" />'),Q=a.current,R=Q.html(O),S=R.children("div:last"),V=R.children("div:first"),X=V.children("a"),Y=R.children(L),$=R.children(M),_=!1,aa=null,ba=[],ca=[],da=[],ea=[],fa={open:P,close:P,change:P};return function(){a.origin.length&&(a.origin.after(R),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:Y,attrReg:"tabindex"}),a.transferAttrs({accept:$,attrReg:"name"})),e(K),f(I),aa=Z(S,{barState:0,isScrollMode:!0,barColor:"rgba(0,0,0,.2)",barColorOn:"rgba(0,0,0,.4)"}),u().attr(d+"-empty",N),a.autoClose=s,E(),F(),k()}(),a["public"]}}),da("number",function(a){var b=a.className;a.init=function(a){function d(a){return a=parseFloat(a),(isNaN(a)||a<n)&&(a=n),a>o&&(a=o),a=Math.round((a-n)/l)*l+n,a=parseFloat(a.toFixed(m)),a>o&&(a-=l),a}function e(a){if(!y){if(y=!0,a&&p+l>o||!a&&p-l<n)return void(y=!1);var c='<input class="ud2-ctrl-textbox" />',d=N.clone().addClass(b+"-view").html(c),e=N.clone().addClass(b+"-view").html(c);u.parent();p=a?parseFloat((p+l).toFixed(m)):parseFloat((p-l).toFixed(m)),d.children().val(p),e.children().val(p),u.before(d),u.after(e),x.animate({top:a?"-100%":"100%"},300,function(){y=!1,h(p),x.css("top",0),d.remove(),e.remove()})}}function f(){e(0)}function g(){e(1)}function h(b){void 0!==b?(p=d(b),z.change.call(a["public"],p)):p=d(p),u.val(p)}function i(b){return void 0!==b?(h(b),a["public"]):p}function j(b){return z.change=b,a["public"]}function k(){W(v).setTap(f),W(w).setTap(g),X(u).setDown(g).setUp(f),q=Y({defaultOn:!1}).add(K.UP,f).add(K.DOWN,g),u.focus(function(){q.on(),T.ctrlClose.fire(t),t.addClass("on")}).blur(function(){q.off(),h(u.val()),t.removeClass("on")})}var l,m,n,o,p,q,r=(a.getOptions(["step","min","max","value"],function(a){l=parseFloat(a.step),(isNaN(l)||0===l)&&(l=1),n=parseFloat(a.min),isNaN(n)&&(n=0),o=parseFloat(a.max),isNaN(o)&&(o=100),p=a.value,n>o&&(o=n),p=d(p),m=l.toString().indexOf(".")>-1?l.toString().split(".")[1].length:0}),'<a class="'+b+'-ico ud2-ctrl-ico">&#xe106;</a><div class="'+b+'-move"><input type="text" value="0" class="ud2-ctrl-textbox" /></div><a class="'+b+'-ico ud2-ctrl-ico">&#xe107;</a>'),s=a.current,t=s.html(r),u=t.find("input"),v=t.children("a:first"),w=t.children("a:last"),x=v.next(),y=!1,z={change:P};return function(){a.origin.length&&(a.origin.after(t),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:u,attrReg:"name|tabindex"})),h(),k()}(),c(a["public"],{val:i,setChange:j})}}),da("range",function(a){var b=a.className;a.init=function(a){function d(a){var b=null,c=null;return a=void 0!==a?(""+a).split(","):[0,0],b=parseFloat(a[0])||0,c=parseFloat(a[1])||0,[b,c]}function e(){V.nl=h(F),A&&(V.nr=h(G))}function f(){V.w=Q.outerWidth(),V.bw=N.width(),V.max=V.bw-V.w}function g(a){return a*V.max/V.bw*100}function h(a){var b=(a-D)/(E-D);return b}function i(b,c){var d,e,f,i,j,k,l;b<D&&(b=D),b>E&&(b=E),F=Math.round((b-D)/B)*B+D,F=parseFloat(F.toFixed(C)),F>E&&(F-=B),d=h(F),Q.css("left",g(d)+"%"),H.both?(c<D&&(c=D),c>E&&(c=E),G=Math.round((c-D)/B)*B+D,G=parseFloat(G.toFixed(C)),G>E&&(G-=B),e=h(G),R.css({left:g(e)+"%"}),f=Math.min(d,e),i=Math.max(d,e),j=Math.min(F,G),k=Math.max(F,G),Q.css("z-index",F+1e4),R.css("z-index",G+1e4),S.css({left:100*f+"%",width:100*(i-f)+"%"}),L.val(j+","+k),l=[j,k]):(S.css("width",100*d+"%"),L.val(F),l=F),Y.change.call(a["public"],l)}function j(){return X||(f(),H.both?i(F,G):i(F),e(),X=!0,K.addClass("on"),M.addClass(p+"ctrl-power-on"),Y.open.call(a["public"])),a["public"]}function k(){return X&&(X=!1,K.removeClass("on"),M.removeClass(p+"ctrl-power-on"),Y.close.call(a["public"])),a["public"]}function l(){return X?k():j(),a["public"]}function m(b,c){if(void 0!==b)return b=d(void 0!==c?[b,c].join(","):U.isArray(b)?b.join(","):b),i(b[0],b[1]),a["public"];if(A){var e=Math.min(F,G),f=Math.max(F,G);return[e,f]}return F}function n(b){return Y.open=b,a["public"]}function o(b){return Y.close=b,a["public"]}function q(b){return Y.change=b,a["public"]}function r(a,b){var c=a*V.max+b,d=null;return c<0&&(c=0),c>V.max&&(c=V.max),d=parseFloat(((E-D)*c/V.max+D).toFixed(C)),d=isNaN(d)?D:d}function s(a){H.both?i(r(V.nl,a.x),G):i(r(V.nl,a.x))}function t(){V.nl=h(F)}function u(a){i(F,r(V.nr,a.x))}function v(){V.nr=h(G)}function w(){T.ctrlClose.fire(K),j()}function x(a){13===a.keyCode&&L.blur()}function y(){var a=d(L.val());f(),i(a[0],a[1]),e()}function z(){W(M).setTap(l),W(Q,{stopPropagation:!0}).setDown(f).setPan(s).setUp(t),W(R,{stopPropagation:!0}).setDown(f).setPan(u).setUp(v),T.pageResize.add(function(){f(),i(F,G)}),L.on("focus",w).on("keydown",x).on("blur",y)}var A,B,C,D,E,F,G,H=a.getOptions(["both","min","max","value","step"],function(a){var b;B=parseFloat(a.step),(isNaN(B)||0===B)&&(B=1),D=parseFloat(a.min),isNaN(D)&&(D=0),E=parseFloat(a.max),isNaN(E)&&(E=100),b=d(a.value),F=b[0],G=b[1],A=!(!a.both||"false"===a.both),D>E&&(E=D),C=B.toString().indexOf(".")>-1?B.toString().split(".")[1].length:0}),I='<input type="text" maxlength="20" class="ud2-ctrl-textbox" /><div class="ud2-ctrl-power"><i class="ico ico-range-x"></i><i class="ico ico-solid-cancel"></i></div><div class="'+b+'-list"><div class="'+b+'-end" /><div class="'+b+'-back" /></div>',J=a.current,K=J.html(I),L=K.children("input"),M=L.next(),N=M.next(),Q=O.clone().addClass(b+"-hand"),R=O.clone().addClass(b+"-hand"),S=N.find("."+b+"-back"),V={max:0,bw:0,w:0,nl:0,nr:0},X=!1,Y={open:P,close:P,change:P};return function(){S.after(Q),A&&S.after(R),a.origin.length&&(a.origin.after(K),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:L,attrReg:"name|tabindex"})),a.autoClose=k,e(),f(),i(F,G),z()}(),c(a["public"],{val:m,open:j,close:k,toggle:l,setOpen:n,setClose:o,setChange:q})}}),function(){m.ready(function(){j=b("body"),V.safari&&k.body.addEventListener("touchstart",b.noop),T.pageReady.fire(),S=!0,m.bind(J,function(a){var b="ctrlCloseEvent",c=a.type,d=m.data(b);d&&c!==d||(m.data(b,c),T.ctrlClose.fire(a.target)),"mousedown"===c&&m.data(b,null)})}),l.on("resize orientationchange",function(){T.pageResize.fire()}),m.on("keydown",function(a){T.keyDown.fire(a,a.keyCode,a.ctrlKey,a.altKey,a.shiftKey)}).on("keyup",function(a){T.keyUp.fire(a,a.keyCode,a.ctrlKey,a.altKey,a.shiftKey)}),T.pageReady.add(_.controlCreate)}(),c(_,{common:{key:K},event:W,eventMouseWheel:X,eventKeyShortcut:Y,scroll:Z,style:$,type:U})}(window,jQuery);
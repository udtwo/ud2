/*! ud2 - v1.0.0
 * (c) 2016 Peak(peak@udtwo.com)
 */
if("undefined"==typeof $)throw new Error("ud2库需要JQuery支持");var ud2=function(a,b){"use strict";function c(a,b){da.isObject(a)||(a={}),da.isObject(b)||(b={});for(var c in b)a[c]=b[c];return a}function d(a,b){return function(){var c=arguments,d=c.length;return 0===d?a.apply(this,c):b.apply(this,c)}}function e(){var a,b,d,e,f=arguments,g=f.length,h=this;if(2===g){if(d=f[0],e=f[1],da.isArray(d)&&da.isFunction(e))return a={},d.forEach(function(b){var c=h.userOptions[b];void 0===c&&(c=h.getOriginAttr(b,1)),void 0===c&&(c=h.getOriginAttr(b)),a[b]=c}),e(a),a}else if(3===g&&(a=f[0],b=f[1]||{},e=f[2],da.isObject(a)&&da.isObject(b)&&da.isFunction(e)))return a=c(a,b),e(a),a;return{}}function f(a){var b=(a.attr(p)||"").split(" "),c=[];return b.forEach(function(a){0!==a.length&&c.push(a)}),c}function g(a){var b=a.split("-"),c=1,d=b.length;if(d>1)for(;c<d;c++)b[c].length>0&&(b[c]=b[c].substr(0,1).toUpperCase()+b[c].substr(1));return b.join("")}function h(a,b,c){return da.isArray(a)&&2===a.length?a={x:a[0],y:a[1]}:da.isObject(a)?a={x:a.x||a.width||a.w,y:a.y||a.height||a.h}:da.isString(a)?(a=a.split(a.indexOf(",")>-1?",":" "),a=2===a.length?{x:a[0],y:a[1]}:{x:a[0],y:a[1]}):a=da.isNumber(a)?{x:a,y:a}:{x:0,y:0},a.x=parseInt(a.x)||b,a.y=parseInt(a.y)||c,a}function i(a){return Array.prototype.slice.call(a)}function j(a){return da.isJQuery(a)||(a=b(a)),a}function k(){var a=0;return function(){return r+a++}}var l,m=a.document,n=b(a),o=b(m),p="ud2",q="-",r=p+q,s=(" -webkit- -moz- -o- -ms- ".split(" "),a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},{date:/^(?:[12]\d{3}([\.\-\/])(?:(?:0?[13578]|1[02])\1(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\1(?:0?[1-9]|[12]\d|30)|0?2\1(?:0?[1-9]|1\d|2[0-8]))$|[12]\d(?:[02468][048]|[13579][26])([\.\-\/])(?:(?:0?[13578]|1[02])\2(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\2(?:0?[1-9]|[12]\d|30)|0?2\2(?:0?[1-9]|1\d|2[0-9])))$/,mail:/^([\w-\.]+)@(([\w-]+\.)+)([a-zA-Z]{2,4})$/,phone:/^[1][3458][0-9]{9}$/,identityCard:/^(11|12|13|14|15|21|22|23|31|32|33|34|35|36|37|41|42|43|44|45|46|50|51|52|53|54|61|62|63|64|65|71|81|82|97|98|99)[0-9]{4}((?:19|20)?(?:[0-9]{2}(?:(?:0[13578]|1[12])(?:0[1-9]|[12][0-9]|3[01])|(?:0[469]|11)(?:0[1-9]|[12][0-9]|30)|02(?:0[1-9]|1[0-9]|2[0-8]))|(?:[02468][048]|[13579][26])0229)[0-9]{3}[\dxX])$/,loginName:/^[a-zA-Z][a-zA-Z0-9]+$/}),t=Date.now||function(){return(new Date).getTime()},u=a.navigator.pointerEnabled,v=u?"pointerdown":"MSPointerDown",w=u?"pointermove":"MSPointerMove",x=u?"pointerup":"MSPointerUp",y=u?"pointercancel":"MSPointerCancel",z="touchstart",A="touchmove",B="touchend",C="touchcancel",D="mousedown",E="mousemove",F="mouseup",G="mouseout",H="mouseenter",I="mouseleave",J="focus",K="click",L=[v,z,D].join(" "),M="center",N="fullscreen",O="top-left",P="top-right",Q="bottom-left",R="bottom-right",S="top-center",T="bottom-center",U={A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT:37,UP:38,RIGHT:39,DOWN:40,KEY0:48,KEY1:49,KEY2:50,KEY3:51,KEY4:52,KEY5:53,KEY6:54,KEY7:55,KEY8:56,KEY9:57,"`":192,BACK:8,NUM0:96,NUM1:97,NUM2:98,NUM3:99,NUM4:100,NUM5:101,NUM6:102,NUM7:103,NUM8:104,NUM9:105,ENTER:13,"NUM+":107,"NUM-":109,"NUM*":106,"NUM/":111,"-":189,"=":187,",":188,".":190,"/":191,"\\":220,SHIFT:16,CTRL:17,ALT:18,CAPS:20,TAB:9,"[":219,"]":221,";":186,"'":222,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},V='[type="checkbox"]',W='[type="hidden"]',X=12,Y=b("<div />"),Z=b("<a />"),$=function(){},_=/(^[a-z0-9]{1,}|[A-Z][a-z0-9]{0,})/g,aa={},ba=!1,ca={pageReady:b.Callbacks(),pageResize:b.Callbacks(),ctrlClose:b.Callbacks(),keyDown:b.Callbacks(),keyUp:b.Callbacks()},da=function(){function a(a){return function(b){return{}.toString.call(b)==="[object "+a+"]"}}function c(b){return a("Object")(b)}function d(b){return a("Function")(b)}function e(b){return a("String")(b)}function f(b){return a("Boolean")(b)}function g(b){return a("Number")(b)}function h(a){return/^([1-9]\d+|[0-9])$/.test(a)}function i(a){return a instanceof b}function j(a){return Array.isArray(a)}function k(a){return a instanceof Date}return{isType:a,isObject:c,isFunction:d,isString:e,isBoolean:f,isNumber:g,isDatetime:k,isNaturalNumber:h,isJQuery:i,isArray:j}}(),ea=function(){function a(a){return da.isNaturalNumber(a)?+a:0}return{toNaturalNumber:a}}(),fa=function(){function a(a){return da.isString(a)?a:""}function b(b,c,d){return b=a(b),c=c||Number.MAX_VALUE,"undefined"!=typeof d?(d<c&&(d=c),b.length<=d&&b.length>=c):b.length===c}function c(b,c){return b=a(b),c=c||0,b.length>=c}function d(b,c){return b=a(b),c=c||Number.MAX_VALUE,b.length<=c}function e(b){return b=a(b),s.phone.test(b)}function f(b){return b=a(b),s.mail.test(b)}function g(b){return b=a(b),s.date.test(b)}function h(b){return b=a(b),s.loginName.test(b)}function i(b){if(b=a(b),b=b.toUpperCase(),s.identityCard.test(b)){if(18===b.length){for(var c=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],d=["1","0","X","9","8","7","6","5","4","3","2"],e=b.split(""),f=0,g=0;g<17;g++)f+=e[g]*c[g];var h=d[f%11];if(h!==e[17])return!1}return!0}return!1}return{isLength:b,isMinLength:c,isMaxLength:d,isPhone:e,isMail:f,isDate:g,isLoginName:h,isIdentityCard:i}}(),ga=function(){var b={},c=m.createElement("div"),d=a.navigator.userAgent;return b.safari=/constructor/i.test(a.HTMLElement),b.mobile=!!d.match(/mobile|mobi|mini/i),b.android=d.indexOf("Android")>-1,b.touch="ontouchstart"in a||a.DocumentTouch&&m instanceof DocumentTouch,b.pointer=u,b.msPointer=a.navigator.msPointerEnabled,b.touchAction=void 0!==c.style.touchAction||void 0!==c.style.msTouchAction||!1,b.perspective=void 0!==c.style.perspective||void 0!==c.style.msPerspective||void 0!==c.style.mozPerspective||void 0!==c.style.webkitPerspective||!1,b.transition=void 0!==c.style.transition||void 0!==c.style.msTransition||void 0!==c.style.mozTransition||void 0!==c.style.webkitTransition||void 0!==c.style.oTransition||!1,b.animation=void 0!==c.style.animation||void 0!==c.style.mozAnimation||void 0!==c.style.webkitAnimation||void 0!==c.style.oAnimation||!1,b}(),ha=function(d,f){function g(a){return Q.pan=a,P}function h(a){return Q.tap=a,P}function i(a){return Q.press=a,P}function k(a){return Q.swipeLeft=a,P}function m(a){return Q.swipeRight=a,P}function n(a){return Q.swipeTop=a,P}function p(a){return Q.swipeBottom=a,P}function q(a){return Q.down=a,P}function s(a){return Q.up=a,P}function u(a,b){function d(a){a&&(a.screenX&&(l.moveScreenX=a.screenX),a.screenY&&(l.moveScreenY=a.screenY),a.pageX&&(l.movePageX=a.pageX),a.pageY&&(l.movePageY=a.pageY),a.clientX&&(l.moveClientX=a.clientX),a.clientY&&(l.moveClientY=a.clientY))}function e(){return{x:l.movePageX-l.downPageX,y:l.movePageY-l.downPageY}}var f=b?b.screenX:0,g=b?b.screenY:0,h=b?b.pageX:0,i=b?b.pageY:0,j=b?b.clientX:0,k=b?b.clientY:0,l={del:!1,id:a,downScreenX:f,downScreenY:g,downPageX:h,downPageY:i,downClientX:j,downClientY:k,moveScreenX:f,moveScreenY:g,movePageX:h,movePageY:i,moveClientX:j,moveClientY:k};return c(l,{setMove:d,getMoveLength:e})}function H(b){function c(a){0===d()&&(T.id=a,T.time=t())}function d(){var a=0;for(var b in S)S[b].del||a++;return a}function e(){for(var a in S)S[a].del&&delete S[a]}function f(){if(ga.mobile){var b,c=Y.clone().css({position:"fixed",top:0,right:0,left:0,bottom:0,"z-index":999999999});l.append(c),c.on(z,function(a){a.stopPropagation(),a.preventDefault()}).on(K,function(d){d.stopPropagation(),d.preventDefault(),b&&a.clearTimeout(b),c.remove()}),b=a.setTimeout(function(){c.remove()},500)}}function g(a){L&&a.stopPropagation();var b=a.originalEvent,e=b.pointerId;c(e),0===d()&&(o.on(R[1],h),o.on(R[2],i),o.on(R[3],i)),S[e]&&!S[e].del||(S[e]=u(e,b),q(a,e))}function h(a){L&&a.stopPropagation(),a.preventDefault();var b=a.originalEvent,c=b.pointerId;S[c]&&(S[c].setMove(b),s(a,c))}function i(a){L&&a.stopPropagation();var b=a.originalEvent,c=b.pointerId;S[c]&&(H(a,c),S[c].del=!0,0===d()&&(o.off(R[1],h),o.off(R[2],i),o.off(R[3],i)))}function j(a){L&&a.stopPropagation();var e,f=a.type,g=a.originalEvent;if("touchstart"===f){e=g.changedTouches,0===d()&&(b.on(R[5],k),b.on(R[6],m),b.on(R[7],m)),c(e[0].identifier);for(var h=0,i=e.length;h<i;h++)S[e[h].identifier]&&!S[e[h].identifier].del||(S[e[h].identifier]=u(e[h].identifier,e[h])),q(a,e[h].identifier)}else c(0),S[0]=u(0,g),q(a,0),o.on(R[9],n),o.on(R[10],p)}function k(a){L&&a.stopPropagation(),a.preventDefault();for(var b=a.originalEvent,c=b.changedTouches,d=0,e=c.length;d<e;d++)S[c[d].identifier]&&S[c[d].identifier].setMove(c[d]),s(a,c[d].identifier)}function m(a){L&&a.stopPropagation();for(var c=a.originalEvent,e=c.changedTouches,f=0,g=e.length;f<g;f++)H(a,e[f].identifier),S[e[f].identifier].del=!0;0===d()&&(b.off(R[5],k),b.off(R[6],m),b.off(R[7],m))}function n(a){L&&a.stopPropagation(),a.stopPropagation();var b=a.originalEvent;S[0]&&(S[0].setMove(b),s(a,0))}function p(a){L&&a.stopPropagation(),S[0]&&(H(a,0),void 0!==S[0]&&S[0].del===!1&&(S[0].del=!0),o.off(R[9],n),o.off(R[10],p))}function q(a,c){U=!1;for(var d=b.parents(),e=d.length,f=0;f<e;f++)if("1"===d.eq(f).attr(r+"scroll-runing")){U=!0;break}Q.down.call(b,a)}function s(a,c){var d=S[c].getMoveLength();a.preventDefault(),Q.pan.call(b,d,a)}function H(a,c){var d=null,g=S[c].getMoveLength(),h={x:Math.abs(g.x),y:Math.abs(g.y)};T.id===c&&(d=new Date-T.time,T.id=null,T.time=null),d&&(h.x<O&&h.y<O&&(U||(d<M?(f(),Q.tap.call(b,a)):Q.press.call(b,a))),h.x>=O&&h.x>=h.y&&d<N&&(g.x<0?(a.preventDefault(),Q.swipeLeft.call(b,a)):(a.preventDefault(),Q.swipeRight.call(b,a))),h.y>=O&&h.y>=h.x&&d<N&&(g.y<0?(a.preventDefault(),Q.swipeTop.call(b,a)):(a.preventDefault(),Q.swipeBottom.call(b,a)))),Q.up.call(b,a),e()}function I(a){var c=ga.pointer||ga.msPointer;a?(c?b.on(R[0],g):b.on(R[4]+" "+R[8],j),b.css({"-ms-touch-action":"none","touch-action":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"})):(c?b.off(R[0],g):b.off(R[4]+" "+R[8],j),b.css({"-ms-touch-action":"auto","touch-action":"auto","-webkit-user-select":"text","-moz-user-select":"text","-ms-user-select":"text","user-select":"text"}))}function J(){V||(V=!0,I(!0))}function P(){V&&(V=!1,I(!1))}var R=[v,w,x,y,z,A,B,C,D,E,F,G],S={},T={id:null,time:null},U=!1,V=!1;return function(){J()}(),{bind:J,unbind:P}}function I(){R.forEach(function(){arguments[0].bind()})}function J(){R.forEach(function(){arguments[0].unbind()})}var L,M,N,O,P={},Q=(e({stopPropagation:!1,tapMaxTime:300,swipeMaxTime:500,pointerValidLength:5},f,function(a){L=a.stopPropagation,M=a.tapMaxTime,N=a.swipeMaxTime,O=a.pointerValidLength}),{pan:$,tap:$,press:$,swipeLeft:$,swipeRight:$,swipeTop:$,swipeBottom:$,down:$,up:$}),R=[];return function(){j(d).each(function(a,c){R.push(H(b(c)))})}(),c(P,{setPan:g,setTap:h,setPress:i,setSwipeLeft:k,setSwipeRight:m,setSwipeTop:n,setSwipeBottom:p,setDown:q,setUp:s,on:I,off:J})},ia=function(a){function d(a){return l.scroll=a,k}function e(a){return l.down=a,k}function f(a){return l.up=a,k}function g(a){function b(b){b.stopPropagation(),b.preventDefault();var c=b.originalEvent,d=c.deltaY/100||c.wheelDelta/-120||(Math.abs(c.detail)>2?c.detail/3:c.detail)||0;l.scroll.call(a,d,b),d>0?l.down.call(a,b):l.up.call(a,b)}function c(){e||(e=!0,a.on(m,b))}function d(){e&&(e=!1,a.off(m,b))}var e=!1;return function(){c()}(),{bind:c,unbind:d}}function h(){n.forEach(function(){arguments[0].bind()})}function i(){n.forEach(function(){arguments[0].unbind()})}var k={},l={scroll:$,down:$,up:$},m="DOMMouseScroll mousewheel",n=[];return function(){j(a).each(function(a,c){n.push(g(b(c)))})}(),c(k,{setScroll:d,setDown:e,setUp:f,on:h,off:i})},ja=function(a){function b(a,b,c){var d=!c||c&&void 0===c.isCtrl?0:c.isCtrl?1:0,e=!c||c&&void 0===c.isAlt?0:c.isAlt?1:0,f=!c||c&&void 0===c.isShift?0:c.isShift?1:0,g=[a,d,e,f].join(m);return l[g]||(l[g]=b),k}function d(a,b,c){var d=!c||c&&void 0===c.isCtrl?0:c.isCtrl?1:0,e=!c||c&&void 0===c.isAlt?0:c.isAlt?1:0,f=!c||c&&void 0===c.isShift?0:c.isShift?1:0,g=[a,d,e,f].join(m);return l[g]&&delete l[g],k}function f(a){for(var b in l)if(b===[a.keyCode,a.ctrlKey?1:0,a.altKey?1:0,a.shiftKey?1:0].join(m)){a.preventDefault();break}}function g(a){for(var b in l)if(b===[a.keyCode,a.ctrlKey?1:0,a.altKey?1:0,a.shiftKey?1:0].join(m)){l[b]();break}}function h(){n||(n=!0,ca.keyDown.add(f),ca.keyUp.add(g))}function i(){n&&(n=!1,ca.keyDown.remove(f),ca.keyUp.remove(g))}var j,k={},l=(e({autoOn:!0},a,function(a){j=a.autoOn}),{}),m="＀",n=!1;return function(){j&&h()}(),c(k,{add:b,remove:d,on:h,off:i})},ka=function(d,f){function g(){return h(),q(sa.now.x,sa.now.y),_}function h(){var a,b=0,c=0,d=0,e=0,f=0,g=0,h=0,i=0;aa.hasVertical&&(b=ea.height(),c=ba.height(),sa.h=c,sa.ih=ba.innerHeight(),sa.sh=b-c,sa.now.y<-sa.sh&&(sa.now.y=-sa.sh),e=sa.ih-2*aa.barOffset,0!==c&&(a=sa.sh/(5*sa.ih),a=1-(a>1?1:a),d=e*a,d=d<aa.barMinLength?aa.barMinLength:d,d=d>e?e:d,ta.h=d,ta.mh=e,ta.sh=e-d,ja.height(d))),aa.hasHorizontal&&(f=ea.width(),g=ba.width(),sa.w=g,sa.iw=ba.innerWidth(),sa.sw=f-g,sa.now.x<-sa.sw&&(sa.now.x=-sa.sw),i=sa.iw-2*aa.barOffset,0!==g&&(a=sa.sw/(5*sa.iw),a=1-(a>1?1:a),h=i*a,h=h<aa.barMinLength?aa.barMinLength:h,h=h>i?i:h,ta.w=h,ta.mw=i,ta.sw=i-h,fa.width(h)))}function i(){var a,b,c=ea.css("transform");return c=c.split(")")[0].split(", "),a=Math.round(+(c[12]||c[4])),b=Math.round(+(c[13]||c[5])),{x:a,y:b}}function k(a){ma!==a&&(ma=a,ba.attr(wa,a?1:0))}function l(a,b){var c=b?"sh":"sw";return 0===sa[c]||0===ta[c]?0:a/sa[c]*ta[c]}function m(a,b){var c=b?"sh":"sw";return 0===sa[c]||0===ta[c]?0:a/ta[c]*sa[c]}function n(){0===aa.barState&&(ta.timer&&a.clearTimeout(ta.timer),fa.stop().fadeIn(200),ja.stop().fadeIn(200))}function o(){0===aa.barState&&(ra||qa||ma||(ta.timer&&a.clearTimeout(ta.timer),ta.timer=a.setTimeout(function(){fa.stop().fadeOut(400),ja.stop().fadeOut(400)},800)))}function p(a,b,c,d,e,f){var g,h,i=a-b,j=Math.abs(i)/c;return d=-d,e=e||0,f=f||5e-4,g=a+j*j/(2*f)*(i<0?-1:1),h=j/f,g<d?(g=e?d-e/2.5*(j/8):d,i=Math.abs(g-a),h=i/j):g>0&&(g=e?e/2.5*(j/8):0,i=Math.abs(a)+g,h=i/j),{destination:Math.round(g),duration:h}}function q(a,b,c,d){var e,f;if(c=c||0,d=d||ka.circular,a>0&&(a=0),b>0&&(b=0),b<-sa.sh&&(b=-sa.sh),a<-sa.sw&&(a=-sa.sw),s(d),u(c),ea.css("transform","translate("+a+"px, "+b+"px)"+(ga.perspective?" translateZ(0)":"")),aa.hasVertical&&ja.css("transform","translate(0, "+l(-b,1)+"px)"+(ga.perspective?" translateZ(0)":"")),aa.hasHorizontal&&fa.css("transform","translate("+l(-a,0)+"px, 0)"+(ga.perspective?" translateZ(0)":"")),sa.now={x:a,y:b},f=ua.length,0!==f)for(e=0;e<f;e++)ua[e].move(-a,-b,c)}function s(a){ea.css("transition-timing-function",a),ja.css("transition-timing-function",a+", ease-out, ease-out, ease-out"),fa.css("transition-timing-function",a+", ease-out, ease-out, ease-out")}function u(b){var c=parseInt(b);ea.css("transition-duration",c+"ms"),ja.css("transition-duration",c+"ms, 300ms, 300ms, 300ms"),fa.css("transition-duration",c+"ms, 300ms, 300ms, 300ms"),0!==c?(oa&&a.clearTimeout(oa),oa=a.setTimeout(function(){q(sa.now.x,sa.now.y,0),k(!1),o()},c)):(k(!1),o())}function v(){return ea}function w(a,b,c){return c=c||0,q(-a,-b,c),_}function x(a){return void 0!==a?(na=!!a,_):na}function y(a){return da.isObject(a)&&a.type&&a.type===va&&ua.push(a),_}function z(a){var b;return da.isObject(a)&&a.type&&a.type===va&&(b=ua.indexOf(a),b>-1&&ua.splice(b,1)),_}function A(){if(!na){h(),n();var a=i();q(a.x,a.y),la.moved=!1,la.start=t(),la.startMove={x:sa.now.x,y:sa.now.y},la.lastMove={x:0,y:0}}}function C(a){if(!na){var b=t(),c=a.x,d=a.y,e=Math.abs(c),f=Math.abs(d),g=c-la.lastMove.x,h=d-la.lastMove.y,i=0,j=0;n(),la.lastMove={x:c,y:d},b-la.end>300&&e<pa&&f<pa||(la.moved||(la.moved=!0),aa.hasVertical&&(j=h+sa.now.y),aa.hasHorizontal&&(i=g+sa.now.x),0===g&&0===h||q(i,j),b-la.start>=300&&(la.start=b,la.startMove.x=i,la.startMove.y=j))}}function D(){if(!na){var a=sa.now.x,b=sa.now.y,c=a,d=b,e=null,f=null,g=t()-la.start,h=0;if(la.end=t(),o(),la.moved&&aa.isSlowMovning){if(g<300){var i=0,j=0;aa.hasVertical&&(f=p(b,la.startMove.y,g,sa.sh,aa.bounce?sa.h:0),d=f.destination,j=f.duration),aa.hasHorizontal&&(e=p(a,la.startMove.x,g,sa.sw,aa.bounce?sa.w:0),c=e.destination,i=e.duration),h=Math.max(i,j)}c===a&&d===b||(n(),k(!0),q(c,d,h))}}}function E(a){var b=sa.now.x,c=sa.now.y,d=300,e=aa.mouseWheelLength;h(),"normal"===e&&(e=Math.round(sa.h)),a>0?c-=e:c+=e,c>0||c<-sa.sh?k(!1):(n(),k(!0)),q(b,c,d)}function F(){this.move=0,qa=!0,n(),b(this).css("background",aa.barColorOn)}function G(){qa=!1,o(),b(this).css("background",aa.barColor)}function J(a,b){var c=b?sa.now.x:m(-(a.x-this.move),0)+sa.now.x,d=b?m(-(a.y-this.move),1)+sa.now.y:sa.now.y;b?this.move=a.y:this.move=a.x,q(c,d)}function K(){aa.recountByResize&&ca.pageResize.add(g),0===aa.barState&&ba.on(H,function(){h(),ra=!0,n()}).on([I,B].join(" "),function(){ra=!1,o()}),aa.isTouchMode&&ha(ba,{stopPropagation:!0}).setDown(A).setUp(D).setPan(C),aa.isMouseWheelMode&&ia(ba).setScroll(E),aa.isScrollMode&&(ha(ja,{stopPropagation:!0}).setPan(function(a){J.call(this,a,1)}).setDown(F).setUp(G),ha(fa,{stopPropagation:!0}).setPan(function(a){J.call(this,a,0)}).setDown(F).setUp(G))}var L,M,N,O,P,Q,R,S,T,U,V,W,X,Z,$,_={},aa=e({recountByResize:!1,barState:0,hasHorizontal:!1,hasVertical:!0,barSize:6,barMinLength:30,barOffset:1,barColor:"rgba(0,0,0,.4)",barColorOn:"rgba(0,0,0,.6)",barBorderRadiusState:!0,mouseWheelLength:"normal",isTouchMode:!0,isMouseWheelMode:!0,isScrollMode:!1,isSlowMovning:!0},f,function(a){L=a.recountByResize,M=a.barState,N=a.barSize,O=a.barMinLength,P=a.barOffset,Q=a.barColor,R=a.barColorOn,S=a.barBorderRadiusState,T=a.hasHorizontal,U=a.hasVertical,V=a.isMouseWheelMode,W=a.isTouchMode,X=a.isScrollMode,Z=a.mouseWheelLength,$=a.isSlowMovning}),ba=j(d).eq(0),ea=Y.clone().addClass(r+"scroll-wrapper"),fa=Y.clone().addClass(r+"scroll-bar"),ja=Y.clone().addClass(r+"scroll-bar"),ka={quadratic:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",circular:"cubic-bezier(0.1, 0.57, 0.1, 1)"},la={id:null,start:0,end:0,moved:!1,startMove:{x:0,y:0},lastMove:{x:0,y:0}},ma=!1,na=!1,oa=null,pa=5,qa=!1,ra=!1,sa={h:0,ih:0,sh:0,w:0,iw:0,sw:0,now:{x:0,y:0},isMoved:!1},ta={h:0,mh:0,sh:0,w:0,mw:0,sw:0,timer:null},ua=[],va="scroll",wa=r+"scroll-runing";return function(){"normal"===Z||da.isNaturalNumber(Z)||(Z="normal");var a=ba.contents();0===a.length?ba.append(ea):(a.wrapAll(ea),ea=ba.children("."+r+"scroll-wrapper")),ea.css("padding",ba.css("padding-top")+" "+ba.css("padding-right")+" "+ba.css("padding-bottom")+" "+ba.css("padding-left")),ba.addClass("ud2-scroll"),U&&(ba.prepend(ja),ea.css({height:"auto","min-height":"100%"})),T&&(ba.prepend(fa),ea.css({width:"auto","min-width":"100%"})),ja.css({top:P,right:P,width:N,background:Q}),fa.css({left:P,bottom:P,height:N,background:Q}),S&&(ja.css("border-radius",N/2),fa.css("border-radius",N/2)),1===M&&(ja.show(),fa.show()),h(),K()}(),c(_,{type:va,move:w,oplock:x,followerBind:y,followerUnbind:z,recountPosition:g,getContent:v})},la=function(){for(var a={},b=["normal","info","success","warning","danger"],c=["","","","",""],d=0,e=b.length;d<e;d++)a[b[d]]={name:b[d],no:d,ico:c[d]};return a}(),ma=function(){for(var a={},b=["red","orange","green","blue","yellow","teal","pink","violet","purple","brown","dark","grey","white"],c=0,d=b.length;c<d;c++)a[b[c]]={name:"c-"+b[c],id:b[c]};return a}(),na=function(){var a={createAllControl:function(){var c=b("["+p+"]");c.each(function(){var c=b(this),d=f(c);d.forEach(function(b,d){var e=g(b),f=c.attr(r+b+"-ready"),h=c.attr("ud2-id")||null;f||(h?a[e].create(h,c):a[e].create(c))})})},ready:function(a){da.isFunction(a)&&ca.pageReady.add(a)}};return a}(),oa=function(a){function b(a,b){a=a||{},a.transfer=a.transfer||i.origin||null,a.accept=a.accept||i.current||null,a.attrReg=a.attrReg||null,a.transfer&&a.accept&&b(a.transfer,a.accept,a.attrReg)}function c(a,b){a=j(a),(b=b||$)(a)}function d(a){var b,c,d;if(a=j(a),b=a.parents(),a.get(0)!==i.current.get(0)){for(c=0,d=b.length;c<d;c++)if(b.eq(c).get(0)===i.current.get(0))return;i.autoClose()}}function f(a){if(void 0!==a){for(var b in la)i.style===la[b]&&i.current.removeClass(la[b].name);return i.style=a,i.current.addClass(a.name),i["public"]}return i.style}var g=this,h={},i={"public":{ud2:!0,collection:g["public"],type:a,appendTo:function(a){c(a,function(a){a.last().append(i.current)})},prependTo:function(a){c(a,function(a){a.last().prepend(i.current)})},insertBefore:function(a){c(a,function(a){a.last().before(i.current)})},insertAfter:function(a){c(a,function(a){a.last().after(i.current)})},style:f},origin:null,current:Y.clone(),userOptions:h,getOriginAttr:function(a,b){a=function(){return aa[a]||(aa[a]=a.match(_).join(q).toString().toLowerCase()),aa[a]}();var c=b?a:g.className+q+a;return i.origin?i.origin.attr(c):null},getOptions:function(){return e.apply(this,arguments)},transferStyles:function(a){b(a,function(a,b){b.attr("style",a.attr("style")).addClass(a.attr("class")),a.removeAttr("style").removeClass()})},transferAttrs:function(a){b(a,function(a,b,c){for(var d,e=a.get(0),f=b.get(0),g=e?e.attributes.length:0,h=new RegExp("^("+c+")"),i=0,j=0;i<g;i++)d=e.attributes[j],h.test(d.name)?(f.setAttribute(d.name,d.value),e.removeAttribute(d.name)):j++})},style:la.normal,autoClose:$,remove:function(){var a,b=this["public"].collection.indexOf(this);ca.ctrlClose.remove(d),this["public"].collection.splice(b,1),delete this["public"].collection[this["public"].id];for(a in this["public"])delete this["public"][a];for(a in this)delete this[a]}};return ca.ctrlClose.add(d),i},pa=function(a){var b={"public":[],init:$,name:a,ctrlName:g(a),className:r+a};return b},qa=function(a,b,c){function d(){return b.apply(d,arguments)}return da.isFunction(b)||(b=$),d.create=b,c?c[a]=d:na[a]=d,d},ra=function(a,b){var d=pa(a),e=qa(a,function f(){var b,g,h,i=oa.call(d,a),l=arguments,m=l.length;switch(m){case 0:return f.call(e,void 0,void 0,{});case 1:return da.isString(l[0])?f.call(e,l[0],void 0,void 0):da.isJQuery(l[0])?f.call(e,void 0,l[0],void 0):da.isObject(l[0])?f.call(e,void 0,void 0,l[0]):f.call(e);case 2:if(da.isString(l[0])&&(da.isJQuery(l[1])||da.isString(l[1])))return f.call(e,l[0],l[1],void 0);if(da.isString(l[0])&&da.isObject(l[1]))return f.call(e,l[0],void 0,l[1]);if(da.isJQuery(l[0])&&da.isObject(l[1]))return f.call(e,void 0,l[0],l[1]);break;case 3:b=da.isString(l[0])&&l[0].length>0?l[0]:k(),g=j(l[1]).first(),h=da.isObject(l[2])?l[2]:{}}return c(i,{origin:g,userOptions:h}),c(i["public"],{id:b}),d["public"].push(i["public"]),d["public"][b]=i["public"],i.current.attr(p,a).attr(p+"-id",b).attr(d.className+"-ready",!0).addClass(d.className),d.init(i)||i["public"]});return b(d,e),d.name!==d.ctrlName&&(na[d.ctrlName]=e),e.collection=d["public"],e},sa=function(){function a(a){return i.indexOf(a)===-1&&(i.push(a),!0)}function d(a){var b=i.indexOf(a);return b>-1&&(i.splice(b,1),!0)}function e(b){return a(b)&&h.addClass("on"),g}function f(a){return d(a)&&!i.length&&h.removeClass("on"),g}var g={},h=b('<div class="'+r+'backmask"></div>'),i=[];return function(){ca.pageReady.add(function(){l.append(h)})}(),c(g,{open:e,close:f})}();return ra("dialog",function(d,e){function f(a,b){var c,d,e,f,g,h,i=a.length;return 1===i&&da.isObject(a[0])?(c=a[0].title||"",d=a[0].content||"",e=a[0].ico,f=a[0].icoStyle,g=a[0].sendFn,h=a[0].cancelFn):(c=a[0]||"",d=a[1]||"",3===i&&(da.isFunction(a[2])?g=a[2]:f=a[2]),4===i&&(da.isFunction(a[2])&&da.isFunction(a[3])?(g=a[2],h=a[3]):da.isObject(a[2])&&da.isFunction(a[3])?(f=a[2],g=a[3]):(e=a[2],f=a[3])),5===i&&(da.isObject(a[2])&&da.isFunction(a[3])&&da.isFunction(a[4])?(f=a[2],g=a[3],h=a[4]):(e=a[2],f=a[3],g=a[4])),6===i&&(e=a[2],f=a[3],g=a[4],h=a[5])),f=!f||f.name&&f.ico?f:la.normal,g=da.isFunction(g)?g:$,h=da.isFunction(h)?h:$,b(c,d,e,f,g,h)}function g(a,b,c,d,e){var f=b.find("td");void 0!==d?f.before('<td><i class="ico fc-'+e.name+'">'+d+"</i></td>"):void 0!==e&&"normal"!==e.name&&f.before('<td><i class="ico fc-'+e.name+'">'+e.ico+"</i></td>"),a.css("bottom","3em").append(b).after(c)}function j(a,b,c,d,e,f){c.send&&(c.send=ha(b.eq(0)).setTap(function(){a.getAnimateState()||(d&&d(f&&f.val()),c.send.off(),a.remove())})),c.cancel&&(c.cancel=ha(b.eq(1)).setTap(function(){a.getAnimateState()||(e&&e(f&&f.val()),c.cancel.off(),a.remove())}))}var k=d.className,m=b('<div class="'+k+'-built"><table><tr><td></td></tr></table></div>'),n=b('<div class="'+k+'-footer"><a class="btn">确 定</a><a class="btn">取 消</a></div>');d.init=function(b){function d(){return x}function e(){return z}function f(){return A||z||(A=!0,z=!0,sa.open(b["public"]),a.setTimeout(function(){w.addClass("on")},10),a.setTimeout(function(){z=!1},310),C.open.call(b["public"])),b["public"]}function g(){return A&&!z&&(A=!1,z=!0,sa.close(b["public"]),a.setTimeout(function(){w.removeClass("on")},10),a.setTimeout(function(){z=!1},310),C.close.call(b["public"])),b["public"]}function i(){return A||z?(A&&g(),void a.setTimeout(i,310)):(w.remove(),B.off(),void b.remove())}function j(a){return C.open=a,b["public"]}function m(a){return C.close=a,b["public"]}function n(){var a={};q!==N&&(a.width=p.x,a.height=p.y),q===O?(a.top=X,a.left=X):q===P?(a.top=X,a.right=X):q===Q?(a.bottom=X,a.left=X):q===R?(a.bottom=X,a.right=X):q===N?(a.top=X,a.bottom=X,a.left=X,a.right=X):q===M?(a.top="50%",a.left="50%",a.marginLeft=-p.x/2,a.marginTop=-p.y/2):(a.top=q.y,a.left=q.x),w.css(a),t||y.detach(),b.origin.length?x.append(b.origin):x.append(s),l.append(w)}function o(){B=ha(y).setTap(g)}var p,q,r,s,t,u=(b.getOptions(["size","position","title","content","btnClose"],function(a){r=a.title||"未定义标题",s=a.content||null,p=h(a.size,400,300),q=a.position,q=void 0===q?M:q,q!==M&&q!==N&&q!==O&&q!==P&&q!==Q&&q!==R&&(q=h(q,X,X)),t=a.btnClose,t=void 0===t||!("false"===t||!t)}),'<div class="'+k+'-header">'+r+'</div><div class="'+k+'-body"></div><a class="'+k+'-close ico">&#xed1f;</a>'),v=b.current,w=v.html(u),x=(w.children("div").eq(0),w.children("div").eq(1)),y=w.children("a"),z=!1,A=!1,B=null,C={open:$,close:$};return function(){n(),o()}(),c(b["public"],{getContent:d,getAnimateState:e,open:f,close:g,remove:i,setOpen:j,setClose:m})},e.alert=function(){return f.call(this,i(arguments),function(a,b,c,d,f){var h=e({title:a,size:[300,220],btnClose:!1}),i=h.getContent(),k=m.clone(),l=n.clone(),o={send:1};!function(){g(i,k,l,c,d),j(h,l.children("a"),o,f),k.find("td:last").append(b),l.find("a:last").remove(),h.open()}()})},e.confirm=function(){return f.call(this,i(arguments),function(a,b,c,d,f,h){var i=e({title:a,size:[300,220],btnClose:!1}),k=i.getContent(),l=m.clone(),o=n.clone(),p={send:1,cancel:1};!function(){g(k,l,o,c,d),j(i,o.children("a"),p,f,h),l.find("td:last").append(b),i.open()}()})},e.prompt=function(){return f.call(this,i(arguments),function(a,c,d,f,h,i){var k=e({title:a,size:[300,220],btnClose:!1}),l=k.getContent(),o=m.clone(),p=n.clone(),q=b('<input type="text" class="textbox" />'),r={send:1,cancel:1};!function(){g(l,o,p,d,f),j(k,p.children("a"),r,h,i,q),o.find("td:last").append(c).append(q),k.open()}()})}}),ra("message",function(b,d){var e=(b.className,{});e[O]=[],e[S]=[],e[P]=[],e[Q]=[],e[T]=[],e[R]=[],b.init=function(b){function d(){return w}function f(){var c,d,f,g,i;if(!y){switch(c=w.outerWidth(),d=w.outerHeight(),g=e[n].length,y=!0,e[n].push(b["public"]),i=X+g*(d+X),n){case S:f={top:i,left:"50%",marginLeft:-c/2};break;case O:f={top:i,left:X};break;case P:f={top:i,right:X};break;case T:f={bottom:i,left:"50%",marginLeft:-c/2};break;case Q:f={bottom:i,left:X};break;case R:f={bottom:i,right:X}}b["public"].data={tb:i},w.css(f).addClass("on"),A.open.call(b["public"]),s!==-1&&(z=a.setTimeout(function(){h()},s))}return b["public"]}function g(){var c,d,f,g,h,i;if(y){for(null!==z&&a.clearTimeout(z),c=w.outerHeight(),d=e[n].indexOf(b["public"]),f=e[n].length,y=!1,g=d;g<f;g++)h=e[n][g].data.tb,i=h-c-X,e[n][g].data.tb=i,n===O||n===P||n===S?e[n][g].getContent().css("top",i):e[n][g].getContent().css("bottom",i);e[n].splice(d,1),w.removeClass("on"),A.close.call(b["public"])}return b["public"]}function h(){return y?(g(),void a.setTimeout(h,310)):(w.remove(),t.off(),ca.pageResize.remove(k),void b.remove())}function i(a){return A.open=a,b["public"]}function j(a){return A.close=a,b["public"]}function k(){!y||n!==S&&n!==T||w.css("marginLeft",-w.outerWidth()/2)}function m(){t=ha(x).setTap(function(){h()}),ca.pageResize.add(k)}var n,o,p,q,r,s,t,u=(b.getOptions(["position","message","style","autoSwitch","close","closeTime"],function(a){q=void 0===a.autoSwitch||!!a.autoSwitch,n=a.position||S,n!==S&&n!==T&&n!==O&&n!==P&&n!==Q&&n!==R&&(n=S),b.origin.length?(o=a.message||b.origin.text()||"未知消息",b.origin.remove()):o=a.message||"未知消息",p=a.style||"",r=void 0===a.close||!!a.close,s=a.closeTime||5e3}),'<div class="message-content">'+o+"</div>"+(r?'<a class="message-close"></a>':"")),v=b.current,w=v.html(u),x=w.children(".message-close"),y=!1,z=null,A={open:$,close:$};return function(){w.addClass("message"),l.append(w),""!==p&&w.addClass(p.name?p.name:p),q&&a.setTimeout(function(){f()},10),m()}(),c(b["public"],{getContent:d,open:f,close:g,remove:h,setOpen:i,setClose:j})},d.info=function(a){d({message:a,style:la.info})},d.warning=function(a){d({message:a,style:la.warning})},d.success=function(a){d({message:a,style:la.success})},d.danger=function(a){d({message:a,style:la.danger})}}),ra("select",function(a,b){var d=a.className,e="gr",f="select",g=f+".group",h=f+".option";qa("group",function(){function a(a){return void 0!==a?(m=String(a),p.attr("title",m),t):m}function b(a){var b,c;if(void 0!==a){if(n!==a)if(n=!!a,a){if(p.attr(d+"-disabled","true"),c=s.length,0!==c)for(b=0;b<c;b++)t.select.valOption(s[b],0)}else p.removeAttr(d+"-disabled");return t}return n}function g(a){var b,c;if(a&&a.type===f&&!t.select&&(t.select=a,a.groups.push(t),a.getContent().append(l()),c=s.length,0!==c))for(b=0;b<c;b++)s[b].selectIn(a);return t}function i(){var a,b;if(t.select){if(b=s.length,0!==b)for(a=0;a<b;a++)s[a].selectOut(e);t.select.groups.splice(t.select.groups.indexOf(t),1),t.select=null,p.detach()}return t}function j(a){return a&&a.type&&a.type===h&&!a.group&&a.groupIn(t),t}function k(a){return a&&a.type&&a.type===h&&a.group===t&&a.groupOut(),t}function l(){return p}var m,n,o,p,q=arguments,r=q.length,s=[],t={select:null};return function(){1===r&&da.isObject(o=q[0],o)?(m=o.label,n=!!o.isDisabled):(m=q[0]||"未命名选项组",n=!!q[1]),m=String(m),p=Y.clone().attr("title",m).addClass(d+"-group"),n&&p.attr(d+"-disabled","true")}(),c(t,{type:"select.group",options:s,getContent:l,label:a,disabled:b,optionAdd:j,optionRemove:k,selectIn:g,selectOut:i})},b),qa("option",function(){function a(a){return void 0!==a?(o=String(a),t.html(o).attr("title",o),w):o}function b(a){return void 0!==a?(p=String(a),t.attr(d+"-value",p),w):p}function h(a){return void 0!==a?(!a||q||null!==w.group&&(null===w.group||w.group.disabled())?(r=!1,t.removeClass("on")):(r=!0,t.addClass("on")),w):r}function i(a){return void 0!==a?(a=!!a,a?(q=!0,t.attr(d+"-disabled","true"),r&&null!==w.select&&w.select.valOption(w,!1)):(q=!1,t.removeAttr(d+"-disabled")),w):q}function j(a){return!a.type||a.type!==g||w.group||w.select||(a.disabled()&&r&&h(0),w.group=a,a.options.push(w),a.getContent().append(t),a.select&&l(a.select)),w}function k(){var a=-1;return w.group&&(a=w.group.options.indexOf(w),w.group.options.splice(a,1),w.group=null,t.detach(),w.select&&m()),w}function l(a){var b,c=!w.group;return a&&a.type&&a.type===f&&!w.select&&(c?(w.select=a,a.options.push(w),a.optionsDefault.push(w),b=a.optionsDefault.length,1===b?a.getContent().prepend(t):a.optionsDefault[b-2].getContent().after(t)):(w.select=a,a.options.push(w)),r&&a.valOption(w)),w}function m(){var a=-1;if(arguments[0]&&arguments[0]===e)return r&&(w.select.valOption(w,!1),w.selected(1)),a=w.select.options.indexOf(w),w.select.options.splice(a,1),void(w.select=null);if(w.select){if(w.group)return k();w.select.optionsDefault.splice(w.select.optionsDefault.indexOf(w),1),r&&(w.select.valOption(w,!1),w.selected(1)),a=w.select.options.indexOf(w),
w.select.options.splice(a,1),w.select=null,t.detach()}return w}function n(){return t}var o,p,q,r,s,t,u=arguments,v=u.length,w={group:null,select:null};return function(){1===v&&da.isObject(s=u[0],s)?(o=s.label,p=s.value,q=!!s.isDisabled,r=!q&&!!s.isSelected):(o=u[0]||"未命名选项",p=u[1],q=!!u[2],r=!q&&!!u[3]),o=String(o),p=p||o,t=Z.clone().html(o).attr("title",o).attr(d+"-value",p).addClass(d+"-option"),q&&t.attr(d+"-disabled","true"),r&&h(!0),ha(t).setTap(function(){w.disabled()||w.group&&(!w.group||w.group.disabled())||w.select&&(w.select.valOption(w),w.select.multiple()||w.select.close())})}(),c(w,{type:"select.option",getContent:n,label:a,val:b,selected:h,disabled:i,groupIn:j,groupOut:k,selectIn:l,selectOut:m})},b),b.direction={up:1,down:0},a.init=function(a){function e(a){switch(K=a){case 1:O.removeClass(d+"-dir-down").addClass(d+"-dir-up");break;case 0:O.removeClass(d+"-dir-up").addClass(d+"-dir-down")}}function f(a){H=a,R.html(H)}function j(a){L=a,u().attr(d+"-empty",L)}function k(){var c=a.origin.children("optgroup");l();for(var d,e=0,f=c.length;e<f;e++){var g=c.eq(e),h=g.attr("label")||"",i=!(!g.attr("disabled")||"false"===g.attr("disabled"));d=b.group(h,i),x(d),l(d,g)}}function l(c,d){for(var e,f=void 0===c,g=f?a.origin.children("option"):d.children("option"),h=0,i=g.length;h<i;h++){var j=(g.eq(h),g.eq(h).html()),k=g.eq(h).val(),l=!(!g.eq(h).attr("disabled")||"false"===g.eq(h).attr("disabled")),m=!(!g.eq(h).attr("selected")||"false"===g.eq(h).attr("selected"));e=b.option(j,k,l,m),f?z(e):c.optionAdd(e)}}function m(){var b=_.length,c=Y.length,d=0;return d=2.5*b+2*c,d=d>G?G:d,P.css("height",(0===d?2:d)+"em"),X.recountPosition(),a["public"]}function n(b){return da.isString(b)?(f(b),a["public"]):H}function o(b){return da.isString(b)?(j(b),a["public"]):L}function p(b){return void 0!==b?(e(b),a["public"]):K}function q(b){var c,d;if(void 0!==b){if(b=!!b,b!==I){if(I=b,d=aa.length,d>1&&!I)for(c=0;c<d-1;c++)aa[0].selected(0),aa.splice(0,1);d>0&&(I?R.html("1个项目"):R.html(aa[0].label())),ba.change.call(a["public"],v())}return a["public"]}return I}function r(){return U||(U=!0,O.addClass("on").focus(),m(),ba.open.call(a["public"])),a["public"]}function s(){return U&&(U=!1,O.removeClass("on"),ba.close.call(a["public"])),a["public"]}function t(){return U?s():r(),a["public"]}function u(){return X.getContent()}function v(b){var c,d=[];if(void 0!==b){if(!da.isArray(b))return v(i(arguments));for(b=b.map(function(a){return null===a?a:String(a)}),c=aa.length-1;c>=0;c--)w(aa[c],!1);for(c=0;c<_.length;c++)_[c].disabled()||_[c].group&&(!_[c].group||_[c].group.disabled())||b.indexOf(_[c].val())===-1||w(_[c]);return a["public"]}for(c=0;c<aa.length;c++)d.push(aa[c].val());return T.val(d.join(",")),I?d:d[0]?d[0]:null}function w(b,c){var e,f=void 0!==c;if(b&&b.type&&b.type===h){if(e=_.indexOf(b),e===-1)return a["public"];if(e=aa.indexOf(b),I){if(f&&(c&&e>-1||!c&&e===-1))return a["public"];(!f||f&&!c)&&e>-1?(b.selected(0),aa.splice(e,1)):(!f||f&&c)&&e===-1&&(b.selected(1),aa.push(b)),0===aa.length?R.removeAttr(d+"-value").html(H):R.attr(d+"-value",!0).html(aa.length+"个项目")}else{if(e>-1&&(!f||f&&c)||e===-1&&f&&!c)return a["public"];aa[0]&&(aa[0].selected(0),aa.splice(0,1)),e>-1&&f&&!c?R.removeAttr(d+"-value").html(H):(b.selected(1),aa.push(b),R.attr(d+"-value",!0).html(b.label()))}return ba.change.call(a["public"],v()),a["public"]}return aa}function x(b){return b&&b.type&&b.type===g&&!b.select&&b.selectIn(a["public"]),a["public"]}function y(b){return b&&b.type&&b.type===g&&b.select===a["public"]&&b.selectOut(),a["public"]}function z(b){b&&b.type&&b.type===h&&!b.select&&b.selectIn(a["public"])}function A(b){b&&b.type&&b.type===h&&b.select===a["public"]&&b.selectOut()}function B(b){return ba.open=b,a["public"]}function C(b){return ba.close=b,a["public"]}function D(b){return ba.change=b,a["public"]}function E(){ha(Q).setTap(t),S.on(J,function(){ca.ctrlClose.fire(O),r()})}function F(){c(a["public"],{getContent:u,placeholder:n,emptyText:o,direction:p,multiple:q,groups:Y,options:_,optionsByValue:aa,optionsDefault:Z,groupAdd:x,groupRemove:y,optionAdd:z,optionRemove:A,val:v,valOption:w,open:r,close:s,toggle:t,setOpen:B,setClose:C,setChange:D})}var G,H,I,K,L,M=(a.getOptions(["maxheight","placeholder","multiple","dir","emptyText"],function(a){G=parseInt(a.maxheight),(isNaN(G)||0===G)&&(G=20),H=a.placeholder||"请选择以下项目",I=!!a.multiple,K="up"===a.dir||a.dir===b.direction.up?b.direction.up:b.direction.down,L=a.emptyText||"当前列表未包含任何项"}),'<div class="'+d+'-put"><a class="'+d+'-btn" /><i class="ud2-ctrl-arrow" /></div><div class="'+d+'-list" /><input type="checkbox" /><input type="hidden" />'),N=a.current,O=N.html(M),P=O.children("div:last"),Q=O.children("div:first"),R=Q.children("a"),S=O.children(V),T=O.children(W),U=!1,X=null,Y=[],Z=[],_=[],aa=[],ba={open:$,close:$,change:$};return function(){a.origin.length&&(a.origin.after(O),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:S,attrReg:"tabindex"}),a.transferAttrs({accept:T,attrReg:"name"})),e(K),f(H),X=ka(P,{barState:0,isScrollMode:!0,barColor:"rgba(0,0,0,.2)",barColorOn:"rgba(0,0,0,.4)"}),u().attr(d+"-empty",L),a.autoClose=s,E(),F(),k()}(),a["public"]}}),ra("number",function(a){var b=a.className;a.init=function(a){function d(a){return a=parseFloat(a),(isNaN(a)||a<n)&&(a=n),a>o&&(a=o),a=Math.round((a-n)/l)*l+n,a=parseFloat(a.toFixed(m)),a>o&&(a-=l),a}function e(a){if(!y){if(y=!0,a&&p+l>o||!a&&p-l<n)return void(y=!1);var c='<input class="ud2-ctrl-textbox" />',d=Y.clone().addClass(b+"-view").html(c),e=Y.clone().addClass(b+"-view").html(c);u.parent();p=a?parseFloat((p+l).toFixed(m)):parseFloat((p-l).toFixed(m)),d.children().val(p),e.children().val(p),u.before(d),u.after(e),x.animate({top:a?"-100%":"100%"},300,function(){y=!1,h(p),x.css("top",0),d.remove(),e.remove()})}}function f(){e(0)}function g(){e(1)}function h(b){void 0!==b?(p=d(b),z.change.call(a["public"],p)):p=d(p),u.val(p)}function i(b){return void 0!==b?(h(b),a["public"]):p}function j(b){return z.change=b,a["public"]}function k(){ha(v).setTap(f),ha(w).setTap(g),ia(u).setDown(g).setUp(f),q=ja({autoOn:!1}).add(U.UP,f).add(U.DOWN,g).add(U.ENTER,function(){u.blur()}),u.focus(function(){q.on(),ca.ctrlClose.fire(t),t.addClass("on")}).blur(function(){q.off(),h(u.val()),t.removeClass("on")})}var l,m,n,o,p,q,r=(a.getOptions(["step","min","max","value"],function(a){l=parseFloat(a.step),(isNaN(l)||0===l)&&(l=1),n=parseFloat(a.min),isNaN(n)&&(n=0),o=parseFloat(a.max),isNaN(o)&&(o=100),p=a.value,n>o&&(o=n),p=d(p),m=l.toString().indexOf(".")>-1?l.toString().split(".")[1].length:0}),'<a class="'+b+'-ico ud2-ctrl-ico">&#xe106;</a><div class="'+b+'-move"><input type="text" value="0" class="ud2-ctrl-textbox" /></div><a class="'+b+'-ico ud2-ctrl-ico">&#xe107;</a>'),s=a.current,t=s.html(r),u=t.find("input"),v=t.children("a:first"),w=t.children("a:last"),x=v.next(),y=!1,z={change:$};return function(){a.origin.length&&(a.origin.after(t),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:u,attrReg:"name|tabindex"})),h(),k()}(),c(a["public"],{val:i,setChange:j})}}),ra("range",function(a){var b=a.className;a.init=function(a){function d(a){var b=null,c=null;return a=void 0!==a?(""+a).split(","):[0,0],b=parseFloat(a[0])||0,c=parseFloat(a[1])||0,[b,c]}function e(){R.nl=h(E),z&&(R.nr=h(F))}function f(){R.w=O.outerWidth(),R.bw=N.width(),R.max=R.bw-R.w}function g(a){return a*R.max/R.bw*100}function h(a){var b=(a-C)/(D-C);return b}function i(b,c){var d,e,f,i,j,k,l;b<C&&(b=C),b>D&&(b=D),E=Math.round((b-C)/A)*A+C,E=parseFloat(E.toFixed(B)),E>D&&(E-=A),d=h(E),O.css("left",g(d)+"%"),H.both?(c<C&&(c=C),c>D&&(c=D),F=Math.round((c-C)/A)*A+C,F=parseFloat(F.toFixed(B)),F>D&&(F-=A),e=h(F),P.css({left:g(e)+"%"}),f=Math.min(d,e),i=Math.max(d,e),j=Math.min(E,F),k=Math.max(E,F),O.css("z-index",E+1e4),P.css("z-index",F+1e4),Q.css({left:100*f+"%",width:100*(i-f)+"%"}),L.val(j+","+k),l=[j,k]):(Q.css("width",100*d+"%"),L.val(E),l=E),T.change.call(a["public"],l)}function j(){return S||(f(),H.both?i(E,F):i(E),e(),S=!0,K.addClass("on"),M.addClass(r+"ctrl-power-on"),G.on(),T.open.call(a["public"])),a["public"]}function k(){return S&&(S=!1,K.removeClass("on"),M.removeClass(r+"ctrl-power-on"),G.off(),T.close.call(a["public"])),a["public"]}function l(){return S?k():j(),a["public"]}function m(b,c){if(void 0!==b)return b=d(void 0!==c?[b,c].join(","):da.isArray(b)?b.join(","):b),i(b[0],b[1]),a["public"];if(z){var e=Math.min(E,F),f=Math.max(E,F);return[e,f]}return E}function n(b){return T.open=b,a["public"]}function o(b){return T.close=b,a["public"]}function p(b){return T.change=b,a["public"]}function q(a,b){var c=a*R.max+b,d=null;return c<0&&(c=0),c>R.max&&(c=R.max),d=parseFloat(((D-C)*c/R.max+C).toFixed(B)),d=isNaN(d)?C:d}function s(a){H.both?i(q(R.nl,a.x),F):i(q(R.nl,a.x))}function t(){R.nl=h(E)}function u(a){i(E,q(R.nr,a.x))}function v(){R.nr=h(F)}function w(){ca.ctrlClose.fire(K),j()}function x(){var a=d(L.val());f(),i(a[0],a[1]),e()}function y(){ha(M).setTap(l),ha(O,{stopPropagation:!0}).setDown(f).setPan(s).setUp(t),ha(P,{stopPropagation:!0}).setDown(f).setPan(u).setUp(v),G=ja({autoOn:!1}).add(U.ENTER,function(){L.blur()}),ca.pageResize.add(function(){f(),i(E,F)}),L.on("focus",w).on("blur",x)}var z,A,B,C,D,E,F,G,H=a.getOptions(["both","min","max","value","step"],function(a){var b;A=parseFloat(a.step),(isNaN(A)||0===A)&&(A=1),C=parseFloat(a.min),isNaN(C)&&(C=0),D=parseFloat(a.max),isNaN(D)&&(D=100),b=d(a.value),E=b[0],F=b[1],z=!(!a.both||"false"===a.both),C>D&&(D=C),B=A.toString().indexOf(".")>-1?A.toString().split(".")[1].length:0}),I='<input type="text" maxlength="20" class="ud2-ctrl-textbox" /><div class="ud2-ctrl-power"><i class="ico ico-range-x"></i><i class="ico ico-solid-cancel"></i></div><div class="'+b+'-list"><div class="'+b+'-end" /><div class="'+b+'-back" /></div>',J=a.current,K=J.html(I),L=K.children("input"),M=L.next(),N=M.next(),O=Z.clone().addClass(b+"-hand"),P=Z.clone().addClass(b+"-hand"),Q=N.find("."+b+"-back"),R={max:0,bw:0,w:0,nl:0,nr:0},S=!1,T={open:$,close:$,change:$};return function(){Q.after(O),z&&Q.after(P),a.origin.length&&(a.origin.after(K),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:L,attrReg:"name|tabindex"})),a.autoClose=k,e(),f(),i(E,F),y()}(),c(a["public"],{val:m,open:j,close:k,toggle:l,setOpen:n,setClose:o,setChange:p})}}),ra("date",function(a){var d=a.className,e=["上一年","下一年","上个月","下个月","前12年","后12年","年份选择","返回日期选择"],f=["日","一","二","三","四","五","六"],g=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],h=[31,28,31,30,31,30,31,31,30,31,30,31],i=new Date;a.init=function(a){function j(a){var b,c,d,e=function(a){var b=D.replace(/([\\\^\$\*\+\?\{\}\(\)\.\-\=\[\]])/g,"\\$1").replace(/[Yy]{4}/,0===a?"([0-9]{4})":"[0-9]{4}").replace(/[Yy]{2}/,1===a?"([0-9]{2})":"[0-9]{2}").replace(/[Mm]{2}/,2===a?"(0[1-9]|[1][012])":"(?:0[1-9]|[1][012])").replace(/[Mm]/,3===a?"(1[012]|[1-9])":"(?:1[012]|[1-9])").replace(/[Dd]{2}/,4===a?"(0[1-9]|[12][0-9]|3[01])":"(?:0[1-9]|[12][0-9]|3[01])").replace(/[Dd]/,5===a?"([12][0-9]|3[01]|[1-9])":"(?:[12][0-9]|3[01]|[1-9])");return new RegExp(b)},f=function(b){var c;return c=e(2*b).exec(a),c=c&&c[1],c||(c=e(2*b+1).exec(a),c=c&&c[1]),parseInt(c)};if(a){if(e().test(a))b=f(0)||G.now.getFullYear(),c=f(1)||1,d=f(2)||1,b<100&&(b+=2e3);else{var g=new Date(a);isNaN(g)?(b=G.now.getFullYear(),c=G.now.getMonth()+1,d=G.now.getDate()):(b=g.getFullYear(),c=g.getMonth()+1,d=g.getDate())}G.setDateValue(b,c-1,d),G.selectReset()}else G.setDateValue(),G.selectReset()}function k(){var a=J.find("."+d+"-tools a");l(),ha(a.eq(0)).setTap(function(){G.select.setFullYear(G.select.getFullYear()-1),l()}),ha(a.eq(3)).setTap(function(){G.select.setFullYear(G.select.getFullYear()+1),l()}),ha(a.eq(1)).setTap(function(){G.select.setMonth(G.select.getMonth()-1),l()}),ha(a.eq(2)).setTap(function(){G.select.setMonth(G.select.getMonth()+1),l()}),ha(O).setTap(function(){M.slideUp(300),N.slideDown(300),n()}),ha(Q).setTap(function(){G.setDateValue(G.now.getFullYear(),G.now.getMonth(),G.now.getDate()),G.selectReset(),u(1)}),ha(R).setTap(function(){G.setDateValue(),G.selectReset(),u(1)})}function l(){var a,b,c,e=M.children("table"),g=M.find("."+d+"-tools-text"),i=[],j=G.select.getFullYear()%4===0,k=G.select.getMonth()-1<0?11:G.select.getMonth()-1,l=h[G.select.getMonth()],m=h[k],n=new Date(G.select.getFullYear(),G.select.getMonth(),1).getDay();g.html(G.select.getFullYear()+" 年 "+(G.select.getMonth()+1)+" 月"),j&&1===G.select.getMonth()&&(l=29),j&&2===G.select.getMonth()&&(m=29),i.push("<tr>");for(a in f)i.push("<th>"+f[a]+"</th>");for(i.push("</tr><tr>"),a=0,b=-1,c=0;a<42;a++)a<n?(b++,i.push('<td class="',d,'-nomonth">',m-n+a+1,"</td>")):a-b<=l?i.push('<td class="',(a+1)%7===0||(a+1)%7===1?d+"-weekend":"",'" ',d,'-date="',a-b,'" ',G.select.getFullYear()===G.now.getFullYear()&&G.select.getMonth()===G.now.getMonth()&&G.now.getDate()===a-b?d+"-today ":"",G.value&&G.select.getFullYear()===G.value.getFullYear()&&G.select.getMonth()===G.value.getMonth()&&G.value.getDate()===a-b?d+"-now ":"",">",a-b,"</td>"):(c++,i.push('<td class="',d,'-nomonth">',c,"</td>")),(a+1)%7===0&&i.push("</tr><tr>");e.children().remove(),e.append(i.join("")),ha(e.find("["+d+"-date]")).setTap(function(){G.setDateValue(G.select.getFullYear(),G.select.getMonth(),this.attr(d+"-date")),K.blur(),u(1)})}function m(){var a=N.find("."+d+"-tools a"),b=N.find("."+d+"-btns button");n(),ha(a.eq(0)).setTap(function(){G.select.setFullYear(G.select.getFullYear()-12),n()}),ha(a.eq(1)).setTap(function(){G.select.setFullYear(G.select.getFullYear()+12),n()}),ha(b.eq(0)).setTap(function(){M.slideDown(300),N.slideUp(300),l()}),ha(P).setTap(function(){M.slideDown(300),N.slideUp(300),l()})}function n(){var a,b=N.children("table"),c=[],e=0,f=d+"-year",h="["+f+"]",i=d+"-month",j="["+i+"]",k=d+"-now";for(e=G.select.getFullYear()%12===0?G.select.getFullYear()-11:12*parseInt(G.select.getFullYear()/12)+1,c.push("<tr><td>"),a=0;a<12;a++)c.push("<div ",d,'-year="',e+a,'" ',G.select.getFullYear()===e+a?k:"",">",e+a,"</div>");for(c.push("</td><td>"),a=0;a<12;a++)c.push("<div ",d,'-month="',a,'" ',G.select.getMonth()===a?k:"",">",g[a],"</div>");c.push("</td></tr>"),b.children().remove(),b.append(c.join("")),ha(b.find(h)).setTap(function(){G.select.setFullYear(this.attr(f)),b.find(h).removeAttr(k),this.attr(k,"")}),ha(b.find(j)).setTap(function(){G.select.setMonth(this.attr(i)),b.find(j).removeAttr(k),this.attr(k,"")})}function o(a){C=a,K.attr("placeholder",C)}function p(a){D=a,G.setDateValue(G.value)}function q(b){return da.isString(b)?(o(b),a["public"]):C}function s(b){return da.isString(b)?(p(b),a["public"]):D}function t(){return S||(S=!0,J.addClass("on"),L.addClass(r+"ctrl-power-on"),M.show(),N.hide(),F.on(),T.open.call(a["public"])),a["public"]}function u(b){var c;return S&&(S=!1,J.removeClass("on"),L.removeClass(r+"ctrl-power-on"),b||(c=K.val(),""===c?j():j(c)),l(),F.off(),T.close.call(a["public"])),a["public"]}function v(){return S?u():t(),a["public"]}function w(b){return void 0!==b?(j(b),a["public"]):E}function x(b){return T.open=b,a["public"]}function y(b){return T.close=b,a["public"]}function z(b){return T.change=b,a["public"]}function A(){ca.ctrlClose.fire(J),t()}function B(){ha(L).setTap(v),F=ja({autoOn:!1}).add(U.ENTER,function(){K.blur(),u()}).add(U.LEFT,function(){j(G.value.setDate(G.value.getDate()-1))}).add(U.RIGHT,function(){j(G.value.setDate(G.value.getDate()+1))}).add(U.UP,function(){j(G.value.setDate(G.value.getDate()-7))}).add(U.DOWN,function(){j(G.value.setDate(G.value.getDate()+7))}),K.on("focus",A)}var C,D,E,F,G=(a.getOptions(["placeholder","format","value"],function(a){C=a.placeholder||"请选择日期",D=a.format||"yyyy/MM/dd",E=a.value||null}),{seats:function(a){return(1===a.toString().length?"0":"")+a},toString:function(){var a=D.replace(/[Yy]{4}/,this.value.getFullYear()).replace(/[Yy]{2}/,this.value.getFullYear()-2e3).replace(/[Mm]{2}/,this.seats(this.value.getMonth()+1)).replace(/[Mm]/,this.value.getMonth()+1).replace(/[Dd]{2}/,this.seats(this.value.getDate())).replace(/[Dd]/,this.value.getDate());return a},setDateValue:function(b,c,d){var e=E;b instanceof Date?(this.value=new Date(b.getTime()),E=this.toString()):3===arguments.length?(this.value=new Date(b,c,d),E=this.toString()):(this.value=null,E=""),K.val(E),e!==E&&T.change.call(a["public"],E)},selectReset:function(){this.select=new Date(this.value?this.value.getTime():this.now.getTime()),l()},now:new Date(i.getTime()),select:new Date(i.getTime()),value:null}),H='<input type="text" placeholder="'+C+'" maxlength="20" class="ud2-ctrl-textbox" /><span class="ud2-ctrl-power"><i class="ico ico-calendar"></i><i class="ico ico-solid-cancel"></i></span><div class="'+d+'-list"><div class="'+d+'-datelist"><div class="'+d+'-tools"><div class="'+d+'-tools-left"><a class="ico" title="'+e[0]+'">&#xec00;</a><a class="ico" title="'+e[2]+'">&#xec01;</a></div><div class="'+d+'-tools-right"><a class="ico" title="'+e[3]+'">&#xec02;</a><a class="ico" title="'+e[1]+'">&#xec03;</a></div><div class="'+d+'-tools-text" title="'+e[6]+'">- 年 - 月</div></div><table /><div class="'+d+'-btns"><button class="btn sm" tabindex="-1">今日</button> <button class="btn sm" tabindex="-1">清空</button></div></div><div class="'+d+'-ymlist"><div class="'+d+'-tools"><div class="'+d+'-tools-left"><a class="ico" title="'+e[4]+'">&#xec00;</a></div><div class="'+d+'-tools-right"><a class="ico" title="'+e[5]+'">&#xec03;</a></div><div class="'+d+'-tools-text" title="'+e[7]+'">年份 / 月份</div></div><table /><div class="'+d+'-btns"><button class="btn sm" tabindex="-1">确定</button></div></div></div>',I=a.current,J=I.html(H),K=J.children("input"),L=K.next(),M=J.find("."+d+"-datelist"),N=J.find("."+d+"-ymlist"),O=J.find("."+d+"-tools-text"),P=N.find("."+d+"-tools-text"),Q=M.find("."+d+"-btns button:eq(0)"),R=M.find("."+d+"-btns button:eq(1)"),S=!1,T={open:b.noop,close:b.noop,change:b.noop};return function(){a.origin.length&&(a.origin.after(J),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:K,attrReg:"name|tabindex"})),a.autoClose=u,j(E),k(),m(),B()}(),c(a["public"],{placeholder:q,format:s,val:w,open:t,close:u,toggle:v,setOpen:x,setClose:y,setChange:z})}}),ra("file",function(d,e){var f=d.className,g="length-error",h="type-error",i="size-error",k="repeat-error",l="server-error",m="server-return-error",n="default",o="simple",p="custom";d.init=function(a){function d(a){for(var b,c=0,d=a.length;c<d;c++)if(b=a[c].name.split("."),b=b[b.length-1].toLowerCase(),!b||void 0===W[b])return!1;return!0}function f(b){var c=0,e=b.length;if(e+ba.length>S)ia.error.call(a["public"],g);else if(d(b)){for(var f=[],j=[],l=0;c<e;c++)b[c].size>1024*T?f.push(b[c].name):ba.some(function(a){return a.name===b[c].name&&a.size===b[c].size})?j.push(b[c].name):(ba.push(b[c]),ga.add(b[c]),l++);j.length>0&&ia.error.call(a["public"],k,j),f.length>0&&ia.error.call(a["public"],i,f)}else ia.error.call(a["public"],h)}function q(c){var d=new FormData,e=X;d.append("file",c),U&&(e+="?name="+c.newname+"&tick="+(new Date).getTime()),b.ajax({type:"POST",url:e,data:d,contentType:!1,processData:!1,xhr:function(){var a=b.ajaxSettings.xhr();return a.upload&&a.upload.addEventListener("progress",function(a){var b=parseInt(a.loaded/a.total*100);ga.progress(c,b)},!1),a}}).done(function(b){var d;r(),d=ia.done.call(a["public"],b,c),void 0===d&&(d=!0),d||(s(),ia.error.call(ctrl["public"],m,c.name)),ga.done(d,c),w()===ba.length&&(ca=2,ia.complete.call(a["public"]))}).fail(function(b){r(),s(),ia.fail.call(a["public"],b,c),ga.fail(c),ia.error.call(ctrl["public"],l,c.name),w()===ba.length&&(ca=2,ia.complete.call(a["public"]))})}function r(){da++}function s(){ea++}function t(){return _}function u(){return{state:U,length:V}}function v(){return ba}function w(){return da}function x(){return ea}function y(){return ca}function z(a){return a=j(a),ha(a,{stopPropagation:!0}).setTap(function(){0===ca&&aa.trigger("click")}),fa}function A(a,b){return a=j(a),ha(a,{stopPropagation:!0}).setTap(function(){0===ca&&ga.remove.call(this,b)}),fa}function B(a){return a=j(a),ha(a,{stopPropagation:!0}).setTap(function(){var a,b,c;if(0===ca&&0!==ba.length){for(ca=1,a=new FormData,b=0,c=ba.length;b<c;b++)q(ba[b]);ga.upload.call(this)}}),fa}function C(a){return a=j(a),ha(a,{stopPropagation:!0}).setTap(function(){0===ca&&(ba.length=0,ga.clear.call(this))}),fa}function D(a){return ga.add=a,fa}function E(a){return ga.remove=a,fa}function F(a){return ga.upload=a,fa}function G(a){return ga.clear=a,fa}function H(a){return ga.progress=a,fa}function I(a){return ga.done=a,fa}function J(a){return ga.fail=a,fa}function K(b){return ia.error=b,a["public"]}function L(b){return ia.complete=b,a["public"]}function M(b){return ia.done=b,a["public"]}function N(b){return ia.fail=b,a["public"]}function O(){f(this.files),P()}function P(){var a;""!==aa.val()&&("form"!==aa.parent().get(0).nodeName.toLowerCase()&&(a=b("<form />"),aa.wrap(a)),a=aa.parent(),a.get(0).reset())}function Q(){aa.on("change",O)}function R(){c(a["public"],{style:c(fa,{filesHandler:f,fileAddBtn:z,fileRemoveBtn:A,uploadBtn:B,clearBtn:C,fileAddFn:D,fileRemoveFn:E,uploadFn:F,clearFn:G,progressFn:H,doneFn:I,failFn:J}),getContent:t,getUpState:y,getRenameState:u,getUpfiles:v,getDoneNum:w,getErrorNum:x,setError:K,setComplete:L,setDone:M,setFail:N})}var S,T,U,V,W,X,Y,Z=(a.getOptions(["maxlength","maxsize","rename","renamLength","urlUpload","filter","style"],function(a){var b,c,d="(png|jpg|gif|bmp|svg|ico|html|js|cs|vb|css|less|scss|sass|mp3|mp4|wav|avi|ogg|mov|wmv|webm|flv|swf|txt|pdf|doc|docx|xls|xlsx|ppt|pptx|ett|wpt|dpt|rar|zip|iso)",e=new RegExp("^("+d+",)*"+d+"$");for(S=parseInt(a.maxlength)||20,T=parseInt(a.maxsize)||2048,U="false"!==a.rename&&!!a.rename,V=parseInt(a.renameLength)||50,W=a.filter||"",W=e.test(W)?W:"gif,jpg,png",W="all"===W?e.split("|"):W.split(","),c=W.length,b=0;b<c;b++)W[W[b]]=W[b];X=a.urlUpload||"",Y=a.style,Y!==n&&Y!==o&&Y!==p&&(Y=n)}),'<input type="file" multiple />'),$=a.current,_=$.html(Z),aa=_.children("input"),ba=[],ca=0,da=0,ea=0,fa={},ga={add:b.noop,remove:b.noop,upload:b.noop,clear:b.noop,progress:b.noop,done:b.noop,fail:b.noop},ia={error:function(a,b){switch(a){case g:na.message.danger("您选择的文件数量已经超过最大个数限制，该限制为 "+S+" 个");break;case h:na.message.danger("您选择的文件类型不符合要求，请您重新选择文件");break;case i:na.message.danger("您选择的文件超出 "+T+"KB 限制，尺寸不符的文件："+b.join("、"));break;case k:na.message.warning("您选择的文件已存在于列表中，重复的文件："+b.join("、"));break;case l:na.message.danger("您的文件 "+b+" 已被阻止，请检查您的文件");break;case m:na.message.danger("文件 "+b+" 被服务器退回，请检查您的文件是否符合要求")}},complete:b.noop,done:b.noop,fail:b.fail};return function(){a.origin.length&&(a.origin.after(_),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:aa,attrReg:"name|tabindex"})),Q(),R(),Y===n&&e["default"](a["public"])}(),a["public"]},e["default"]=function(c){function d(c){var d,e=b('<div class="'+f+'-full-figure"><div class="'+f+'-full-img"><img ondragstart="return false;" /></div>'+(v.state?'<div class="'+f+'-full-rename"><input type="text" value="'+c.name.substring(0,v.length)+'" maxlength="'+v.length+'" /></div>':"<div>"+c.name+"</div>")+'<div class="'+f+'-full-close"></div><div class="'+f+'-full-progress"></div></div>'),g=e.find("input"),h=e.children("."+f+"-full-close");1===w.length&&(p.fadeOut(200),r.fadeIn(200),s.fadeIn(200)),/^image\/(png|jpeg|gif|bmp|svg)/.test(c.type)?(d=new FileReader,d.readAsDataURL(c),d.addEventListener("loadend",function(){e.find("img").attr("src",d.result)})):(e.find("img").attr("src","data:image/svg+xml;base64,77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDEzOCAxMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEzOCAxMTg7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnB7ZmlsbDojZmZmO30NCjwvc3R5bGU+DQoJPHBhdGggY2xhc3M9InAiIGQ9Ik05MS42LDQzLjJjLTEuMi0xLjctMy0zLjctNC45LTUuNmMtMS45LTEuOS0zLjktMy42LTUuNi00LjljLTIuOS0yLjEtNC4zLTIuNC01LjEtMi40SDQ4LjUNCgkJYy0yLjUsMC00LjUsMi00LjUsNC41djQ4LjJjMCwyLjUsMiw0LjUsNC41LDQuNWg0MS4xYzIuNSwwLDQuNS0yLDQuNS00LjVWNDguM0M5NCw0Ny41LDkzLjgsNDYuMSw5MS42LDQzLjJ6IE04NC4zLDQwLjINCgkJYzEuNywxLjcsMy4xLDMuMyw0LjEsNC41aC04LjZ2LTguNkM4MSwzNy4xLDgyLjUsMzguNSw4NC4zLDQwLjJMODQuMyw0MC4yeiBNOTAuNCw4My4xYzAsMC41LTAuNCwwLjktMC45LDAuOUg0OC41DQoJCWMtMC41LDAtMC45LTAuNC0wLjktMC45VjM0LjljMC0wLjUsMC40LTAuOSwwLjktMC45YzAsMCwyNy43LDAsMjcuNywwdjEyLjVjMCwxLDAuOCwxLjgsMS44LDEuOGgxMi41VjgzLjF6Ii8+DQoJPHBhdGggY2xhc3M9InAiIGQ9Ik04MS41LDc2LjloLTI1Yy0xLDAtMS44LTAuOC0xLjgtMS44YzAtMSwwLjgtMS44LDEuOC0xLjhoMjVjMSwwLDEuOCwwLjgsMS44LDEuOA0KCQlDODMuMyw3Ni4xLDgyLjUsNzYuOSw4MS41LDc2Ljl6Ii8+DQoJPHBhdGggY2xhc3M9InAiIGQ9Ik04MS41LDY5LjdoLTI1Yy0xLDAtMS44LTAuOC0xLjgtMS44YzAtMSwwLjgtMS44LDEuOC0xLjhoMjVjMSwwLDEuOCwwLjgsMS44LDEuOA0KCQlDODMuMyw2OC45LDgyLjUsNjkuNyw4MS41LDY5Ljd6Ii8+DQoJPHBhdGggY2xhc3M9InAiIGQ9Ik04MS41LDYyLjZoLTI1Yy0xLDAtMS44LTAuOC0xLjgtMS44YzAtMSwwLjgtMS44LDEuOC0xLjhoMjVjMSwwLDEuOCwwLjgsMS44LDEuOA0KCQlDODMuMyw2MS44LDgyLjUsNjIuNiw4MS41LDYyLjZ6Ii8+DQo8L3N2Zz4="),e.find("img").css("background","#3f99d5")),e.data("file",c),c.element=e,x.fileRemoveBtn(h,c),v.state&&(c.newname=c.name,g.on(L,function(a){a.preventDefault(),b(this).select()}).on("blur",function(){c.newname=b(this).val()})),u.before(e),a.setTimeout(function(){e.addClass(f+"-full-figure-on")},150)}function g(b){var c=w.indexOf(b);w.splice(c,1),b.element.removeClass(f+"-full-figure-on"),a.setTimeout(function(){b.element.remove()},100),0===w.length&&(p.show(),r.hide(),s.hide())}function h(){r.children().not("["+f+"-add]").remove(),p.show(),r.hide(),s.hide()}function i(a,b){var c=a.element.find("."+f+"-full-progress");c.css("width",b+"%"),c.html(b+"%")}function j(a){r.find("["+f+"-add]").hide(),r.find("."+f+"-full-close").hide(),r.find("."+f+"-full-figure input").attr("readonly","readonly"),s.html("文件开始上传...")}function k(a,b){a?b.element.addClass("success"):b.element.addClass("fail"),m()}function l(){file.element.addClass("fail"),m()}function m(){c.getDoneNum()===w.length?s.html('<span class="c-success">全部文件已上传完毕，共 '+c.getDoneNum()+" 个"+(0!==c.getErrorNum()?"，失败 "+c.getErrorNum()+" 个":"")+"</span>"):s.html("已上传文件 "+c.getDoneNum()+" 个"+(0!==c.getErrorNum()?"，失败 "+c.getErrorNum()+" 个":""))}function n(){o.on("dragenter",function(){0===c.getUpState()&&o.addClass("ud2-file-full-dragenter")}),q.on("dragleave",function(){0===c.getUpState()&&o.removeClass("ud2-file-full-dragenter")}).on("dragover",function(a){0===c.getUpState()&&(a.preventDefault(),o.addClass("ud2-file-full-dragenter"))}).on("drop",function(a){if(0===c.getUpState()){a.preventDefault(),a=a.originalEvent;var b=a.dataTransfer&&a.dataTransfer.files||a.target&&a.target.files;x.filesHandler(b),o.removeClass("ud2-file-full-dragenter")}})}var o,p,q,r,s,t,u,v,w,x;return c&&c.type&&"file"===c.type?(function(){x=c.style,v=c.getRenameState(),w=c.getUpfiles(),o=Y.clone().addClass(f+"-full"),p=b('<div class="'+f+'-full-nofile"><button class="btn btn-solid c-blue" ud2-file-add><i class="ico ico-group-file"></i> 添加文件</button><em>拖拽文件上传 / 长按CTRL键可多选上传</em></div>'),q=b('<div class="'+f+'-full-drag">请松开鼠标按钮，文件将进入待上传队列</div>'),r=b('<div class="'+f+'-full-list"><div class="'+f+'-full-add" ud2-file-add><div><i class="ico ico-hollow-plus"></i><em>继续添加文件</em></div></div></div>'),s=b('<div class="'+f+'-full-tools"><button class="btn btn-solid">确定上传</button><button class="btn btn-solid">清空列表</button></div>'),o.append(r).append(p).append(q).append(s),t=o.find("["+f+"-add]"),u=r.find("["+f+"-add]"),c.getContent().append(o),x.fileAddBtn(t).uploadBtn(s.children().eq(0)).clearBtn(s.children().eq(1)).fileAddFn(d).fileRemoveFn(g).clearFn(h).progressFn(i).uploadFn(j).doneFn(k).failFn(l),n()}(),delete c.style,c):na.file.create.apply(e,arguments)}}),function(){o.ready(function(){l=b("body"),ga.safari&&m.body.addEventListener("touchstart",b.noop),ca.pageReady.fire(),ba=!0,o.on(L,function(a){var b="ctrlCloseEvent",c=a.type,d=o.data(b);d&&c!==d||(o.data(b,c),ca.ctrlClose.fire(a.target)),"mousedown"===c&&o.data(b,null)}),o.on(L,".message:not([ud2]) .message-close",function(){b(this).parent().remove()})}),n.on("resize orientationchange",function(){ca.pageResize.fire()}),o.on("keydown",function(a){ca.keyDown.fire(a,a.keyCode,a.ctrlKey,a.altKey,a.shiftKey)}).on("keyup",function(a){ca.keyUp.fire(a,a.keyCode,a.ctrlKey,a.altKey,a.shiftKey)}),ca.pageReady.add(na.createAllControl)}(),c(na,{extend:c,propertier:d,creater:qa,controlCreater:ra,type:da,convert:ea,form:fa,support:ga,style:la,color:ma,common:{key:U},event:ha,eventMouseWheel:ia,eventKeyShortcut:ja,scroll:ka})}(window,jQuery);!function(){var a=ud2.creater("dataTable",function(a){var c=[],d=[],e={};return function(){a=a||"",b.push(e),a&&(b[a]=e)}(),ud2.extend(e,{columns:c,rows:d})}),b=[],c={string:"string",number:"number","boolean":"boolean",datetime:"datetime"};ud2.creater("column",function(a){!a&&(a={});var b={},d=a.dataType||c.string,e=void 0===a.allowNull||!!a.allowNull,f=a.defaultValue||null,g=a.readonly||!1,h=a.maxLength||-1,i=ud2.propertier(function(){return d},function(a){return a&&c[a]&&(d=c[a]),b}),j=ud2.propertier(function(){return e},function(a){return e=!!a,b}),k=ud2.propertier(function(){return g},function(a){return g=!!a,b});ud2.propertier(function(){return f},function(a){return(d===c.string&&ud2.type.isString(a)||d===c["boolean"]&&ud2.type.isBoolean(a)||d===c.number&&ud2.type.isNumber(a)||d===c.datetime&&ud2.type.isDatetime(a))&&(d===c.string&&f.length>h&&(f=f.substring(0,h)),f=a),b});return ud2.extend(b,{type:i,allowNull:j,readonly:k})},a),ud2.creater("row",function(){},a),a.type=c,a.collection=b}();
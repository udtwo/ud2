/*! ud2 - v1.0.0
 * (c) 2016 Peak(peak@udtwo.com)
 */
if("undefined"==typeof $)throw new Error("ud2库需要JQuery支持");var ud2=function(a,b){"use strict";function c(a,b){ka.isObject(a)||(a={}),ka.isObject(b)||(b={});for(var c in b)a[c]=b[c];return a}function d(a,b){return function(){var c=arguments,d=c.length;return 0===d?a.apply(this,c):b.apply(this,c)}}function e(){function a(b){var c,d,e;if(!ka.isArray(b))return b=String(b),c=i.userOptions[b],void 0===c&&(c=i.getOriginAttr(b,1)),void 0===c&&(c=i.getOriginAttr(b)),c;for(d=0,e=b.length;d<e;d++)if(c=a(b[d]),void 0!==c)return c}var b,d,e,f,g=arguments,h=g.length,i=this;if(2===h){if(e=g[0],f=g[1],ka.isArray(e)&&ka.isFunction(f))return b={},e.forEach(function(c){b[ka.isArray(c)?c[0]:c]=a(c)}),f(b),b}else if(3===h&&(b=g[0],d=g[1]||{},f=g[2],ka.isObject(b)&&ka.isObject(d)&&ka.isFunction(f)))return b=c(b,d),f(b),b;return{}}function f(a){var b=(a.attr(r)||"").split(" "),c=[];return b.forEach(function(a){0!==a.length&&c.push(a)}),c}function g(a){var b=a.split("-"),c=1,d=b.length;if(d>1)for(;c<d;c++)b[c].length>0&&(b[c]=b[c].substr(0,1).toUpperCase()+b[c].substr(1));return b.join("")}function h(a,b,c){return ka.isArray(a)&&2===a.length?a={x:a[0],y:a[1]}:ka.isObject(a)?a={x:a.x||a.width||a.w,y:a.y||a.height||a.h}:ka.isString(a)?(a=a.split(a.indexOf(",")>-1?",":" "),a=2===a.length?{x:a[0],y:a[1]}:{x:a[0],y:a[1]}):a=ka.isNumber(a)?{x:a,y:a}:{x:0,y:0},a.x=parseInt(a.x)||b,a.y=parseInt(a.y)||c,a}function i(a){return Array.prototype.slice.call(a)}function j(a){return ka.isJQuery(a)||(a=b(a)),a}function k(){var a=0;return function(){return t+a++}}function l(){for(var a=arguments,b=a.length,c=0,d={};c<b;c++)d[arguments[c]]=arguments[c];return d}function m(a,b){return void 0===a?b:"true"===a||"1"===a||"false"!==a&&"0"!==a&&!!a}var n,o=a.document,p=b(a),q=b(o),r="ud2",s="-",t=r+s,u=(" -webkit- -moz- -o- -ms- ".split(" "),a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},{date:/^(?:[12]\d{3}([\.\-\/])(?:(?:0?[13578]|1[02])\1(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\1(?:0?[1-9]|[12]\d|30)|0?2\1(?:0?[1-9]|1\d|2[0-8]))$|[12]\d(?:[02468][048]|[13579][26])([\.\-\/])(?:(?:0?[13578]|1[02])\2(?:0?[1-9]|[12]\d|3[01])|(?:0?[469]|11)\2(?:0?[1-9]|[12]\d|30)|0?2\2(?:0?[1-9]|1\d|2[0-9])))$/,mail:/^([\w-\.]+)@(([\w-]+\.)+)([a-zA-Z]{2,4})$/,phone:/^[1][3458][0-9]{9}$/,identityCard:/^(11|12|13|14|15|21|22|23|31|32|33|34|35|36|37|41|42|43|44|45|46|50|51|52|53|54|61|62|63|64|65|71|81|82|97|98|99)[0-9]{4}((?:19|20)?(?:[0-9]{2}(?:(?:0[13578]|1[12])(?:0[1-9]|[12][0-9]|3[01])|(?:0[469]|11)(?:0[1-9]|[12][0-9]|30)|02(?:0[1-9]|1[0-9]|2[0-8]))|(?:[02468][048]|[13579][26])0229)[0-9]{3}[\dxX])$/,loginName:/^[a-zA-Z][a-zA-Z0-9]+$/}),v=Date.now||function(){return(new Date).getTime()},w=a.navigator.pointerEnabled,x=w?"pointerdown":"MSPointerDown",y=w?"pointermove":"MSPointerMove",z=w?"pointerup":"MSPointerUp",A=w?"pointercancel":"MSPointerCancel",B="touchstart",C="touchmove",D="touchend",E="touchcancel",F="mousedown",G="mousemove",H="mouseup",I="mouseout",J="mouseenter",K="mouseleave",L="focus",M="click",N=[x,B,F].join(" "),O="center",P="fullscreen",Q="top-left",R="top-right",S="bottom-left",T="bottom-right",U="top-center",V="bottom-center",W={A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT:37,UP:38,RIGHT:39,DOWN:40,KEY0:48,KEY1:49,KEY2:50,KEY3:51,KEY4:52,KEY5:53,KEY6:54,KEY7:55,KEY8:56,KEY9:57,"`":192,BACK:8,NUM0:96,NUM1:97,NUM2:98,NUM3:99,NUM4:100,NUM5:101,NUM6:102,NUM7:103,NUM8:104,NUM9:105,ENTER:13,"NUM+":107,"NUM-":109,"NUM*":106,"NUM/":111,"-":189,"=":187,",":188,".":190,"/":191,"\\":220,SHIFT:16,CTRL:17,ALT:18,CAPS:20,TAB:9,"[":219,"]":221,";":186,"'":222,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},X="simple",Y="standard",Z="custom",$="about:blank",_='[type="checkbox"]',aa='[type="hidden"]',ba=12,ca=".",da=b("<div />"),ea=b("<a />"),fa=function(){},ga=/(^[a-z0-9]{1,}|[A-Z][a-z0-9]{0,})/g,ha={},ia=!1,ja={pageReady:b.Callbacks(),pageResize:b.Callbacks(),ctrlClose:b.Callbacks(),keyDown:b.Callbacks(),keyUp:b.Callbacks()},ka=function(){function a(a){return function(b){return{}.toString.call(b)==="[object "+a+"]"}}function c(b){return a("Object")(b)}function d(b){return a("Function")(b)}function e(b){return a("String")(b)}function f(b){return a("Boolean")(b)}function g(b){return a("Number")(b)}function h(a){return/^([1-9]\d+|[0-9])$/.test(a)}function i(a){return a instanceof b}function j(a){return Array.isArray(a)}function k(a){return a instanceof Date}return{isType:a,isObject:c,isFunction:d,isString:e,isBoolean:f,isNumber:g,isDatetime:k,isNaturalNumber:h,isJQuery:i,isArray:j}}(),la=function(){function a(a){return ka.isNaturalNumber(a)?+a:0}return{toNaturalNumber:a}}(),ma=function(){function a(a){return ka.isString(a)?a:""}function b(b,c,d){return b=a(b),c=c||Number.MAX_VALUE,"undefined"!=typeof d?(d<c&&(d=c),b.length<=d&&b.length>=c):b.length===c}function c(b,c){return b=a(b),c=c||0,b.length>=c}function d(b,c){return b=a(b),c=c||Number.MAX_VALUE,b.length<=c}function e(b){return b=a(b),u.phone.test(b)}function f(b){return b=a(b),u.mail.test(b)}function g(b){return b=a(b),u.date.test(b)}function h(b){return b=a(b),u.loginName.test(b)}function i(b){if(b=a(b),b=b.toUpperCase(),u.identityCard.test(b)){if(18===b.length){for(var c=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],d=["1","0","X","9","8","7","6","5","4","3","2"],e=b.split(""),f=0,g=0;g<17;g++)f+=e[g]*c[g];var h=d[f%11];if(h!==e[17])return!1}return!0}return!1}return{isLength:b,isMinLength:c,isMaxLength:d,isPhone:e,isMail:f,isDate:g,isLoginName:h,isIdentityCard:i}}(),na=function(){var b={},c=o.createElement("div"),d=a.navigator.userAgent;return b.safari=/constructor/i.test(a.HTMLElement),b.mobile=!!d.match(/mobile|mobi|mini/i),b.android=d.indexOf("Android")>-1,b.touch="ontouchstart"in a||a.DocumentTouch&&o instanceof DocumentTouch,b.pointer=w,b.msPointer=a.navigator.msPointerEnabled,b.touchAction=void 0!==c.style.touchAction||void 0!==c.style.msTouchAction||!1,b.perspective=void 0!==c.style.perspective||void 0!==c.style.msPerspective||void 0!==c.style.mozPerspective||void 0!==c.style.webkitPerspective||!1,b.transition=void 0!==c.style.transition||void 0!==c.style.msTransition||void 0!==c.style.mozTransition||void 0!==c.style.webkitTransition||void 0!==c.style.oTransition||!1,b.animation=void 0!==c.style.animation||void 0!==c.style.mozAnimation||void 0!==c.style.webkitAnimation||void 0!==c.style.oAnimation||!1,b}(),oa=function(d,f){function g(a){return Q.pan=a,P}function h(a){return Q.tap=a,P}function i(a){return Q.press=a,P}function k(a){return Q.swipeLeft=a,P}function l(a){return Q.swipeRight=a,P}function m(a){return Q.swipeTop=a,P}function o(a){return Q.swipeBottom=a,P}function p(a){return Q.down=a,P}function r(a){return Q.up=a,P}function s(a,b){function d(a){a&&(a.screenX&&(l.moveScreenX=a.screenX),a.screenY&&(l.moveScreenY=a.screenY),a.pageX&&(l.movePageX=a.pageX),a.pageY&&(l.movePageY=a.pageY),a.clientX&&(l.moveClientX=a.clientX),a.clientY&&(l.moveClientY=a.clientY))}function e(){return{x:l.movePageX-l.downPageX,y:l.movePageY-l.downPageY}}var f=b?b.screenX:0,g=b?b.screenY:0,h=b?b.pageX:0,i=b?b.pageY:0,j=b?b.clientX:0,k=b?b.clientY:0,l={del:!1,id:a,downScreenX:f,downScreenY:g,downPageX:h,downPageY:i,downClientX:j,downClientY:k,moveScreenX:f,moveScreenY:g,movePageX:h,movePageY:i,moveClientX:j,moveClientY:k};return c(l,{setMove:d,getMoveLength:e})}function u(b){function c(a){0===d()&&(T.id=a,T.time=v())}function d(){var a=0;for(var b in S)S[b].del||a++;return a}function e(){for(var a in S)S[a].del&&delete S[a]}function f(){if(na.mobile){var b,c=da.clone().css({position:"fixed",top:0,right:0,left:0,bottom:0,"z-index":999999999});n.append(c),c.on(B,function(a){a.stopPropagation(),a.preventDefault()}).on(M,function(d){d.stopPropagation(),d.preventDefault(),b&&a.clearTimeout(b),c.remove()}),b=a.setTimeout(function(){c.remove()},500)}}function g(a){K&&a.stopPropagation();var b=a.originalEvent,e=b.pointerId;c(e),0===d()&&(q.on(R[1],h),q.on(R[2],i),q.on(R[3],i)),S[e]&&!S[e].del||(S[e]=s(e,b),p(a,e))}function h(a){K&&a.stopPropagation(),a.preventDefault();var b=a.originalEvent,c=b.pointerId;S[c]&&(S[c].setMove(b),r(a,c))}function i(a){K&&a.stopPropagation();var b=a.originalEvent,c=b.pointerId;S[c]&&(u(a,c),S[c].del=!0,0===d()&&(q.off(R[1],h),q.off(R[2],i),q.off(R[3],i)))}function j(a){a.preventDefault(),K&&a.stopPropagation();var e,f=a.type,g=a.originalEvent;if("touchstart"===f){e=g.changedTouches,0===d()&&(b.on(R[5],k),b.on(R[6],l),b.on(R[7],l)),c(e[0].identifier);for(var h=0,i=e.length;h<i;h++)S[e[h].identifier]&&!S[e[h].identifier].del||(S[e[h].identifier]=s(e[h].identifier,e[h])),p(a,e[h].identifier)}else c(0),S[0]=s(0,g),p(a,0),q.on(R[9],m),q.on(R[10],o)}function k(a){K&&a.stopPropagation(),a.preventDefault();for(var b=a.originalEvent,c=b.changedTouches,d=0,e=c.length;d<e;d++)S[c[d].identifier]&&S[c[d].identifier].setMove(c[d]),r(a,c[d].identifier)}function l(a){K&&a.stopPropagation();for(var c=a.originalEvent,e=c.changedTouches,f=0,g=e.length;f<g;f++)u(a,e[f].identifier),S[e[f].identifier].del=!0;0===d()&&(b.off(R[5],k),b.off(R[6],l),b.off(R[7],l))}function m(a){K&&a.stopPropagation(),a.stopPropagation();var b=a.originalEvent;S[0]&&(S[0].setMove(b),r(a,0))}function o(a){K&&a.stopPropagation(),S[0]&&(u(a,0),void 0!==S[0]&&S[0].del===!1&&(S[0].del=!0),q.off(R[9],m),q.off(R[10],o))}function p(a,c){U=!1;for(var d=b.parents(),e=d.length,f=0;f<e;f++)if("1"===d.eq(f).attr(t+"scroll-runing")){U=!0;break}Q.down.call(b,a)}function r(a,c){var d=S[c].getMoveLength();a.preventDefault(),Q.pan.call(b,d,a)}function u(a,c){var d=null,g=S[c].getMoveLength(),h={x:Math.abs(g.x),y:Math.abs(g.y)};T.id===c&&(d=new Date-T.time,T.id=null,T.time=null),d&&(h.x<O&&h.y<O&&(U||(d<L?(f(),Q.tap.call(b,a)):Q.press.call(b,a))),h.x>=O&&h.x>=h.y&&d<N&&(g.x<0?(a.preventDefault(),Q.swipeLeft.call(b,a)):(a.preventDefault(),Q.swipeRight.call(b,a))),h.y>=O&&h.y>=h.x&&d<N&&(g.y<0?(a.preventDefault(),Q.swipeTop.call(b,a)):(a.preventDefault(),Q.swipeBottom.call(b,a)))),Q.up.call(b,a),e()}function w(a){var c=na.pointer||na.msPointer;a?(c?b.on(R[0],g):b.on(R[4]+" "+R[8],j),b.css({"-ms-touch-action":"none","touch-action":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"})):(c?b.off(R[0],g):b.off(R[4]+" "+R[8],j),b.css({"-ms-touch-action":"auto","touch-action":"auto","-webkit-user-select":"text","-moz-user-select":"text","-ms-user-select":"text","user-select":"text"}))}function J(){V||(V=!0,w(!0))}function P(){V&&(V=!1,w(!1))}var R=[x,y,z,A,B,C,D,E,F,G,H,I],S={},T={id:null,time:null},U=!1,V=!1;return function(){J()}(),{bind:J,unbind:P}}function w(){R.forEach(function(){arguments[0].bind()})}function J(){R.forEach(function(){arguments[0].unbind()})}var K,L,N,O,P={},Q=(e({stopPropagation:!1,tapMaxTime:300,swipeMaxTime:500,pointerValidLength:10},f,function(a){K=a.stopPropagation,L=a.tapMaxTime,N=a.swipeMaxTime,O=a.pointerValidLength}),{pan:fa,tap:fa,press:fa,swipeLeft:fa,swipeRight:fa,swipeTop:fa,swipeBottom:fa,down:fa,up:fa}),R=[];return function(){j(d).each(function(a,c){R.push(u(b(c)))})}(),c(P,{setPan:g,setTap:h,setPress:i,setSwipeLeft:k,setSwipeRight:l,setSwipeTop:m,setSwipeBottom:o,setDown:p,setUp:r,on:w,off:J})},pa=function(a){function d(a){return l.scroll=a,k}function e(a){return l.down=a,k}function f(a){return l.up=a,k}function g(a){function b(b){b.stopPropagation(),b.preventDefault();var c=b.originalEvent,d=c.deltaY/100||c.wheelDelta/-120||(Math.abs(c.detail)>2?c.detail/3:c.detail)||0;l.scroll.call(a,d,b),d>0?l.down.call(a,b):l.up.call(a,b)}function c(){e||(e=!0,a.on(m,b))}function d(){e&&(e=!1,a.off(m,b))}var e=!1;return function(){c()}(),{bind:c,unbind:d}}function h(){n.forEach(function(){arguments[0].bind()})}function i(){n.forEach(function(){arguments[0].unbind()})}var k={},l={scroll:fa,down:fa,up:fa},m="DOMMouseScroll mousewheel",n=[];return function(){j(a).each(function(a,c){n.push(g(b(c)))})}(),c(k,{setScroll:d,setDown:e,setUp:f,on:h,off:i})},qa=function(a){function b(a,b,c){var d=!c||c&&void 0===c.isCtrl?0:c.isCtrl?1:0,e=!c||c&&void 0===c.isAlt?0:c.isAlt?1:0,f=!c||c&&void 0===c.isShift?0:c.isShift?1:0,g=[a,d,e,f].join(m);return l[g]||(l[g]=b),k}function d(a,b,c){var d=!c||c&&void 0===c.isCtrl?0:c.isCtrl?1:0,e=!c||c&&void 0===c.isAlt?0:c.isAlt?1:0,f=!c||c&&void 0===c.isShift?0:c.isShift?1:0,g=[a,d,e,f].join(m);return l[g]&&delete l[g],k}function f(a){for(var b in l)if(b===[a.keyCode,a.ctrlKey?1:0,a.altKey?1:0,a.shiftKey?1:0].join(m)){a.preventDefault();break}}function g(a){for(var b in l)if(b===[a.keyCode,a.ctrlKey?1:0,a.altKey?1:0,a.shiftKey?1:0].join(m)){l[b]();break}}function h(){n||(n=!0,ja.keyDown.add(f),ja.keyUp.add(g))}function i(){n&&(n=!1,ja.keyDown.remove(f),ja.keyUp.remove(g))}var j,k={},l=(e({autoOn:!0},a,function(a){j=a.autoOn}),{}),m="＀",n=!1;return function(){j&&h()}(),c(k,{add:b,remove:d,on:h,off:i})},ra=function(){for(var a={},b=["normal","info","success","warning","danger"],c=["","","","",""],d=0,e=b.length;d<e;d++)a[b[d]]={name:b[d],no:d,ico:c[d]};return a}(),sa=function(){for(var a={},b=["red","orange","green","blue","yellow","teal","pink","violet","purple","brown","dark","grey","white"],c=0,d=b.length;c<d;c++)a[b[c]]={name:"c-"+b[c],id:b[c]};return a}(),ta=function(){var a={createAllControl:function(){var c=b("["+r+"]");c.each(function(){var c=b(this),d=f(c);d.forEach(function(b,d){var e=g(b),f=c.attr(t+b+"-ready"),h=c.attr("ud2-id")||null;f||(h?a[e].create(h,c):a[e].create(c))})})},ready:function(a){ka.isFunction(a)&&ja.pageReady.add(a)}};return a}(),ua=function(a){function b(a,b){a=a||{},a.transfer=a.transfer||i.origin||null,a.accept=a.accept||i.current||null,a.attrReg=a.attrReg||null,a.transfer&&a.accept&&b(a.transfer,a.accept,a.attrReg)}function c(a,b){a=j(a),(b=b||fa)(a)}function d(a){var b,c,d;if(a=j(a),b=a.parents(),a.get(0)!==i.current.get(0)){for(c=0,d=b.length;c<d;c++)if(b.eq(c).get(0)===i.current.get(0))return;i.autoClose()}}function f(a){if(void 0!==a){for(var b in ra)i.style===ra[b]&&i.current.removeClass(ra[b].name);return i.style=a,i.current.addClass(a.name),i["public"]}return i.style}var g=this,h={},i={"public":{ud2:!0,collection:g["public"],type:a,appendTo:function(a){return c(a,function(a){a.last().append(i.current)}),this},prependTo:function(a){return c(a,function(a){a.last().prepend(i.current)}),this},insertBefore:function(a){return c(a,function(a){a.last().before(i.current)}),this},insertAfter:function(a){return c(a,function(a){a.last().after(i.current)}),this},style:f},origin:null,current:da.clone(),userOptions:h,getOriginAttr:function(a,b){a=function(){return ha[a]||(ha[a]=a.match(ga).join(s).toString().toLowerCase()),ha[a]}();var c=b?a:g.className+s+a;return i.origin?i.origin.attr(c):null},getOptions:function(){return e.apply(this,arguments)},transferStyles:function(a){b(a,function(a,b){b.attr("style",a.attr("style")).addClass(a.attr("class")),a.removeAttr("style").removeClass()})},transferAttrs:function(a){b(a,function(a,b,c){for(var d,e=a.get(0),f=b.get(0),g=e?e.attributes.length:0,h=new RegExp("^("+c+")"),i=0,j=0;i<g;i++)d=e.attributes[j],h.test(d.name)?(f.setAttribute(d.name,d.value),e.removeAttribute(d.name)):j++})},style:ra.normal,autoClose:fa,remove:function(){var a,b=this["public"].collection.indexOf(this);ja.ctrlClose.remove(d),this["public"].collection.splice(b,1),delete this["public"].collection[this["public"].id];for(a in this["public"])delete this["public"][a];for(a in this)delete this[a]}};return ja.ctrlClose.add(d),i},va=function(a){var b={"public":[],init:fa,name:a,ctrlName:g(a),className:t+a};return b},wa=function(a,b,c){function d(){return b.apply(d,arguments)}return ka.isFunction(b)||(b=fa),d.create=b,c?c[a]=d:ta[a]=d,d},xa=function(a,b){var d=va(a),e=wa(a,function f(){var b,g,h,i=ua.call(d,a),l=arguments,m=l.length;switch(m){case 0:return f.call(e,void 0,void 0,{});case 1:return ka.isString(l[0])?f.call(e,l[0],void 0,void 0):ka.isJQuery(l[0])?f.call(e,void 0,l[0],void 0):ka.isObject(l[0])?f.call(e,void 0,void 0,l[0]):f.call(e);case 2:if(ka.isString(l[0])&&(ka.isJQuery(l[1])||ka.isString(l[1])))return f.call(e,l[0],l[1],void 0);if(ka.isString(l[0])&&ka.isObject(l[1]))return f.call(e,l[0],void 0,l[1]);if(ka.isJQuery(l[0])&&ka.isObject(l[1]))return f.call(e,void 0,l[0],l[1]);break;case 3:b=ka.isString(l[0])&&l[0].length>0?l[0]:k(),g=j(l[1]).first(),h=ka.isObject(l[2])?l[2]:{}}return c(i,{origin:g,userOptions:h}),c(i["public"],{id:b}),d["public"].push(i["public"]),d["public"][b]=i["public"],i.current.attr(r,a).attr(r+"-id",b).attr(d.className+"-ready",!0).addClass(d.className),d.init(i)||i["public"]});return b(d,e),d.name!==d.ctrlName&&(ta[d.ctrlName]=e),e.collection=d["public"],e},ya=function(){function a(a){return i.indexOf(a)===-1&&(i.push(a),!0)}function d(a){var b=i.indexOf(a);return b>-1&&(i.splice(b,1),!0)}function e(b){return a(b)&&h.addClass("on"),g}function f(a){return d(a)&&!i.length&&h.removeClass("on"),g}var g={},h=b('<div class="'+t+'backmask"></div>'),i=[];return function(){ja.pageReady.add(function(){n.append(h)})}(),c(g,{open:e,close:f})}(),za=function(d,f){function g(){var a,b=0,c=0,d=0,e=0,f=0,g=0,h=0,i=0;_.hasVertical&&(b=ba.height(),c=aa.height(),ua.h=c,ua.ih=aa.innerHeight(),ua.sh=b-c,ua.now.y<-ua.sh&&(ua.now.y=-ua.sh),e=ua.ih-2*_.barOffset,0!==c&&(a=ua.sh/(5*ua.ih),a=1-(a>1?1:a),d=e*a,d=d<_.barMinLength?_.barMinLength:d,d=d>e?e:d,va.h=d,va.mh=e,va.sh=e-d,fa.height(d))),_.hasHorizontal&&(f=ba.width(),g=aa.width(),ua.w=g,ua.iw=aa.innerWidth(),ua.sw=f-g,ua.now.x<-ua.sw&&(ua.now.x=-ua.sw),i=ua.iw-2*_.barOffset,0!==g&&(a=ua.sw/(5*ua.iw),a=1-(a>1?1:a),h=i*a,h=h<_.barMinLength?_.barMinLength:h,h=h>i?i:h,va.w=h,va.mw=i,va.sw=i-h,ea.width(h)))}function h(){var a,b,c=ba.css("transform");return c=c.split(")")[0].split(", "),a=Math.round(+(c[12]||c[4])),b=Math.round(+(c[13]||c[5])),{x:a,y:b}}function i(a){ia!==a&&(ia=a,aa.attr(ya,a?1:0))}function k(a,b){var c=b?"sh":"sw";return 0===ua[c]||0===va[c]?0:a/ua[c]*va[c]}function l(a,b){var c=b?"sh":"sw";return 0===ua[c]||0===va[c]?0:a/va[c]*ua[c]}function m(){0===_.barState&&(va.timer&&a.clearTimeout(va.timer),ea.stop().fadeIn(200),fa.stop().fadeIn(200))}function n(){0===_.barState&&(sa||ra||ia||(va.timer&&a.clearTimeout(va.timer),va.timer=a.setTimeout(function(){ea.stop().fadeOut(400),fa.stop().fadeOut(400)},800)))}function o(a,b,c,d,e,f){var g,h,i=a-b,j=Math.abs(i)/c;return d=-d,e=e||0,f=f||5e-4,g=a+j*j/(2*f)*(i<0?-1:1),h=j/f,g<d?(g=e?d-e/2.5*(j/8):d,i=Math.abs(g-a),h=i/j):g>0&&(g=e?e/2.5*(j/8):0,i=Math.abs(a)+g,h=i/j),{destination:Math.round(g),duration:h}}function p(a,b,c,d){var e,f;if(c=c||0,d=d||ga.circular,a>0&&(a=0),b>0&&(b=0),b<-ua.sh&&(b=-ua.sh),a<-ua.sw&&(a=-ua.sw),q(d),r(c),ba.css("transform","translate("+a+"px, "+b+"px)"+(na.perspective?" translateZ(0)":"")),_.hasVertical&&fa.css("transform","translate(0, "+k(-b,1)+"px)"+(na.perspective?" translateZ(0)":"")),_.hasHorizontal&&ea.css("transform","translate("+k(-a,0)+"px, 0)"+(na.perspective?" translateZ(0)":"")),ua.now={x:a,y:b},f=wa.length,0!==f)for(e=0;e<f;e++)wa[e].move(-a,-b,c)}function q(a){ba.css("transition-timing-function",a),fa.css("transition-timing-function",a+", ease-out, ease-out, ease-out"),ea.css("transition-timing-function",a+", ease-out, ease-out, ease-out")}function r(b){var c=parseInt(b);ba.css("transition-duration",c+"ms"),fa.css("transition-duration",c+"ms, 300ms, 300ms, 300ms"),ea.css("transition-duration",c+"ms, 300ms, 300ms, 300ms"),0!==c?(ma&&a.clearTimeout(ma),ma=a.setTimeout(function(){p(ua.now.x,ua.now.y,0),i(!1),n()},c)):(i(!1),n())}function s(a){return a=parseInt(a)||0,g(),p(ua.now.x,ua.now.y,a),$}function u(){return ba}function w(a,b,c){return c=c||0,p(-a,-b,c),$}function x(a){return void 0!==a?(la=!!a,$):la}function y(a){return ka.isObject(a)&&a.type&&a.type===xa&&wa.push(a),$}function z(a){var b;return ka.isObject(a)&&a.type&&a.type===xa&&(b=wa.indexOf(a),b>-1&&wa.splice(b,1)),$}function A(){if(!la){g(),m();var a=h();p(a.x,a.y),ha.moved=!1,ha.start=v(),ha.startMove={x:ua.now.x,y:ua.now.y},ha.lastMove={x:0,y:0}}}function B(a){if(!la){var b=v(),c=a.x,d=a.y,e=Math.abs(c),f=Math.abs(d),g=c-ha.lastMove.x,h=d-ha.lastMove.y,i=0,j=0;m(),ha.lastMove={x:c,y:d},b-ha.end>300&&e<qa&&f<qa||(ha.moved||(ha.moved=!0),_.hasVertical&&(j=h+ua.now.y),_.hasHorizontal&&(i=g+ua.now.x),0===g&&0===h||p(i,j),b-ha.start>=300&&(ha.start=b,ha.startMove.x=i,ha.startMove.y=j))}}function C(){if(!la){var a=ua.now.x,b=ua.now.y,c=a,d=b,e=null,f=null,g=v()-ha.start,h=0;if(ha.end=v(),n(),ha.moved&&_.isSlowMovning){if(g<300){var j=0,k=0;_.hasVertical&&(f=o(b,ha.startMove.y,g,ua.sh,_.bounce?ua.h:0),d=f.destination,k=f.duration),_.hasHorizontal&&(e=o(a,ha.startMove.x,g,ua.sw,_.bounce?ua.w:0),c=e.destination,j=e.duration),h=Math.max(j,k)}c===a&&d===b||(m(),i(!0),p(c,d,h))}}}function E(a){var b=ua.now.x,c=ua.now.y,d=300,e=_.mouseWheelLength;g(),"normal"===e&&(e=Math.round(ua.h)),a>0?c-=e:c+=e,c>0||c<-ua.sh?i(!1):(m(),i(!0)),p(b,c,d)}function F(){this.move=0,ra=!0,m(),b(this).css("background",_.barColorOn)}function G(){ra=!1,n(),b(this).css("background",_.barColor)}function H(a,b){var c=b?ua.now.x:l(-(a.x-this.move),0)+ua.now.x,d=b?l(-(a.y-this.move),1)+ua.now.y:ua.now.y;b?this.move=a.y:this.move=a.x,p(c,d)}function I(){_.recountByResize&&ja.pageResize.add(s),0===_.barState&&aa.on(J,function(){g(),sa=!0,m()}).on([K,D].join(" "),function(){sa=!1,n()}),_.isTouchMode&&oa(aa,{stopPropagation:!0}).setDown(A).setUp(C).setPan(B),_.isMouseWheelMode&&pa(aa).setScroll(E),_.isScrollMode&&(oa(fa,{stopPropagation:!0}).setPan(function(a){H.call(this,a,1)}).setDown(F).setUp(G),oa(ea,{stopPropagation:!0}).setPan(function(a){H.call(this,a,0)}).setDown(F).setUp(G))}var L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$={},_=e({recountByResize:!1,barState:0,hasHorizontal:!1,hasVertical:!0,barSize:6,barMinLength:30,barOffset:1,barColor:"rgba(0,0,0,.4)",barColorOn:"rgba(0,0,0,.6)",barBorderRadiusState:!0,mouseWheelLength:"normal",isTouchMode:!0,isMouseWheelMode:!0,isScrollMode:!1,isSlowMovning:!0},f,function(a){L=a.recountByResize,M=a.barState,N=a.barSize,O=a.barMinLength,P=a.barOffset,Q=a.barColor,R=a.barColorOn,S=a.barBorderRadiusState,T=a.hasHorizontal,U=a.hasVertical,V=a.isMouseWheelMode,W=a.isTouchMode,X=a.isScrollMode,Y=a.mouseWheelLength,Z=a.isSlowMovning}),aa=j(d),ba=da.clone().addClass(t+"scroll-wrapper"),ea=da.clone().addClass(t+"scroll-bar"),fa=da.clone().addClass(t+"scroll-bar"),ga={quadratic:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",circular:"cubic-bezier(0.1, 0.57, 0.1, 1)"},ha={id:null,start:0,end:0,moved:!1,startMove:{x:0,y:0},lastMove:{x:0,y:0}},ia=!1,la=!1,ma=null,qa=10,ra=!1,sa=!1,ua={h:0,ih:0,sh:0,w:0,iw:0,sw:0,now:{x:0,y:0},isMoved:!1},va={h:0,mh:0,sh:0,w:0,mw:0,sw:0,timer:null},wa=[],xa="scroll",ya=t+"scroll-runing";return function(){var a,b=aa.length;if(b>1){for(a=1;a<b;a++)ta.scroll(aa.eq(a),f);aa=aa.eq(0)}"normal"===Y||ka.isNaturalNumber(Y)||(Y="normal");var c=aa.contents();0===c.length?aa.append(ba):(c.wrapAll(ba),ba=aa.children(ca+t+"scroll-wrapper")),ba.css("padding",aa.css("padding-top")+" "+aa.css("padding-right")+" "+aa.css("padding-bottom")+" "+aa.css("padding-left")),aa.addClass("ud2-scroll"),U&&(aa.prepend(fa),ba.css({height:"auto","min-height":"100%"})),T&&(aa.prepend(ea),ba.css({width:"auto","min-width":"100%"})),fa.css({top:P,right:P,width:N,background:Q}),ea.css({left:P,bottom:P,height:N,background:Q}),S&&(fa.css("border-radius",N/2),ea.css("border-radius",N/2)),1===M&&(fa.show(),ea.show()),g(),I()}(),c($,{type:xa,move:w,oplock:x,followerBind:y,followerUnbind:z,recountPosition:s,getContent:u})};return xa("tabs",function(a,d){var e=a.className;d.layout={top:0,bottom:1,left:2,right:3},d.pageType={html:0,url:1},a.init=function(a){function d(a){switch(0===r&&B.removeClass(e+"-top"),1===r&&B.removeClass(e+"-bottom"),2===r&&B.removeClass(e+"-left"),3===r&&B.removeClass(e+"-right"),r=a){case 0:B.addClass(e+"-top");break;case 1:B.addClass(e+"-bottom");break;case 2:B.addClass(e+"-left");break;case 3:B.addClass(e+"-right")}f()}function f(a){void 0===a?(L=0,K.forEach(function(a){0===r||1===r?a.size=a.getTab().outerWidth():a.size=a.getTab().outerHeight(),L+=a.size})):(L+=a,0===r||1===r?D.width(L+2*K.length):D.height(L+2*K.length))}function g(a){var b,c;s&&t&&(x.recountPosition(),b=0!==a.getTab().prev().length?a.getTab().prev().position():a.getTab().position(),0===r||1===r?x.move(b.left,0,300):x.move(0,b.top,300)),q&&u&&(w.recountPosition(),c=0!==a.getTabLink().prev().length?a.getTabLink().prev().position():a.getTabLink().position(),w.move(0,c.top-5,300))}function h(a){var b=K.filter(function(b){return b.name===a});return b&&b[0]}function i(){var c,d,g,i,l,o,p,t,u,v,y,z=arguments,A=z.length,B={};if(1===A&&c.isObject(y=z[0],y)?(c=!y.type||1!==y.type&&"url"!==y.type?0:1,o=y.name,d=y.title||"未命名标题",g=y.content||(1===c?$:""),i=m(y.isCloseBtn,!0),l=m(y.isOpen,!1)):(c=!z[0]||1!==z[0]&&"url"!==z[0]?0:1,o=z[1],d=z[2]||"未命名标题",g=z[3]||(1===c?$:""),i=m(z[4],!0),l=m(z[5],!1)),h(o))return a["public"];switch(B={name:o,page:1,getSize:function(){return v},getTab:function(){return p},getTabLink:function(){return u},getContent:function(){return t},setOpenState:function(a){a?(p.addClass("on"),t.addClass("on"),u.addClass("on")):(p.removeClass("on"),t.removeClass("on"),u.removeClass("on"))}},p=b('<div class="'+e+'-tab"><span>'+d+"</span></div>"),i&&p.append('<i class="ico ico-solid-cancel" />'),c){case 0:t=b('<div class="'+e+'-content">'+g+"</div>");break;case 1:t=b('<div class="'+e+'-content iframe"><iframe id="'+o+'" name="'+o+'" src="'+g+'" /></div>')}return D.append(p),E.append(t),v=0===r||1===r?p.outerWidth():p.outerHeight(),f(v),s&&x.recountPosition(),q&&(u=b('<div class="'+e+'-menu-item" title="'+d+'"><span>'+d+"</span></div>"),i&&u.append('<i class="ico ico-hollow-cancel" />'),J.append(u),w.recountPosition()),(0===K.length||l)&&k(B),0===K.length&&I.removeClass("empty"),K.push(B),B.event=oa(b().add(p.children("span")).add(u.children("span"))).setTap(function(){k(B),n()}),B.closeEvent=oa(b().add(p.find("i")).add(u.find("i"))).setTap(function(){j(B),n()}),a["public"]}function j(b){var c,d;return ka.isObject(b)&&b.page?c=b:(b=h(String(b)),b&&(c=b)),c&&(d=K.indexOf(c),y===c&&(c.setOpenState(!1),d>0?(K[d-1].setOpenState(!0),y=K[d-1]):K.length>1&&(K[1].setOpenState(!0),y=K[1])),K.splice(d,1),0===K.length?(y=null,I.addClass("empty")):g(y),c.getTab().remove(),c.getContent().remove(),c.getTabLink().remove(),c.event.off(),c.closeEvent.off(),f(-c.getSize())),a["public"]}function k(b){var c;return ka.isObject(b)&&b.page?c=b:(b=h(String(b)),b&&(c=b)),c&&(y&&y.setOpenState(!1),c.setOpenState(!0),g(c),y=c),a["public"]}function l(a){return!!h(a)}function n(){F.removeClass("on")}function o(){F.toggleClass("on")}function p(){var a={barState:2,recountByResize:!0,isScrollMode:!1};s&&(0===r||1===r?(a.hasHorizontal=!0,a.hasVertical=!1):(a.hasHorizontal=!1,a.hasVertical=!0),x=za(C,a)),q&&(oa(H).setTap(o),w=za(I,{barSize:3,barColor:"#d5d5d5"})),ta.event(C).setDown(function(){G.show()}).setUp(function(){G.hide()})}var q,r,s,t,u,v,w,x,y,z=(a.getOptions(["layout",["menu","isMenu"],["full","isFull"],["tabScroll","isTabScroll"],["tabAutoMove","isTabAutoMove"],["menuAutoMove","isMenuAutoMove"]],function(a){"top"===a.layout?r=0:"bottom"===a.layout?r=1:"left"===a.layout?r=2:"right"===a.layout&&(r=3),r=parseInt(a.layout)||0,r=r<0||r>3?0:r,q=m(a.menu,!0),s=m(a.tabScroll,!0),t=m(a.tabAutoMove,!0),u=m(a.menuAutoMove,!0),v=m(a.full,!1)}),'<div class="'+e+'-bar"><div class="'+e+'-bar-inner" /></div><div class="'+e+'-main" />'),A=a.current,B=A.html(z),C=B.children(ca+e+"-bar"),D=B.find(ca+e+"-bar-inner"),E=B.find(ca+e+"-main"),F=b('<div class="'+e+'-menu"><div class="'+e+'-menu-btn" /><div class="'+e+'-menu-list empty" '+e+'-empty="这里是空的"><div class="'+e+'-menu-inner" /></div></div>'),G=b('<div class="'+e+'-mask" />'),H=F.children(":first"),I=F.children(":last"),J=F.find(ca+e+"-menu-inner"),K=[],L=0;return function(){a.origin.length&&(a.origin.after(B),a.origin.remove(),a.transferStyles()),d(r),q&&B.prepend(F),v&&B.addClass(e+"-full"),B.append(G),p()}(),c(a["public"],{pageAdd:i,pageRemove:j,pageOpen:k,hasName:l})}}),xa("dialog",function(d,e){function f(a,b){var c,d,e,f,g,h,i=a.length;return 1===i&&ka.isObject(a[0])?(c=a[0].title||"",d=a[0].content||"",e=a[0].ico,f=a[0].icoStyle,g=a[0].sendFn,h=a[0].cancelFn):(c=a[0]||"",d=a[1]||"",3===i&&(ka.isFunction(a[2])?g=a[2]:f=a[2]),4===i&&(ka.isFunction(a[2])&&ka.isFunction(a[3])?(g=a[2],h=a[3]):ka.isObject(a[2])&&ka.isFunction(a[3])?(f=a[2],g=a[3]):(e=a[2],f=a[3])),5===i&&(ka.isObject(a[2])&&ka.isFunction(a[3])&&ka.isFunction(a[4])?(f=a[2],g=a[3],h=a[4]):(e=a[2],f=a[3],g=a[4])),6===i&&(e=a[2],f=a[3],g=a[4],h=a[5])),f=!f||f.name&&f.ico?f:ra.normal,g=ka.isFunction(g)?g:fa,h=ka.isFunction(h)?h:fa,b(c,d,e,f,g,h)}function g(a,b,c,d,e){var f=b.find("td");void 0!==d?f.before('<td><i class="ico fc-'+e.name+'">'+d+"</i></td>"):void 0!==e&&"normal"!==e.name&&f.before('<td><i class="ico fc-'+e.name+'">'+e.ico+"</i></td>"),a.css("bottom","3em").append(b).after(c)}function j(a,b,c,d,e,f){c.send&&(c.send=oa(b.eq(0)).setTap(function(){a.getAnimateState()||(d&&d(f&&f.val()),c.send.off(),a.remove())})),c.cancel&&(c.cancel=oa(b.eq(1)).setTap(function(){a.getAnimateState()||(e&&e(f&&f.val()),c.cancel.off(),a.remove())}))}var k=d.className,l=b('<div class="'+k+'-built"><table><tr><td></td></tr></table></div>'),o=b('<div class="'+k+'-footer"><a class="btn">确 定</a><a class="btn">取 消</a></div>');d.init=function(b){function d(){return y}function e(){return A}function f(){return B||A||(B=!0,A=!0,ya.open(b["public"]),a.setTimeout(function(){x.addClass("on")},10),a.setTimeout(function(){A=!1},310),D.open.call(b["public"])),b["public"]}function g(){return B&&!A&&(B=!1,A=!0,ya.close(b["public"]),a.setTimeout(function(){x.removeClass("on")},10),a.setTimeout(function(){A=!1},310),D.close.call(b["public"])),b["public"]}function i(){return B||A?(B&&g(),void a.setTimeout(i,310)):(x.remove(),C.off(),void b.remove())}function j(a){return D.open=a,b["public"]}function l(a){return D.close=a,b["public"]}function o(){var a={};r!==P&&(a.width=q.x,a.height=q.y),r===Q?(a.top=ba,a.left=ba):r===R?(a.top=ba,a.right=ba):r===S?(a.bottom=ba,a.left=ba):r===T?(a.bottom=ba,a.right=ba):r===P?(a.top=ba,a.bottom=ba,a.left=ba,a.right=ba):r===O?(a.top="50%",a.left="50%",a.marginLeft=-q.x/2,a.marginTop=-q.y/2):(a.top=r.y,a.left=r.x),x.css(a),u||z.detach(),b.origin.length?y.append(b.origin):y.append(t),n.append(x)}function p(){C=oa(z).setTap(g)}var q,r,s,t,u,v=(b.getOptions(["size","position","title","content",["btnClose","isBtnClose"]],function(a){s=a.title||"未定义标题",t=a.content||null,q=h(a.size,400,300),r=a.position,r=void 0===r?O:r,r!==O&&r!==P&&r!==Q&&r!==R&&r!==S&&r!==T&&(r=h(r,ba,ba)),u=m(a.btnClose,!0)}),'<div class="'+k+'-header">'+s+'</div><div class="'+k+'-body"></div><a class="'+k+'-close ico">&#xed1f;</a>'),w=b.current,x=w.html(v),y=(x.children("div").eq(0),x.children("div").eq(1)),z=x.children("a"),A=!1,B=!1,C=null,D={open:fa,close:fa};return function(){o(),p()}(),c(b["public"],{getContent:d,getAnimateState:e,open:f,close:g,remove:i,setOpen:j,setClose:l})},e.alert=function(){return f.call(this,i(arguments),function(a,b,c,d,f){var h=e({title:a,size:[300,220],btnClose:!1}),i=h.getContent(),k=l.clone(),m=o.clone(),n={send:1};!function(){g(i,k,m,c,d),j(h,m.children("a"),n,f),k.find("td:last").append(b),m.find("a:last").remove(),h.open()}()})},e.confirm=function(){return f.call(this,i(arguments),function(a,b,c,d,f,h){var i=e({title:a,size:[300,220],btnClose:!1}),k=i.getContent(),m=l.clone(),n=o.clone(),p={send:1,cancel:1};!function(){g(k,m,n,c,d),j(i,n.children("a"),p,f,h),m.find("td:last").append(b),i.open()}()})},e.prompt=function(){return f.call(this,i(arguments),function(a,c,d,f,h,i){var k=e({title:a,size:[300,220],btnClose:!1}),m=k.getContent(),n=l.clone(),p=o.clone(),q=b('<input type="text" class="textbox" />'),r={send:1,cancel:1
};!function(){g(m,n,p,d,f),j(k,p.children("a"),r,h,i,q),n.find("td:last").append(c).append(q),k.open()}()})}}),xa("message",function(d,e){var f=(d.className,{});f[Q]=[],f[U]=[],f[R]=[],f[S]=[],f[V]=[],f[T]=[],d.init=function(d){function e(){return y}function g(){var b,c,e,g,h;if(!A){switch(b=y.outerWidth(),c=y.outerHeight(),g=f[p].length,A=!0,f[p].push(d["public"]),h=ba+g*(c+ba),p){case U:e={top:h,left:"50%",marginLeft:-b/2};break;case Q:e={top:h,left:ba};break;case R:e={top:h,right:ba};break;case V:e={bottom:h,left:"50%",marginLeft:-b/2};break;case S:e={bottom:h,left:ba};break;case T:e={bottom:h,right:ba}}d["public"].data={tb:h},y.css(e).addClass("on"),C.open.call(d["public"]),u!==-1&&s&&(B=a.setTimeout(function(){i()},u))}return d["public"]}function h(){var b,c,e,g,h,i;if(A){for(null!==B&&a.clearTimeout(B),b=y.outerHeight(),c=f[p].indexOf(d["public"]),e=f[p].length,A=!1,g=c;g<e;g++)h=f[p][g].data.tb,i=h-b-ba,f[p][g].data.tb=i,p===Q||p===R||p===U?f[p][g].getContent().css("top",i):f[p][g].getContent().css("bottom",i);f[p].splice(c,1),y.removeClass("on"),C.close.call(d["public"])}return d["public"]}function i(){return A?(h(),void a.setTimeout(i,310)):(y.remove(),v.off(),ja.pageResize.remove(l),void d.remove())}function j(a){return C.open=a,d["public"]}function k(a){return C.close=a,d["public"]}function l(){!A||p!==U&&p!==V||y.css("marginLeft",-y.outerWidth()/2)}function o(){v=oa(z).setTap(function(){i()}),ja.pageResize.add(l)}var p,q,r,s,t,u,v,w=(d.getOptions(["position","message","style","autoSwitch",["close","isClose"],"closeTime"],function(a){s=m(a.autoSwitch,!0),p=a.position||U,p!==U&&p!==V&&p!==Q&&p!==R&&p!==S&&p!==T&&(p=U),d.origin.length?(q=a.message||d.origin.text()||"未知消息",d.origin.remove()):q=a.message||"未知消息",r=a.style||"",t=void 0===a.close||!!a.close,u=a.closeTime||5e3}),'<div class="message-content">'+q+"</div>"),x=d.current,y=x.html(w),z=b('<a class="message-close"></a>'),A=!1,B=null,C={open:fa,close:fa};return function(){y.addClass("message"),n.append(y),""!==r&&y.addClass(r.name?r.name:r),s&&a.setTimeout(function(){g()},10),t&&y.append(z),o()}(),c(d["public"],{getContent:e,open:g,close:h,remove:i,setOpen:j,setClose:k})},e.info=function(a){e({message:a,style:ra.info})},e.warning=function(a){e({message:a,style:ra.warning})},e.success=function(a){e({message:a,style:ra.success})},e.danger=function(a){e({message:a,style:ra.danger})}}),xa("switch",function(a,b){var d=a.className,e="checked";a.init=function(a){function b(b){p!==b&&(p=b,v.val(p),x.change.call(a["public"],p),1===p?x.open.call(a["public"]):x.close.call(a["public"]))}function f(b){return void 0!==b?(b?h():i(),a["public"]):p}function g(b){return void 0!==b?(q!==b&&(q=!!b,b?u.attr(d+"-disabled","true"):u.removeAttr(d+"-disabled")),a["public"]):q}function h(){return p||(u.addClass(e),b(1)),a["public"]}function i(){return p&&(u.removeClass(e),b(0)),a["public"]}function j(){return p?i():h(),a["public"]}function k(b){return x.open=b,a["public"]}function l(b){return x.close=b,a["public"]}function n(b){return x.change=b,a["public"]}function o(){oa(u).setTap(function(){q||j()})}var p,q,r,s=(a.getOptions(["value",["disabled","isDisabled"],"color"],function(a){p=1===parseInt(a.value)?1:0,q=m(a.disabled,!1),r=a.color||""}),'<input type="checkbox" /><input type="hidden" />'),t=a.current,u=t.html(s),v=u.children(aa),w=u.children(_),x={open:fa,close:fa,change:fa};return function(){a.origin.length&&(a.origin.after(u),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:w,attrReg:"tabindex"}),a.transferAttrs({accept:v,attrReg:"name"})),""!==r&&u.addClass(r.name?r.name:r),1===p&&u.addClass(e),v.val(p),q&&u.attr(d+"-disabled",!0),o()}(),c(a["public"],{val:f,disabled:g,open:h,close:i,toggle:j,setOpen:k,setClose:l,setChange:n})}}),xa("select",function(a,b){var d=a.className,e="gr",f="select",g=f+".group",h=f+".option";wa("group",function(){function a(a){return void 0!==a?(m=String(a),p.attr("title",m),t):m}function b(a){var b,c;if(void 0!==a){if(n!==a)if(n=!!a,a){if(p.attr(d+"-disabled","true"),c=s.length,0!==c)for(b=0;b<c;b++)t.select.valOption(s[b],0)}else p.removeAttr(d+"-disabled");return t}return n}function g(a){var b,c;if(a&&a.type===f&&!t.select&&(t.select=a,a.groups.push(t),a.getContent().append(l()),c=s.length,0!==c))for(b=0;b<c;b++)s[b].selectIn(a);return t}function i(){var a,b;if(t.select){if(b=s.length,0!==b)for(a=0;a<b;a++)s[a].selectOut(e);t.select.groups.splice(t.select.groups.indexOf(t),1),t.select=null,p.detach()}return t}function j(a){return a&&a.type&&a.type===h&&!a.group&&a.groupIn(t),t}function k(a){return a&&a.type&&a.type===h&&a.group===t&&a.groupOut(),t}function l(){return p}var m,n,o,p,q=arguments,r=q.length,s=[],t={select:null};return function(){1===r&&ka.isObject(o=q[0],o)?(m=o.label,n=!!o.isDisabled):(m=q[0]||"未命名选项组",n=!!q[1]),m=String(m),p=da.clone().attr("title",m).addClass(d+"-group"),n&&p.attr(d+"-disabled","true")}(),c(t,{type:"select.group",options:s,getContent:l,label:a,disabled:b,optionAdd:j,optionRemove:k,selectIn:g,selectOut:i})},b),wa("option",function(){function a(a){return void 0!==a?(o=String(a),t.html(o).attr("title",o),w):o}function b(a){return void 0!==a?(p=String(a),t.attr(d+"-value",p),w):p}function h(a){return void 0!==a?(!a||q||null!==w.group&&(null===w.group||w.group.disabled())?(r=!1,t.removeClass("on")):(r=!0,t.addClass("on")),w):r}function i(a){return void 0!==a?(a=!!a,a?(q=!0,t.attr(d+"-disabled","true"),r&&null!==w.select&&w.select.valOption(w,!1)):(q=!1,t.removeAttr(d+"-disabled")),w):q}function j(a){return!a.type||a.type!==g||w.group||w.select||(a.disabled()&&r&&h(0),w.group=a,a.options.push(w),a.getContent().append(t),a.select&&l(a.select)),w}function k(){var a=-1;return w.group&&(a=w.group.options.indexOf(w),w.group.options.splice(a,1),w.group=null,t.detach(),w.select&&m()),w}function l(a){var b,c=!w.group;return a&&a.type&&a.type===f&&!w.select&&(c?(w.select=a,a.options.push(w),a.optionsDefault.push(w),b=a.optionsDefault.length,1===b?a.getContent().prepend(t):a.optionsDefault[b-2].getContent().after(t)):(w.select=a,a.options.push(w)),r&&a.valOption(w)),w}function m(){var a=-1;if(arguments[0]&&arguments[0]===e)return r&&(w.select.valOption(w,!1),w.selected(1)),a=w.select.options.indexOf(w),w.select.options.splice(a,1),void(w.select=null);if(w.select){if(w.group)return k();w.select.optionsDefault.splice(w.select.optionsDefault.indexOf(w),1),r&&(w.select.valOption(w,!1),w.selected(1)),a=w.select.options.indexOf(w),w.select.options.splice(a,1),w.select=null,t.detach()}return w}function n(){return t}var o,p,q,r,s,t,u=arguments,v=u.length,w={group:null,select:null};return function(){1===v&&ka.isObject(s=u[0],s)?(o=s.label,p=s.value,q=!!s.isDisabled,r=!q&&!!s.isSelected):(o=u[0]||"未命名选项",p=u[1],q=!!u[2],r=!q&&!!u[3]),o=String(o),p=p||o,t=ea.clone().html(o).attr("title",o).attr(d+"-value",p).addClass(d+"-option"),q&&t.attr(d+"-disabled","true"),r&&h(!0),oa(t).setTap(function(){w.disabled()||w.group&&(!w.group||w.group.disabled())||w.select&&(w.select.valOption(w),w.select.multiple()||w.select.close())})}(),c(w,{type:"select.option",getContent:n,label:a,val:b,selected:h,disabled:i,groupIn:j,groupOut:k,selectIn:l,selectOut:m})},b),b.direction={up:1,down:0},a.init=function(a){function e(a){switch(K=a){case 1:Q.removeClass(d+"-dir-down").addClass(d+"-dir-up");break;case 0:Q.removeClass(d+"-dir-up").addClass(d+"-dir-down")}}function f(a){I=a,T.html(I)}function j(a){M=a,v().attr(d+"-empty",M)}function k(){var c=a.origin.children("optgroup, ["+d+"-optgroup]");l();for(var e,f=0,g=c.length;f<g;f++){var h=c.eq(f),i=h.attr("label")||h.attr(d+"-label")||"",j=!!(void 0!==h.attr("disabled")&&"false"!==h.attr("disabled")||void 0!==h.attr(d+"-disabled")&&"false"!==h.attr(d+"-disabled"));e=b.group(i,j),y(e),l(e,h)}}function l(c,e){for(var f,g=void 0===c,h=g?a.origin.children("option, ["+d+"-option]"):e.children("option, ["+d+"-option]"),i=0,j=h.length;i<j;i++){var k=(h.eq(i),h.eq(i).html()),l=h.eq(i).val()||h.eq(i).attr("value"),m=!!(void 0!==h.eq(i).attr("disabled")&&"false"!==h.eq(i).attr("disabled")||void 0!==h.eq(i).attr(d+"-disabled")&&"false"!==h.eq(i).attr(d+"-disabled")),n=!!(void 0!==h.eq(i).attr("selected")&&"false"!==h.eq(i).attr("selected")||void 0!==h.eq(i).attr(d+"-selected")&&"false"!==h.eq(i).attr(d+"-selected"));f=b.option(k,l,m,n),g?A(f):c.optionAdd(f)}}function n(){var b=Z.length,c=X.length,d=0;return d=2.5*b+2*c,d=d>H?H:d,R.css("height",(0===d?2:d)+"em"),N.recountPosition(),a["public"]}function o(b){return ka.isString(b)?(f(b),a["public"]):I}function p(b){return ka.isString(b)?(j(b),a["public"]):M}function q(b){return void 0!==b?(e(b),a["public"]):K}function r(b){var c,d;if(void 0!==b){if(b=!!b,b!==J){if(J=b,d=$.length,d>1&&!J)for(c=0;c<d-1;c++)$[0].selected(0),$.splice(0,1);d>0&&(J?T.html("1个项目"):T.html($[0].label())),ba.change.call(a["public"],w())}return a["public"]}return J}function s(){return W||(W=!0,Q.addClass("on").focus(),n(),ba.open.call(a["public"])),a["public"]}function t(){return W&&(W=!1,Q.removeClass("on"),ba.close.call(a["public"])),a["public"]}function u(){return W?t():s(),a["public"]}function v(){return N.getContent()}function w(b){var c,d=[];if(void 0!==b){if(!ka.isArray(b))return w(i(arguments));for(b=b.map(function(a){return null===a?a:String(a)}),c=$.length-1;c>=0;c--)x($[c],!1);for(c=0;c<Z.length;c++)Z[c].disabled()||Z[c].group&&(!Z[c].group||Z[c].group.disabled())||b.indexOf(Z[c].val())===-1||x(Z[c]);return a["public"]}for(c=0;c<$.length;c++)d.push($[c].val());return V.val(d.join(",")),J?d:d[0]?d[0]:null}function x(b,c){var e,f=void 0!==c;if(b&&b.type&&b.type===h){if(e=Z.indexOf(b),e===-1)return a["public"];if(e=$.indexOf(b),J){if(f&&(c&&e>-1||!c&&e===-1))return a["public"];(!f||f&&!c)&&e>-1?(b.selected(0),$.splice(e,1)):(!f||f&&c)&&e===-1&&(b.selected(1),$.push(b)),0===$.length?T.removeAttr(d+"-value").html(I):T.attr(d+"-value",!0).html($.length+"个项目")}else{if(e>-1&&(!f||f&&c)||e===-1&&f&&!c)return a["public"];$[0]&&($[0].selected(0),$.splice(0,1)),e>-1&&f&&!c?T.removeAttr(d+"-value").html(I):(b.selected(1),$.push(b),T.attr(d+"-value",!0).html(b.label()))}return ba.change.call(a["public"],w()),a["public"]}return $}function y(b){return b&&b.type&&b.type===g&&!b.select&&b.selectIn(a["public"]),a["public"]}function z(b){return b&&b.type&&b.type===g&&b.select===a["public"]&&b.selectOut(),a["public"]}function A(b){b&&b.type&&b.type===h&&!b.select&&b.selectIn(a["public"])}function B(b){b&&b.type&&b.type===h&&b.select===a["public"]&&b.selectOut()}function C(b){return ba.open=b,a["public"]}function D(b){return ba.close=b,a["public"]}function E(b){return ba.change=b,a["public"]}function F(){oa(S).setTap(u),U.on(L,function(){ja.ctrlClose.fire(Q),s()})}function G(){c(a["public"],{getContent:v,placeholder:o,emptyText:p,direction:q,multiple:r,groups:X,options:Z,optionsByValue:$,optionsDefault:Y,groupAdd:y,groupRemove:z,optionAdd:A,optionRemove:B,val:w,valOption:x,open:s,close:t,toggle:u,setOpen:C,setClose:D,setChange:E})}var H,I,J,K,M,N,O=(a.getOptions(["maxheight","placeholder",["multiple","isMultiple"],"dir","emptyText"],function(a){H=parseInt(a.maxheight),(isNaN(H)||0===H)&&(H=20),I=a.placeholder||"请选择以下项目",J=m(a.multiple,!1),K="up"===a.dir||1===a.dir?1:0,M=a.emptyText||"当前列表未包含任何项"}),'<div class="'+d+'-put"><a class="'+d+'-btn" /><i class="ud2-ctrl-arrow" /></div><div class="'+d+'-list" /><input type="checkbox" /><input type="hidden" />'),P=a.current,Q=P.html(O),R=Q.children("div:last"),S=Q.children("div:first"),T=S.children("a"),U=Q.children(_),V=Q.children(aa),W=!1,X=[],Y=[],Z=[],$=[],ba={open:fa,close:fa,change:fa};return function(){a.origin.length&&(a.origin.after(Q),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:U,attrReg:"tabindex"}),a.transferAttrs({accept:V,attrReg:"name"})),e(K),f(I),N=za(R,{barState:0,isScrollMode:!0,barColor:"rgba(0,0,0,.2)",barColorOn:"rgba(0,0,0,.4)"}),v().attr(d+"-empty",M),a.autoClose=t,F(),G(),k()}(),a["public"]}}),xa("number",function(a){var b=a.className;a.init=function(a){function d(a){return a=parseFloat(a),(isNaN(a)||a<n)&&(a=n),a>o&&(a=o),a=Math.round((a-n)/l)*l+n,a=parseFloat(a.toFixed(m)),a>o&&(a-=l),a}function e(a){if(!y){if(y=!0,a&&p+l>o||!a&&p-l<n)return void(y=!1);var c='<input class="ud2-ctrl-textbox" />',d=da.clone().addClass(b+"-view").html(c),e=da.clone().addClass(b+"-view").html(c);u.parent();p=a?parseFloat((p+l).toFixed(m)):parseFloat((p-l).toFixed(m)),d.children().val(p),e.children().val(p),u.before(d),u.after(e),x.animate({top:a?"-100%":"100%"},300,function(){y=!1,h(p),x.css("top",0),d.remove(),e.remove()})}}function f(){e(0)}function g(){e(1)}function h(b){void 0!==b?(p=d(b),z.change.call(a["public"],p)):p=d(p),u.val(p)}function i(b){return void 0!==b?(h(b),a["public"]):p}function j(b){return z.change=b,a["public"]}function k(){oa(v).setTap(f),oa(w).setTap(g),pa(u).setDown(g).setUp(f),q=qa({autoOn:!1}).add(W.UP,f).add(W.DOWN,g).add(W.ENTER,function(){u.blur()}),u.focus(function(){q.on(),ja.ctrlClose.fire(t),t.addClass("on")}).blur(function(){q.off(),h(u.val()),t.removeClass("on")})}var l,m,n,o,p,q,r=(a.getOptions(["step","min","max","value"],function(a){l=parseFloat(a.step),(isNaN(l)||0===l)&&(l=1),n=parseFloat(a.min),isNaN(n)&&(n=0),o=parseFloat(a.max),isNaN(o)&&(o=100),p=a.value,n>o&&(o=n),p=d(p),m=l.toString().indexOf(ca)>-1?l.toString().split(ca)[1].length:0}),'<a class="'+b+'-ico ud2-ctrl-ico">&#xe106;</a><div class="'+b+'-move"><input type="text" value="0" class="ud2-ctrl-textbox" /></div><a class="'+b+'-ico ud2-ctrl-ico">&#xe107;</a>'),s=a.current,t=s.html(r),u=t.find("input"),v=t.children("a:first"),w=t.children("a:last"),x=v.next(),y=!1,z={change:fa};return function(){a.origin.length&&(a.origin.after(t),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:u,attrReg:"name|tabindex"})),h(),k()}(),c(a["public"],{val:i,setChange:j})}}),xa("range",function(a){var b=a.className;a.init=function(a){function d(a){var b=null,c=null;return a=void 0!==a?(""+a).split(","):[0,0],b=parseFloat(a[0])||0,c=parseFloat(a[1])||0,[b,c]}function e(){S.nl=h(F),A&&(S.nr=h(G))}function f(){S.w=P.outerWidth(),S.bw=O.width(),S.max=S.bw-S.w}function g(a){return a*S.max/S.bw*100}function h(a){var b=(a-D)/(E-D);return b}function i(b,c){var d,e,f,i,j,k,l;b<D&&(b=D),b>E&&(b=E),F=Math.round((b-D)/B)*B+D,F=parseFloat(F.toFixed(C)),F>E&&(F-=B),d=h(F),P.css("left",g(d)+"%"),A?(c<D&&(c=D),c>E&&(c=E),G=Math.round((c-D)/B)*B+D,G=parseFloat(G.toFixed(C)),G>E&&(G-=B),e=h(G),Q.css({left:g(e)+"%"}),f=Math.min(d,e),i=Math.max(d,e),j=Math.min(F,G),k=Math.max(F,G),P.css("z-index",F+1e4),Q.css("z-index",G+1e4),R.css({left:100*f+"%",width:100*(i-f)+"%"}),M.val(j+","+k),l=[j,k]):(R.css("width",100*d+"%"),M.val(F),l=F),U.change.call(a["public"],l)}function j(){return T||(f(),I.both?i(F,G):i(F),e(),T=!0,L.addClass("on"),N.addClass(t+"ctrl-power-on"),H.on(),U.open.call(a["public"])),a["public"]}function k(){return T&&(T=!1,L.removeClass("on"),N.removeClass(t+"ctrl-power-on"),H.off(),U.close.call(a["public"])),a["public"]}function l(){return T?k():j(),a["public"]}function n(b,c){if(void 0!==b)return b=d(void 0!==c?[b,c].join(","):ka.isArray(b)?b.join(","):b),i(b[0],b[1]),a["public"];if(A){var e=Math.min(F,G),f=Math.max(F,G);return[e,f]}return F}function o(b){return U.open=b,a["public"]}function p(b){return U.close=b,a["public"]}function q(b){return U.change=b,a["public"]}function r(a,b){var c=a*S.max+b,d=null;return c<0&&(c=0),c>S.max&&(c=S.max),d=parseFloat(((E-D)*c/S.max+D).toFixed(C)),d=isNaN(d)?D:d}function s(a){I.both?i(r(S.nl,a.x),G):i(r(S.nl,a.x))}function u(){S.nl=h(F)}function v(a){i(F,r(S.nr,a.x))}function w(){S.nr=h(G)}function x(){ja.ctrlClose.fire(L),j()}function y(){var a=d(M.val());f(),i(a[0],a[1]),e()}function z(){oa(N).setTap(l),oa(P,{stopPropagation:!0}).setDown(f).setPan(s).setUp(u),oa(Q,{stopPropagation:!0}).setDown(f).setPan(v).setUp(w),H=qa({autoOn:!1}).add(W.ENTER,function(){M.blur()}),ja.pageResize.add(function(){f(),i(F,G)}),M.on("focus",x).on("blur",y)}var A,B,C,D,E,F,G,H,I=a.getOptions([["both","isBoth"],"min","max","value","step"],function(a){var b;B=parseFloat(a.step),(isNaN(B)||0===B)&&(B=1),D=parseFloat(a.min),isNaN(D)&&(D=0),E=parseFloat(a.max),isNaN(E)&&(E=100),b=d(a.value),F=b[0],G=b[1],A=m(a.both,!1),D>E&&(E=D),C=B.toString().indexOf(ca)>-1?B.toString().split(ca)[1].length:0}),J='<input type="text" maxlength="20" class="ud2-ctrl-textbox" /><div class="ud2-ctrl-power"><i class="ico ico-range-x"></i><i class="ico ico-solid-cancel"></i></div><div class="'+b+'-list"><div class="'+b+'-end" /><div class="'+b+'-back" /></div>',K=a.current,L=K.html(J),M=L.children("input"),N=M.next(),O=N.next(),P=ea.clone().addClass(b+"-hand"),Q=ea.clone().addClass(b+"-hand"),R=O.find(ca+b+"-back"),S={max:0,bw:0,w:0,nl:0,nr:0},T=!1,U={open:fa,close:fa,change:fa};return function(){R.after(P),A&&R.after(Q),a.origin.length&&(a.origin.after(L),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:M,attrReg:"name|tabindex"})),a.autoClose=k,e(),f(),i(F,G),z()}(),c(a["public"],{val:n,open:j,close:k,toggle:l,setOpen:o,setClose:p,setChange:q})}}),xa("date",function(a){var d=a.className,e=["上一年","下一年","上个月","下个月","前12年","后12年","年份选择","返回日期选择"],f=["日","一","二","三","四","五","六"],g=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],h=[31,28,31,30,31,30,31,31,30,31,30,31],i=new Date;a.init=function(a){function j(a){var b,c,d,e=function(a){var b=D.replace(/([\\\^\$\*\+\?\{\}\(\)\.\-\=\[\]])/g,"\\$1").replace(/[Yy]{4}/,0===a?"([0-9]{4})":"[0-9]{4}").replace(/[Yy]{2}/,1===a?"([0-9]{2})":"[0-9]{2}").replace(/[Mm]{2}/,2===a?"(0[1-9]|[1][012])":"(?:0[1-9]|[1][012])").replace(/[Mm]/,3===a?"(1[012]|[1-9])":"(?:1[012]|[1-9])").replace(/[Dd]{2}/,4===a?"(0[1-9]|[12][0-9]|3[01])":"(?:0[1-9]|[12][0-9]|3[01])").replace(/[Dd]/,5===a?"([12][0-9]|3[01]|[1-9])":"(?:[12][0-9]|3[01]|[1-9])");return new RegExp(b)},f=function(b){var c;return c=e(2*b).exec(a),c=c&&c[1],c||(c=e(2*b+1).exec(a),c=c&&c[1]),parseInt(c)};if(a){if(e().test(a))b=f(0)||G.now.getFullYear(),c=f(1)||1,d=f(2)||1,b<100&&(b+=2e3);else{var g=new Date(a);isNaN(g)?(b=G.now.getFullYear(),c=G.now.getMonth()+1,d=G.now.getDate()):(b=g.getFullYear(),c=g.getMonth()+1,d=g.getDate())}G.setDateValue(b,c-1,d),G.selectReset()}else G.setDateValue(),G.selectReset()}function k(){var a=J.find(ca+d+"-tools a");l(),oa(a.eq(0)).setTap(function(){G.select.setFullYear(G.select.getFullYear()-1),l()}),oa(a.eq(3)).setTap(function(){G.select.setFullYear(G.select.getFullYear()+1),l()}),oa(a.eq(1)).setTap(function(){G.select.setMonth(G.select.getMonth()-1),l()}),oa(a.eq(2)).setTap(function(){G.select.setMonth(G.select.getMonth()+1),l()}),oa(O).setTap(function(){M.slideUp(300),N.slideDown(300),n()}),oa(Q).setTap(function(){G.setDateValue(G.now.getFullYear(),G.now.getMonth(),G.now.getDate()),G.selectReset(),u(1)}),oa(R).setTap(function(){G.setDateValue(),G.selectReset(),u(1)})}function l(){var a,b,c,e=M.children("table"),g=M.find(ca+d+"-tools-text"),i=[],j=G.select.getFullYear()%4===0,k=G.select.getMonth()-1<0?11:G.select.getMonth()-1,l=h[G.select.getMonth()],m=h[k],n=new Date(G.select.getFullYear(),G.select.getMonth(),1).getDay();g.html(G.select.getFullYear()+" 年 "+(G.select.getMonth()+1)+" 月"),j&&1===G.select.getMonth()&&(l=29),j&&2===G.select.getMonth()&&(m=29),i.push("<tr>");for(a in f)i.push("<th>"+f[a]+"</th>");for(i.push("</tr><tr>"),a=0,b=-1,c=0;a<42;a++)a<n?(b++,i.push('<td class="',d,'-nomonth">',m-n+a+1,"</td>")):a-b<=l?i.push('<td class="',(a+1)%7===0||(a+1)%7===1?d+"-weekend":"",'" ',d,'-date="',a-b,'" ',G.select.getFullYear()===G.now.getFullYear()&&G.select.getMonth()===G.now.getMonth()&&G.now.getDate()===a-b?d+"-today ":"",G.value&&G.select.getFullYear()===G.value.getFullYear()&&G.select.getMonth()===G.value.getMonth()&&G.value.getDate()===a-b?d+"-now ":"",">",a-b,"</td>"):(c++,i.push('<td class="',d,'-nomonth">',c,"</td>")),(a+1)%7===0&&i.push("</tr><tr>");e.children().remove(),e.append(i.join("")),oa(e.find("["+d+"-date]")).setTap(function(){G.setDateValue(G.select.getFullYear(),G.select.getMonth(),this.attr(d+"-date")),K.blur(),u(1)})}function m(){var a=N.find(ca+d+"-tools a"),b=N.find(ca+d+"-btns button");n(),oa(a.eq(0)).setTap(function(){G.select.setFullYear(G.select.getFullYear()-12),n()}),oa(a.eq(1)).setTap(function(){G.select.setFullYear(G.select.getFullYear()+12),n()}),oa(b.eq(0)).setTap(function(){M.slideDown(300),N.slideUp(300),l()}),oa(P).setTap(function(){M.slideDown(300),N.slideUp(300),l()})}function n(){var a,b=N.children("table"),c=[],e=0,f=d+"-year",h="["+f+"]",i=d+"-month",j="["+i+"]",k=d+"-now";for(e=G.select.getFullYear()%12===0?G.select.getFullYear()-11:12*parseInt(G.select.getFullYear()/12)+1,c.push("<tr><td>"),a=0;a<12;a++)c.push("<div ",d,'-year="',e+a,'" ',G.select.getFullYear()===e+a?k:"",">",e+a,"</div>");for(c.push("</td><td>"),a=0;a<12;a++)c.push("<div ",d,'-month="',a,'" ',G.select.getMonth()===a?k:"",">",g[a],"</div>");c.push("</td></tr>"),b.children().remove(),b.append(c.join("")),oa(b.find(h)).setTap(function(){G.select.setFullYear(this.attr(f)),b.find(h).removeAttr(k),this.attr(k,"")}),oa(b.find(j)).setTap(function(){G.select.setMonth(this.attr(i)),b.find(j).removeAttr(k),this.attr(k,"")})}function o(a){C=a,K.attr("placeholder",C)}function p(a){D=a,G.setDateValue(G.value)}function q(b){return ka.isString(b)?(o(b),a["public"]):C}function r(b){return ka.isString(b)?(p(b),a["public"]):D}function s(){return S||(S=!0,J.addClass("on"),L.addClass(t+"ctrl-power-on"),M.show(),N.hide(),F.on(),T.open.call(a["public"])),a["public"]}function u(b){var c;return S&&(S=!1,J.removeClass("on"),L.removeClass(t+"ctrl-power-on"),b||(c=K.val(),""===c?j():j(c)),l(),F.off(),T.close.call(a["public"])),a["public"]}function v(){return S?u():s(),a["public"]}function w(b){return void 0!==b?(j(b),a["public"]):E}function x(b){return T.open=b,a["public"]}function y(b){return T.close=b,a["public"]}function z(b){return T.change=b,a["public"]}function A(){ja.ctrlClose.fire(J),s()}function B(){oa(L).setTap(v),F=qa({autoOn:!1}).add(W.ENTER,function(){K.blur(),u()}).add(W.LEFT,function(){null!==G.value&&j(G.value.setDate(G.value.getDate()-1))}).add(W.RIGHT,function(){null!==G.value&&j(G.value.setDate(G.value.getDate()+1))}).add(W.UP,function(){null!==G.value&&j(G.value.setDate(G.value.getDate()-7))}).add(W.DOWN,function(){null!==G.value&&j(G.value.setDate(G.value.getDate()+7))}),K.on("focus",A)}var C,D,E,F,G=(a.getOptions(["placeholder","format","value"],function(a){C=a.placeholder||"请选择日期",D=a.format||"yyyy/MM/dd",E=a.value||null}),{seats:function(a){return(1===a.toString().length?"0":"")+a},toString:function(){var a=D.replace(/[Yy]{4}/,this.value.getFullYear()).replace(/[Yy]{2}/,this.value.getFullYear()-2e3).replace(/[Mm]{2}/,this.seats(this.value.getMonth()+1)).replace(/[Mm]/,this.value.getMonth()+1).replace(/[Dd]{2}/,this.seats(this.value.getDate())).replace(/[Dd]/,this.value.getDate());return a},setDateValue:function(b,c,d){var e=E;b instanceof Date?(this.value=new Date(b.getTime()),E=this.toString()):3===arguments.length?(this.value=new Date(b,c,d),E=this.toString()):(this.value=null,E=""),K.val(E),e!==E&&T.change.call(a["public"],E)},selectReset:function(){this.select=new Date(this.value?this.value.getTime():this.now.getTime()),l()},now:new Date(i.getTime()),select:new Date(i.getTime()),value:null}),H='<input type="text" placeholder="'+C+'" maxlength="20" class="ud2-ctrl-textbox" /><span class="ud2-ctrl-power"><i class="ico ico-calendar"></i><i class="ico ico-solid-cancel"></i></span><div class="'+d+'-list"><div class="'+d+'-datelist"><div class="'+d+'-tools"><div class="'+d+'-tools-left"><a class="ico" title="'+e[0]+'">&#xec00;</a><a class="ico" title="'+e[2]+'">&#xec01;</a></div><div class="'+d+'-tools-right"><a class="ico" title="'+e[3]+'">&#xec02;</a><a class="ico" title="'+e[1]+'">&#xec03;</a></div><div class="'+d+'-tools-text" title="'+e[6]+'">- 年 - 月</div></div><table /><div class="'+d+'-btns"><button class="btn sm" tabindex="-1">今日</button> <button class="btn sm" tabindex="-1">清空</button></div></div><div class="'+d+'-ymlist"><div class="'+d+'-tools"><div class="'+d+'-tools-left"><a class="ico" title="'+e[4]+'">&#xec00;</a></div><div class="'+d+'-tools-right"><a class="ico" title="'+e[5]+'">&#xec03;</a></div><div class="'+d+'-tools-text" title="'+e[7]+'">年份 / 月份</div></div><table /><div class="'+d+'-btns"><button class="btn sm" tabindex="-1">确定</button></div></div></div>',I=a.current,J=I.html(H),K=J.children("input"),L=K.next(),M=J.find(ca+d+"-datelist"),N=J.find(ca+d+"-ymlist"),O=J.find(ca+d+"-tools-text"),P=N.find(ca+d+"-tools-text"),Q=M.find(ca+d+"-btns button:eq(0)"),R=M.find(ca+d+"-btns button:eq(1)"),S=!1,T={open:b.noop,close:b.noop,change:b.noop};return function(){a.origin.length&&(a.origin.after(J),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:K,attrReg:"name|tabindex"})),a.autoClose=u,j(E),k(),m(),B()}(),c(a["public"],{placeholder:q,format:r,val:w,open:s,close:u,toggle:v,setOpen:x,setClose:y,setChange:z})}}),xa("file",function(d,e){var f=d.className,g="length-error",h="type-error",i="size-error",k="repeat-error",n="server-error",o="server-return-error";e.style=l(Y,X),d.init=function(a){function d(a){for(var b,c=0,d=a.length;c<d;c++)if(b=a[c].name.split(ca),b=b[b.length-1].toLowerCase(),!b||void 0===U[b])return!1;return!0}function f(b){var c=0,e=b.length;if(e+da.length>Q)ja.error.call(a["public"],g);else if(d(b)){for(var f=[],j=[],l=0;c<e;c++)b[c].size>1024*R?f.push(b[c].name):da.some(function(a){return a.name===b[c].name&&a.size===b[c].size})?j.push(b[c].name):(da.push(b[c]),ia.add(b[c]),l++);j.length>0&&ja.error.call(a["public"],k,j),f.length>0&&ja.error.call(a["public"],i,f)}else ja.error.call(a["public"],h)}function l(c){var d=new FormData,e=V;d.append("file",c),S&&(e+="?name="+c.newname+"&tick="+(new Date).getTime()),b.ajax({type:"POST",url:e,data:d,contentType:!1,processData:!1,xhr:function(){var a=b.ajaxSettings.xhr();return a.upload&&a.upload.addEventListener("progress",function(a){var b=parseInt(a.loaded/a.total*100);ia.progress(c,b)},!1),a}}).done(function(b){var d;p(),d=ja.done.call(a["public"],b,c),void 0===d&&(d=!0),d||(q(),ja.error.call(ctrl["public"],o,c.name)),ia.done(d,c),u()===da.length&&(ea=2,ja.complete.call(a["public"]))}).fail(function(b){p(),q(),ja.fail.call(a["public"],b,c),ia.fail(c),ja.error.call(ctrl["public"],n,c.name),u()===da.length&&(ea=2,ja.complete.call(a["public"]))})}function p(){fa++}function q(){ga++}function r(){return aa}function s(){return{state:S,length:T}}function t(){return da}function u(){return fa}function v(){return ga}function w(){return ea}function x(a){return a=j(a),oa(a,{stopPropagation:!0}).setTap(function(){0===ea&&ba.trigger("click")}),ha}function y(a,b){return a=j(a),oa(a,{stopPropagation:!0}).setTap(function(){0===ea&&ia.remove.call(this,b)}),ha}function z(a){return a=j(a),oa(a,{stopPropagation:!0}).setTap(function(){var a,b,c;if(0===ea&&0!==da.length){for(ea=1,a=new FormData,b=0,c=da.length;b<c;b++)l(da[b]);ia.upload.call(this)}}),ha}function A(a){return a=j(a),oa(a,{stopPropagation:!0}).setTap(function(){0===ea&&(da.length=0,ia.clear.call(this))}),ha}function B(a){return ia.add=a,ha}function C(a){return ia.remove=a,ha}function D(a){return ia.upload=a,ha}function E(a){return ia.clear=a,ha}function F(a){return ia.progress=a,ha}function G(a){return ia.done=a,ha}function H(a){return ia.fail=a,ha}function I(b){return ja.error=b,a["public"]}function J(b){return ja.complete=b,a["public"]}function K(b){return ja.done=b,a["public"]}function L(b){return ja.fail=b,a["public"]}function M(){f(this.files),N()}function N(){var a;""!==ba.val()&&("form"!==ba.parent().get(0).nodeName.toLowerCase()&&(a=b("<form />"),ba.wrap(a)),a=ba.parent(),a.get(0).reset())}function O(){ba.on("change",M)}function P(){c(a["public"],{style:c(ha,{filesHandler:f,fileAddBtn:x,fileRemoveBtn:y,uploadBtn:z,clearBtn:A,fileAddFn:B,fileRemoveFn:C,uploadFn:D,clearFn:E,progressFn:F,doneFn:G,failFn:H}),getContent:r,getUpState:w,getRenameState:s,getUpfiles:t,getDoneNum:u,getErrorNum:v,setError:I,setComplete:J,setDone:K,setFail:L})}var Q,R,S,T,U,V,W,$=(a.getOptions(["maxlength","maxsize",["rename","isRename"],"renamLength","urlUpload","filter","style"],function(a){var b,c,d="(png|jpg|gif|bmp|svg|ico|html|js|cs|vb|css|less|scss|sass|mp3|mp4|wav|avi|ogg|mov|wmv|webm|flv|swf|txt|pdf|doc|docx|xls|xlsx|ppt|pptx|ett|wpt|dpt|rar|zip|iso)",e=new RegExp("^("+d+",)*"+d+"$");for(Q=parseInt(a.maxlength)||20,R=parseInt(a.maxsize)||2048,S=m(a.rename,!0),T=parseInt(a.renameLength)||50,U=a.filter||"",U=e.test(U)?U:"gif,jpg,png",U="all"===U?e.split("|"):U.split(","),c=U.length,b=0;b<c;b++)U[U[b]]=U[b];V=a.urlUpload||"",W=a.style,W!==Y&&W!==X&&W!==Z&&(W=Y)}),'<input type="file" multiple />'),_=a.current,aa=_.html($),ba=aa.children("input"),da=[],ea=0,fa=0,ga=0,ha={},ia={add:b.noop,remove:b.noop,upload:b.noop,clear:b.noop,progress:b.noop,done:b.noop,fail:b.noop},ja={error:function(a,b){switch(a){case g:ta.message.danger("您选择的文件数量已经超过最大个数限制，该限制为 "+Q+" 个");break;case h:ta.message.danger("您选择的文件类型不符合要求，请您重新选择文件");break;case i:ta.message.danger("您选择的文件超出 "+R+"KB 限制，尺寸不符的文件："+b.join("、"));break;case k:ta.message.warning("您选择的文件已存在于列表中，重复的文件："+b.join("、"));break;case n:ta.message.danger("您的文件 "+b+" 已被阻止，请检查您的文件");break;case o:ta.message.danger("文件 "+b+" 被服务器退回，请检查您的文件是否符合要求")}},complete:b.noop,done:b.noop,fail:b.fail};return function(){a.origin.length&&(a.origin.after(aa),a.origin.remove(),a.transferStyles(),a.transferAttrs({accept:ba,attrReg:"name|tabindex"})),O(),P(),W===Y&&e.standard(a["public"])}(),a["public"]},e.standard=function(c){function d(c){var d,e=b('<div class="'+f+'-full-figure"><div class="'+f+'-full-img"><img ondragstart="return false;" /></div>'+(v.state?'<div class="'+f+'-full-rename"><input type="text" value="'+c.name.substring(0,v.length)+'" maxlength="'+v.length+'" /></div>':"<div>"+c.name+"</div>")+'<div class="'+f+'-full-close"></div><div class="'+f+'-full-progress"></div></div>'),g=e.find("input"),h=e.children(ca+f+"-full-close");1===w.length&&(p.fadeOut(200),r.fadeIn(200),s.fadeIn(200)),/^image\/(png|jpeg|gif|bmp|svg)/.test(c.type)?(d=new FileReader,d.readAsDataURL(c),d.addEventListener("loadend",function(){e.find("img").attr("src",d.result)})):(e.find("img").attr("src","data:image/svg+xml;base64,77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDEzOCAxMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEzOCAxMTg7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnB7ZmlsbDojZmZmO30NCjwvc3R5bGU+DQoJPHBhdGggY2xhc3M9InAiIGQ9Ik05MS42LDQzLjJjLTEuMi0xLjctMy0zLjctNC45LTUuNmMtMS45LTEuOS0zLjktMy42LTUuNi00LjljLTIuOS0yLjEtNC4zLTIuNC01LjEtMi40SDQ4LjUNCgkJYy0yLjUsMC00LjUsMi00LjUsNC41djQ4LjJjMCwyLjUsMiw0LjUsNC41LDQuNWg0MS4xYzIuNSwwLDQuNS0yLDQuNS00LjVWNDguM0M5NCw0Ny41LDkzLjgsNDYuMSw5MS42LDQzLjJ6IE04NC4zLDQwLjINCgkJYzEuNywxLjcsMy4xLDMuMyw0LjEsNC41aC04LjZ2LTguNkM4MSwzNy4xLDgyLjUsMzguNSw4NC4zLDQwLjJMODQuMyw0MC4yeiBNOTAuNCw4My4xYzAsMC41LTAuNCwwLjktMC45LDAuOUg0OC41DQoJCWMtMC41LDAtMC45LTAuNC0wLjktMC45VjM0LjljMC0wLjUsMC40LTAuOSwwLjktMC45YzAsMCwyNy43LDAsMjcuNywwdjEyLjVjMCwxLDAuOCwxLjgsMS44LDEuOGgxMi41VjgzLjF6Ii8+DQoJPHBhdGggY2xhc3M9InAiIGQ9Ik04MS41LDc2LjloLTI1Yy0xLDAtMS44LTAuOC0xLjgtMS44YzAtMSwwLjgtMS44LDEuOC0xLjhoMjVjMSwwLDEuOCwwLjgsMS44LDEuOA0KCQlDODMuMyw3Ni4xLDgyLjUsNzYuOSw4MS41LDc2Ljl6Ii8+DQoJPHBhdGggY2xhc3M9InAiIGQ9Ik04MS41LDY5LjdoLTI1Yy0xLDAtMS44LTAuOC0xLjgtMS44YzAtMSwwLjgtMS44LDEuOC0xLjhoMjVjMSwwLDEuOCwwLjgsMS44LDEuOA0KCQlDODMuMyw2OC45LDgyLjUsNjkuNyw4MS41LDY5Ljd6Ii8+DQoJPHBhdGggY2xhc3M9InAiIGQ9Ik04MS41LDYyLjZoLTI1Yy0xLDAtMS44LTAuOC0xLjgtMS44YzAtMSwwLjgtMS44LDEuOC0xLjhoMjVjMSwwLDEuOCwwLjgsMS44LDEuOA0KCQlDODMuMyw2MS44LDgyLjUsNjIuNiw4MS41LDYyLjZ6Ii8+DQo8L3N2Zz4="),e.find("img").css("background","#3f99d5")),e.data("file",c),c.element=e,x.fileRemoveBtn(h,c),v.state&&(c.newname=c.name,g.on(N,function(a){a.preventDefault(),b(this).select()}).on("blur",function(){c.newname=b(this).val();
})),u.before(e),a.setTimeout(function(){e.addClass(f+"-full-figure-on")},150)}function g(b){var c=w.indexOf(b);w.splice(c,1),b.element.removeClass(f+"-full-figure-on"),a.setTimeout(function(){b.element.remove()},100),0===w.length&&(p.show(),r.hide(),s.hide())}function h(){r.children().not("["+f+"-add]").remove(),p.show(),r.hide(),s.hide()}function i(a,b){var c=a.element.find(ca+f+"-full-progress");c.css("width",b+"%"),c.html(b+"%")}function j(a){r.find("["+f+"-add]").hide(),r.find(ca+f+"-full-close").hide(),r.find(ca+f+"-full-figure input").attr("readonly","readonly"),s.html("文件开始上传...")}function k(a,b){a?b.element.addClass("success"):b.element.addClass("fail"),m()}function l(){file.element.addClass("fail"),m()}function m(){c.getDoneNum()===w.length?s.html('<span class="c-success">全部文件已上传完毕，共 '+c.getDoneNum()+" 个"+(0!==c.getErrorNum()?"，失败 "+c.getErrorNum()+" 个":"")+"</span>"):s.html("已上传文件 "+c.getDoneNum()+" 个"+(0!==c.getErrorNum()?"，失败 "+c.getErrorNum()+" 个":""))}function n(){o.on("dragenter",function(){0===c.getUpState()&&o.addClass("ud2-file-full-dragenter")}),q.on("dragleave",function(){0===c.getUpState()&&o.removeClass("ud2-file-full-dragenter")}).on("dragover",function(a){0===c.getUpState()&&(a.preventDefault(),o.addClass("ud2-file-full-dragenter"))}).on("drop",function(a){if(0===c.getUpState()){a.preventDefault(),a=a.originalEvent;var b=a.dataTransfer&&a.dataTransfer.files||a.target&&a.target.files;x.filesHandler(b),o.removeClass("ud2-file-full-dragenter")}})}var o,p,q,r,s,t,u,v,w,x;return c&&c.type&&"file"===c.type?(function(){x=c.style,v=c.getRenameState(),w=c.getUpfiles(),o=da.clone().addClass(f+"-full"),p=b('<div class="'+f+'-full-nofile"><button class="btn btn-solid c-blue" ud2-file-add><i class="ico ico-group-file"></i> 添加文件</button><em>拖拽文件上传 / 长按CTRL键可多选上传</em></div>'),q=b('<div class="'+f+'-full-drag">请松开鼠标按钮，文件将进入待上传队列</div>'),r=b('<div class="'+f+'-full-list"><div class="'+f+'-full-add" ud2-file-add><div><i class="ico ico-hollow-plus"></i><em>继续添加文件</em></div></div></div>'),s=b('<div class="'+f+'-full-tools"><button class="btn btn-solid">确定上传</button><button class="btn btn-solid">清空列表</button></div>'),o.append(r).append(p).append(q).append(s),t=o.find("["+f+"-add]"),u=r.find("["+f+"-add]"),c.getContent().append(o),x.fileAddBtn(t).uploadBtn(s.children().eq(0)).clearBtn(s.children().eq(1)).fileAddFn(d).fileRemoveFn(g).clearFn(h).progressFn(i).uploadFn(j).doneFn(k).failFn(l),n()}(),delete c.style,c):ta.file.create.apply(e,arguments)}}),function(){q.ready(function(){n=b("body"),na.safari&&o.body.addEventListener("touchstart",b.noop),ja.pageReady.fire(),ia=!0,q.on(N,function(a){var b="ctrlCloseEvent",c=a.type,d=q.data(b);d&&c!==d||(q.data(b,c),ja.ctrlClose.fire(a.target)),"mousedown"===c&&q.data(b,null)}),q.on(N,".message:not([ud2]) .message-close",function(){b(this).parent().remove()})}),p.on("resize orientationchange",function(){ja.pageResize.fire()}),q.on("keydown",function(a){ja.keyDown.fire(a,a.keyCode,a.ctrlKey,a.altKey,a.shiftKey)}).on("keyup",function(a){ja.keyUp.fire(a,a.keyCode,a.ctrlKey,a.altKey,a.shiftKey)}),ja.pageReady.add(ta.createAllControl)}(),c(ta,{extend:c,propertier:d,creater:wa,controlCreater:xa,type:ka,convert:la,form:ma,support:na,style:ra,color:sa,common:{key:W,regex:u},event:oa,eventMouseWheel:pa,eventKeyShortcut:qa,scroll:za})}(window,jQuery);!function(){var a=ud2.creater("dataTable",function(a){var c=[],d=[],e={};return function(){a=a||"",b.push(e),a&&(b[a]=e)}(),ud2.extend(e,{columns:c,rows:d})}),b=[],c={string:"string",number:"number","boolean":"boolean",datetime:"datetime"};ud2.creater("column",function(a){!a&&(a={});var b={},d=a.dataType||c.string,e=void 0===a.allowNull||!!a.allowNull,f=a.defaultValue||null,g=a.readonly||!1,h=a.maxLength||-1,i=ud2.propertier(function(){return d},function(a){return a&&c[a]&&(d=c[a]),b}),j=ud2.propertier(function(){return e},function(a){return e=!!a,b}),k=ud2.propertier(function(){return g},function(a){return g=!!a,b});ud2.propertier(function(){return f},function(a){return(d===c.string&&ud2.type.isString(a)||d===c["boolean"]&&ud2.type.isBoolean(a)||d===c.number&&ud2.type.isNumber(a)||d===c.datetime&&ud2.type.isDatetime(a))&&(d===c.string&&f.length>h&&(f=f.substring(0,h)),f=a),b});return ud2.extend(b,{type:i,allowNull:j,readonly:k})},a),ud2.creater("row",function(){},a),a.type=c,a.collection=b}();